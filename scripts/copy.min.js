window.CIOC={};
(function(b,a){a.do_drop_down_navigation=function(){for(var c=b.getElementById("ActionList").options,d=0;d<c.length;d++)if(c[d].selected){var e=c[d].getAttribute("href");e&&("undefined"!=typeof c[d].attributes.newwindow?a.open(e):a.location.href=e);break}};jQuery(function(c){c("[data-toggle=dialog]").each(function(){var d=c(this),e=c(d.data("target")),f={autoOpen:!1,title:e.data("title"),modal:e.data("modal")};e.dialog(f);d.click(function(){e.dialog("isOpen")?e.dialog("close"):e.dialog("open")})})})})(document,window);
function CheckAll(b,a){b||="IDList";var c=a;a||(c=document.RecordList);a=c.elements.length;for(var d=0;d<a;d++){var e=c.elements[d];e.name===b&&(e.checked=!0)}}function ClearAll(b,a){b||="IDList";var c=a;a||(c=document.RecordList);a=c.elements.length;for(var d=0;d<a;d++){var e=c.elements[d];e.name===b&&(e.checked=!1)}}function add_class(b,a){b&&!(new RegExp("\\b"+a+"\\b")).test(b.className)&&(b.className&&(a=" "+a),b.className+=a)}
function remove_class(b,a){if(b){for(var c=b.className.split(" "),d=[],e=0;e<c.length;e++){var f=c[e];f!==a&&d.push(f)}b.className=d.join(" ")}}function hide(b){add_class(b,"NotVisible")}function show(b){remove_class(b,"NotVisible")}function openWin(b,a){window.open(b,a,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(b,a){window.open(b,a,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(b,a){window.open(b,a,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(b){var a={sm:openWin,lg:openWinL,xl:openWinXL};b(document).on("click","a.poplink",function(){var c=b(this).data("popargs");(a[c.size||"sm"]||openWin)(this.href,c.name||"popwin");return!1})});
(function(){var b=jQuery,a={},c=function(g){null!==g&&"undefined"!==typeof g?b("#myListCount").text(g):(g=b("#myListCount").text())&&(g=parseInt(g,10));g?a.myListLink.show():a.myListLink.hide()},d=function(g){b.each(g,function(m,q){b("#added_to_list_"+q).show();b("#add_to_list_"+q).hide()})},e=function(g){return function(m){m.fail?alert(m.errinfo):(m.ids?c(b.grep(m.ids,h[a.domain]).length):m.count?c(m.count):c(0),d([g]))}},f=function(g){g=b(g.currentTarget).data("id");b.ajax({success:e(g),dataType:"json",
error:function(){alert("Error")},data:{id:g},type:"POST",url:a.current_list_url})},k=function(g){return function(m){if(m.fail)alert(m.errinfo);else{m=!0;if(g){var q=b("#results_table #remove_from_list_"+g);q.length?q.parent().parent().remove():(m=!1,q=b("#results_container #remove_from_list_"+g),q.parents(".dlist-result").remove())}(m?1!==b("#results_table tr").length:0!==b("#results_container .dlist-result").length)&&g||(b("#records_ui").hide(),b("#no_records_message").show())}}},l=function(g){g=
b(g.currentTarget).data("id");b.ajax({success:k(g),dataType:"json",error:function(){alert("Error")},data:{ID:g,RemoveItem:a.domain},type:"POST",url:a.current_list_url})},n=function(g){b.ajax({success:k(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:a.domain},type:"POST",url:a.current_list_url})},h={CIC:function(g){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(g)},VOL:function(g){return/^[1-9][0-9]*$/.test(g)}},t=function(g){if(g.fail)w();else if(g.inrequest){var m=b.grep(g.ids,
h[a.domain]);d(m);c(m.length);(g=g.previous_ids)&&b.each(g,function(q,x){b("#ct_added_to_previous_request_"+x).show()});b(".ListUI img").prop("src",function(q,x){return x.replace("list","referral")});b("#list_header_text").hide();b("#ct_header_text").show();a.current_list_url=a.ct_update_url;p()}else w()},w=function(){var g=function(){a.list_view_mode||d(a.already_added||[]);a.current_list_url=a.list_view_mode&&"ct"===a.list_view_mode?a.ct_update_url:a.list_update_url;c((a.already_added||[]).length);
p()};a.list_view_mode||a.has_session?g():b.ajax({dataType:"json",error:null,url:a.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(m){m.has_session&&g()}})},p=function(){b(".HideListUI").delegate(".add_to_list","click",f).delegate(".remove_from_list","click",l).removeClass("HideListUI");b("#remove_all_from_list").click(n);b.browser.msie&&"8.0">b.browser.msie&&b(".ListUI").removeClass("FixIE")};window.init_list_adder=function(g){a=g;a.myListLink=b("#myListLink").parent(":hidden").add("#myListLink");
g.in_request?b.ajax({success:t,dataType:"json",error:null,type:"POST",url:g.in_request}):w()}})();this.JSON||(this.JSON={});
(function(){function b(h){return 10>h?"0"+h:h}function a(h){e.lastIndex=0;return e.test(h)?'"'+h.replace(e,function(t){var w=l[t];return"string"===typeof w?w:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function c(h,t){var w=f,p=t[h];p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(h));"function"===typeof n&&(p=n.call(t,h,p));switch(typeof p){case "string":return a(p);case "number":return isFinite(p)?String(p):"null";case "boolean":case "null":return String(p);
case "object":if(!p)return"null";f+=k;var g=[];if("[object Array]"===Object.prototype.toString.apply(p)){var m=p.length;for(h=0;h<m;h+=1)g[h]=c(h,p)||"null";t=0===g.length?"[]":f?"[\n"+f+g.join(",\n"+f)+"\n"+w+"]":"["+g.join(",")+"]";f=w;return t}if(n&&"object"===typeof n)for(m=n.length,h=0;h<m;h+=1){var q=n[h];"string"===typeof q&&(t=c(q,p))&&g.push(a(q)+(f?": ":":")+t)}else for(q in p)Object.hasOwnProperty.call(p,q)&&(t=c(q,p))&&g.push(a(q)+(f?": ":":")+t);t=0===g.length?"{}":f?"{\n"+f+g.join(",\n"+
f)+"\n"+w+"}":"{"+g.join(",")+"}";f=w;return t}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(h){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(h){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,k,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof JSON.stringify&&(JSON.stringify=function(h,t,w){var p;k=f="";if("number"===typeof w)for(p=0;p<w;p+=1)k+=" ";else"string"===typeof w&&(k=w);if((n=t)&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw Error("JSON.stringify");return c("",{"":h})});
"function"!==typeof JSON.parse&&(JSON.parse=function(h,t){function w(p,g){var m,q=p[g];if(q&&"object"===typeof q)for(m in q)if(Object.hasOwnProperty.call(q,m)){var x=w(q,m);void 0!==x?q[m]=x:delete q[m]}return t.call(p,g,q)}h=String(h);d.lastIndex=0;d.test(h)&&(h=h.replace(d,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+h+")"),"function"===typeof t?w({"":h},""):h;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(b){var a={};jQuery(b).find("input,select,textarea").each(function(c){if(this.name)if(a[this.name]||(a[this.name]=[]),"select"===this.nodeName.toLowerCase()){var d=a[this.name];$(this).find("option").each(function(e){this.selected&&d.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&a[this.name].push(this.value||"")});return a};window.restore_form_values=function(b,a){var c=jQuery;c(b).find("input,select,textarea").each(function(d){if(this.name){var e=
a[this.name];"undefined"!=typeof e&&null!==e&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?c(this).find("option").each(function(f){this.selected=1<e.length?0<=c.inArray(this.value,e):0===e.length?!1:this.value===e[0]}):this.value=e.length?e[0]:"":this.checked=1<e.length?0<=c.inArray(this.value,e):0===e.length?!1:this.value===e[0])}})};window.init_cached_state=function(b){var a=jQuery;b=b||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];a(window).on("beforeunload",function(){var c={form_values:get_form_values(b)};a.each(onbeforeunload_fns,function(d,e){e(c)});document.getElementById("cache_form_values").value=JSON.stringify(c)});window.cache_register_onbeforeunload=function(c){onbeforeunload_fns.push(c)};window.cache_register_onbeforerestorevalues=function(c){onbeforerestorevalues_fns.push(c)};window.restore_cached_state=function(){var c=document.getElementById("cache_form_values");if(c&&c.value){var d=
JSON.parse(c.value);a.each(onbeforerestorevalues_fns,function(e,f){f(d)});restore_form_values(b,d.form_values)}}}})();
(function(){var b=jQuery,a={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},c={"en-CA":!0,"":!0},d={},e={"fr-CA":"fr","es-MX":"es"},f=function(){var l=b(this),n=l.data("culture"),h=a[n]||b.datepicker.regional[n].dateFormat,t={};l.hasClass("NoYear")&&(h=h.replace(/[\- .\/]*yy[\/]?/,""),t={beforeShow:function(w,
p){p.dpDiv.addClass("NoYearDatePicker")},onClose:function(w,p){p.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});t.dateFormat=h;l.datepicker(b.extend({},b.datepicker.regional[n],t)).prop("autocomplete","off")},k=function(l){b.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+b.ui.version+"/i18n/jquery.ui.datepicker-"+l+".min.js",function(){c[l]=!0;b.each(d[l],function(){f.call(this)});delete d[l]})};b.datepicker.regional["en-CA"]=b.extend({},b.datepicker.regional[""]);b.fn.extend({autodatepicker:function(){return this.each(function(){var l=
b(this);var n=l.parents("[lang]").first().prop("lang")||"en-CA";n=e[n]||n;l.data("culture",n);c[n]?f.call(this):(l=d[n],l||(l=d[n]=[],k(n)),l.push(this))})}});jQuery(function(){b("input.DatePicker").autodatepicker()})})();
(function(b){b.extend(b.fn,{validate:function(a){if(this.length){var c=b.data(this[0],"validator");if(c)return c;this.attr("novalidate","novalidate");c=new b.validator(a,this[0]);b.data(this[0],"validator",c);c.settings.onsubmit&&(a=this.find("input, button"),a.filter(".cancel").click(function(){c.cancelSubmit=!0}),c.settings.submitHandler&&a.filter(":submit").click(function(){c.submitButton=this}),this.submit(function(d){function e(){if(c.settings.submitHandler){if(c.submitButton)var f=b("<input type='hidden'/>").attr("name",
c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm);c.settings.submitHandler.call(c,c.currentForm);c.submitButton&&f.remove();return!1}return!0}c.settings.debug&&d.preventDefault();if(c.cancelSubmit)return c.cancelSubmit=!1,e();if(c.form())return c.pendingRequest?(c.formSubmitted=!0,!1):e();c.focusInvalid();return!1}));return c}a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();
var a=!0,c=b(this[0].form).validate();this.each(function(){a&=c.element(this)});return a},removeAttrs:function(a){var c={},d=this;b.each(a.split(/\s/),function(e,f){c[f]=d.attr(f);d.removeAttr(f)});return c},rules:function(a,c){var d=this[0];if(a){var e=b.data(d.form,"validator").settings,f=e.rules,k=b.validator.staticRules(d);switch(a){case "add":b.extend(k,b.validator.normalizeRule(c));f[d.name]=k;c.messages&&(e.messages[d.name]=b.extend(e.messages[d.name],c.messages));break;case "remove":if(!c)return delete f[d.name],
k;var l={};b.each(c.split(/\s/),function(n,h){l[h]=k[h];delete k[h]});return l}}a=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(d),b.validator.classRules(d),b.validator.attributeRules(d),b.validator.staticRules(d)),d);a.required&&(c=a.required,delete a.required,a=b.extend({required:c},a));return a}});b.extend(b.expr[":"],{blank:function(a){return!b.trim(""+a.value)},filled:function(a){return!!b.trim(""+a.value)},unchecked:function(a){return!a.checked}});b.validator=function(a,c){this.settings=
b.extend(!0,{},b.validator.defaults,a);this.currentForm=c;this.init()};b.validator.format=function(a,c){if(1==arguments.length)return function(){var d=b.makeArray(arguments);d.unshift(a);return b.validator.format.apply(this,d)};2<arguments.length&&c.constructor!=Array&&(c=b.makeArray(arguments).slice(1));c.constructor!=Array&&(c=[c]);b.each(c,function(d,e){a=a.replace(new RegExp("\\{"+d+"\\}","g"),e)});return a};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",
errorElement:"label",focusInvalid:!0,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,c){this.lastActive=a;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,c){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,
c){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a,c){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).addClass(c).removeClass(d):b(a).addClass(c).removeClass(d)},unhighlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).removeClass(c).addClass(d):b(a).removeClass(c).addClass(d)}},setDefaults:function(a){b.extend(b.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:b.validator.format("Please enter no more than {0} characters."),
minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function a(e){var f=b.data(this[0].form,"validator"),k="on"+e.type.replace(/^validate/,
"");f.settings[k]&&f.settings[k].call(f,this[0],e)}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.groups={};b.each(this.settings.groups,function(e,f){b.each(f.split(/\s/),function(k,l){c[l]=e})});var d=
this.settings.rules;b.each(d,function(e,f){d[e]=b.validator.normalizeRule(f)});b(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
a);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,c=this.currentElements=this.elements();c[a];a++)this.check(c[a]);return this.valid()},element:function(a){this.lastElement=
a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=b(a);var c=this.check(a);c?delete this.invalid[a.name]:this.invalid[a.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return c},showErrors:function(a){if(a){b.extend(this.errorMap,a);this.errorList=[];for(var c in a)this.errorList.push({message:a[c],element:this.findByName(c)[0]});this.successList=b.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var c=0,d;for(d in a)c++;return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==
this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&1==b.grep(this.errorList,function(c){return c.element.name==a.name}).length&&a},elements:function(){var a=this,c={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in c||!a.objectLength(b(this).rules())?!1:c[this.name]=!0})},clean:function(a){return b(a)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var c=b(a).rules(),d=!1,e;for(e in c){var f={method:e,parameters:c[e]};try{var k=b.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if("dependency-mismatch"==k)d=!0;else{d=!1;if("pending"==k){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!k)return this.formatAndAdd(a,f),!1}}catch(l){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+
a.id+", check the '"+f.method+"' method",l),l;}}if(!d)return this.objectLength(c)&&this.successList.push(a),!0},customMetaMessage:function(a,c){if(b.metadata)return(a=this.settings.meta?b(a).metadata()[this.settings.meta]:b(a).metadata())&&a.messages&&a.messages[c]},customMessage:function(a,c){return(a=this.settings.messages[a])&&(a.constructor==String?a:a[c])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(a,c){return this.findDefined(this.customMessage(a.name,
c),this.customMetaMessage(a,c),!this.settings.ignoreTitle&&a.title||void 0,b.validator.messages[c],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,c){var d=this.defaultMessage(a,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,a):e.test(d)&&(d=jQuery.format(d.replace(e,"{$1}"),c.parameters));this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){this.settings.wrapper&&(a=
a.add(a.parent(this.settings.wrapper)));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass);this.showLabel(c.element,c.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,c=this.validElements();c[a];a++)this.settings.unhighlight.call(this,
c[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(a,c){var d=this.errorsFor(a);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=b("<"+this.settings.errorElement+
"/>").attr({"for":this.idOrName(a),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,b(a)):d.insertAfter(a)));!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d));this.toShow=this.toShow.add(d)},errorsFor:function(a){var c=
this.idOrName(a);return this.errors().filter(function(){return b(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]);return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var c=this.currentForm;return b(document.getElementsByName(a)).map(function(d,e){return e.form==c&&e.name==a&&e||null})},
getLength:function(a,c){switch(c.nodeName.toLowerCase()){case "select":return b("option:selected",c).length;case "input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return a.length},depend:function(a,c){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,c):!0},dependTypes:{"boolean":function(a,c){return a},string:function(a,c){return!!b(a,c.form).length},"function":function(a,c){return a(c)}},optional:function(a){return!b.validator.methods.required.call(this,
b.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(a,c){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[a.name];c&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(b(this.currentForm).submit(),this.formSubmitted=!1):!c&&0==this.pendingRequest&&this.formSubmitted&&(b(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},
previousValue:function(a){return b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,c){a.constructor==String?this.classRuleSettings[a]=c:b.extend(this.classRuleSettings,a)},classRules:function(a){var c=
{};(a=b(a).attr("class"))&&b.each(a.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(c,b.validator.classRuleSettings[this])});return c},attributeRules:function(a){var c={};a=b(a);for(var d in b.validator.methods){var e;(e="required"===d&&"function"===typeof b.fn.prop?a.prop(d):a.attr(d))?c[d]=e:a[0].getAttribute("type")===d&&(c[d]=!0)}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(a){if(!b.metadata)return{};var c=b.data(a.form,
"validator").settings.meta;return c?b(a).metadata()[c]:b(a).metadata()},staticRules:function(a){var c={},d=b.data(a.form,"validator");d.settings.rules&&(c=b.validator.normalizeRule(d.settings.rules[a.name])||{});return c},normalizeRules:function(a,c){b.each(a,function(d,e){if(!1===e)delete a[d];else if(e.param||e.depends){var f=!0;switch(typeof e.depends){case "string":f=!!b(e.depends,c.form).length;break;case "function":f=e.depends.call(c,c)}f?a[d]=void 0!==e.param?e.param:!0:delete a[d]}});b.each(a,
function(d,e){a[d]=b.isFunction(e)?e(c):e});b.each(["minlength","maxlength","min","max"],function(){a[this]&&(a[this]=Number(a[this]))});b.each(["rangelength","range"],function(){a[this]&&(a[this]=[Number(a[this][0]),Number(a[this][1])])});b.validator.autoCreateRanges&&(a.min&&a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),a.minlength&&a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength));a.messages&&delete a.messages;return a},normalizeRule:function(a){if("string"==
typeof a){var c={};b.each(a.split(/\s/),function(){c[this]=!0});a=c}return a},addMethod:function(a,c,d){b.validator.methods[a]=c;b.validator.messages[a]=void 0!=d?d:b.validator.messages[a];3>c.length&&b.validator.addClassRules(a,b.validator.normalizeRule(a))},methods:{required:function(a,c,d){if(!this.depend(d,c))return"dependency-mismatch";switch(c.nodeName.toLowerCase()){case "select":return(a=b(c).val())&&0<a.length;case "input":if(this.checkable(c))return 0<this.getLength(a,c);default:return 0<
b.trim(a).length}},remote:function(a,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});e.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=e.message;d="string"==typeof d&&{url:d}||d;if(this.pending[c.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(c);var k={};k[c.name]=a;b.ajax(b.extend(!0,{url:d,mode:"abort",port:"validate"+
c.name,dataType:"json",data:k,success:function(l){f.settings.messages[c.name].remote=e.originalMessage;var n=!0===l;if(n){var h=f.formSubmitted;f.prepareElement(c);f.formSubmitted=h;f.successList.push(c);f.showErrors()}else h={},l=l||f.defaultMessage(c,"remote"),h[c.name]=e.message=b.isFunction(l)?l(a):l,f.showErrors(h);e.valid=n;f.stopRequest(c,n)}},d));return"pending"},minlength:function(a,c,d){return this.optional(c)||this.getLength(b.trim(a),c)>=d},maxlength:function(a,c,d){return this.optional(c)||
this.getLength(b.trim(a),c)<=d},rangelength:function(a,c,d){a=this.getLength(b.trim(a),c);return this.optional(c)||a>=d[0]&&a<=d[1]},min:function(a,c,d){return this.optional(c)||a>=d},max:function(a,c,d){return this.optional(c)||a<=d},range:function(a,c,d){return this.optional(c)||a>=d[0]&&a<=d[1]},email:function(a,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,c){return this.optional(c)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,c){return this.optional(c)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,c){return this.optional(c)||/^\d+$/.test(a)},creditcard:function(a,c){if(this.optional(c))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return!1;c=0;var d=!1;a=a.replace(/\D/g,"");for(var e=a.length-1;0<=e;e--){var f=
a.charAt(e);f=parseInt(f,10);d&&9<(f*=2)&&(f-=9);c+=f;d=!d}return 0==c%10},accept:function(a,c,d){d="string"==typeof d?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(c)||a.match(new RegExp(".("+d+")$","i"))},equalTo:function(a,c,d){d=b(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(c).valid()});return a==d.val()}}});b.format=b.validator.format})(jQuery);
(function(b){var a={};if(b.ajaxPrefilter)b.ajaxPrefilter(function(d,e,f){e=d.port;"abort"==d.mode&&(a[e]&&a[e].abort(),a[e]=f)});else{var c=b.ajax;b.ajax=function(d){var e=("port"in d?d:b.ajaxSettings).port;return"abort"==("mode"in d?d:b.ajaxSettings).mode?(a[e]&&a[e].abort(),a[e]=c.apply(this,arguments)):c.apply(this,arguments)}}})(jQuery);
(function(b){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||b.each({focus:"focusin",blur:"focusout"},function(a,c){function d(e){e=b.event.fix(e);e.type=c;return b.event.handle.call(this,e)}b.event.special[c]={setup:function(){this.addEventListener(a,d,!0)},teardown:function(){this.removeEventListener(a,d,!0)},handler:function(e){arguments[0]=b.event.fix(e);arguments[0].type=c;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{validateDelegate:function(a,
c,d){return this.bind(c,function(e){var f=b(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);
(function(){window.changeAutoAssign=function(f,k,l){f.checked?(k.value="",k.disabled=!0,l.disabled=!0):(k.disabled=!1,l.disabled=!1)};var b=jQuery,a=function(f){f.find(":input").not('input[type="hidden"]').filter("[name]").addClass("require-group")},c=function(f){f.find(":input").not('input[type="hidden"]').filter("[name]").removeClass("require-group")};window.make_required_group=a;window.remove_required_group=c;var d=function(f,k){var l=f.parent().find("td[data-field-display-name]"),n=l.data("fieldDisplayName");
k?(f.text(n).append(' <span class="Alert">*</span>'),a(l)):(f.text(n),c(l))},e=function(){var f=b("#FIELD_ORG_LEVEL_2");if(f.length){var k=b("#RECORD_TYPE").find(":selected").data("progorbranch");d(f,k)}};window.update_form_make_required_org_level=function(){for(var f,k=0;6>k;k++)if(f=b("#FIELD_ORG_LEVEL_"+k),f.length){d(f,!0);break}};window.init_client_validation=function(f,k){var l=b(f),n=l.prop("lang")||l.parents("[lang]").first().prop("lang")||"en-CA",h=function(r){var u=!1;try{r.each(function(){if(this.name)if(/radio|checkbox/i.test(this.type)){if(this.checked&&
this.value)throw u=!0,{name:"StopIteration",message:"StopIteration"};}else if(b.trim(this.value))throw u=!0,{name:"StopIteration",message:"StopIteration"};})}catch(v){if("StopIteration"!==v.name)throw v;}return u},t=null;b.validator.addMethod("email",function(r,u){t||=RegExp("^((([A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+(\\.[A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+)*@[A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+(\\.[A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+)*)(\\s*,*\\s*))*)$");return this.optional(u)||t.test(r)});
var w=null;b.validator.addMethod("url",function(r,u){w||=/^((\d{1,3}(\.\d{1,3}){3})|([\w_\-]+(\.[\w\._\-]+)*)(:[0-9]+)?((\/|\?)[^\s]*)?)$/;return this.optional(u)||w.test(r)});var p=null;b.validator.addMethod("protourl",function(r,u){p||=/^(https?:\/\/)?((\d{1,3}(\.\d{1,3}){3})|([\w_\-]+(\.[\w\._\-]+)*)(:[0-9]+)?((\/|\?)[^\s]*)?)$/;return this.optional(u)||p.test(r)});var g=null;b.validator.addMethod("posint",function(r,u){g||=/^\d+$/;return this.optional(u)||g.test(r)});var m=null;b.validator.addMethod("posdbl",
function(r,u){if(!m){var v="\\.";"fr-CA"===n&&(v=",");m=new RegExp("^((\\d+)|(\\d*"+v+"\\d+))$")}return this.optional(u)||m.test(r)});var q=null;b.validator.addMethod("record-num",function(r,u){q||=/^[A-Z]{3}[0-9]{4,5}$/;return this.optional(u)||q.test(r)});b.validator.addMethod("unique",function(r,u,v){if(!r)return!0;r=string_ci_ai(r);u=jQuery.validator.format("[name!='{0}'][unique='{1}']",u.name,v);var y=[];b(u).each(function(A,z){r==string_ci_ai(b(z).val())&&y.push(z)});return 0==y.length},"A unique value is required.");
b.validator.addMethod("require-group",function(r,u){r=b(u).parents("td[data-field-display-name]");u=r.parent().children("td:first").prop("id");u=u.slice(-(u.length-6));var v=r.find(":input").not("[type=hidden]").not("button");if(window.tinymce){var y=r.find(".WYSIWYG").prop("id");y&&(y=window.tinymce.get(y))&&y.save()}switch(u){case "ACCESSIBILITY":case "AREAS_SERVED":case "LANGUAGES":case "FUNDING":case "SCHOOL_ESCORT":case "SCHOOLS_IN_AREA":case "TYPE_OF_CARE":v=v.not("input:text");break;case "ALT_ORG":case "LEGAL_ORG":v=
v.not("input:checkbox");break;case "FORMER_ORG":v=v.not("input:checkbox").not("[name^=FORMER_ORG_DATE]");break;case "FEES":v=v.not("input:text").add("#FEE_ASSISTANCE_FOR, #FEE_ASSISTANCE_FROM");break;case "VACANCY_INFO":v=v.filter("[name!=VUT_ID]")}(u=h(v))&&r.children("div.required-notice").hide();return u},"Field Required");var x=b('<div id="a_test"></div>').dialog({autoOpen:!1,title:k,closeOnEscape:!1,position:["right","bottom"],resizable:!1,dialogClass:"ValidationErrors"}),B=b("#validation_error_box");
b(document).on("click",".FieldErrorJump",function(r){r=b(r.currentTarget).prop("fieldname");(r=document.getElementById(r))&&r.scrollIntoView(!0)});b(".ValidationErrors.ui-dialog").css({position:"fixed"}).position({my:"right bottom",at:"right bottom",of:window});a(b(f).find("td[data-field-required]"));f=b(f).validate({ignore:"input[type=hidden]",ignoreTitle:!0,errorPlacement:function(r,u){var v=[],y=u[0];if(u.hasClass("require-group")){var A=u.parents("td[data-field-display-name]");v=A.children("div.required-notice");
var z=!1;/radio|checkbox/i.test(y.type)?y.checked&&y.value||(z=!0):b.trim(y.value)||(z=!0);if(z){v.length?(v.empty(),v.show(),v.append(r)):(r.removeAttr("for"),A.prepend(b('<div class="required-notice"></div>').append(r)));return}}v.length&&v.hide();r.insertAfter(u)},showErrors:function(r,u){this.defaultShowErrors();if(0===u.length)x.dialog("close"),B.hide("slow");else{var v={},y=b("<ul>");jQuery.each(u,function(A,z){z=z.element;A=b(z).parents("td[data-field-display-name]");z=A.parent().children("td:first").prop("id");
v[z]||(v[z]=!0,y.append(b("<li>").append(b("<span>").prop({fieldname:z,className:"FieldErrorJump SimulateLink"}).text(A.data("fieldDisplayName")))))});x.empty().append(y);x.dialog("open");B.show("slow");b("#SUBMIT_BUTTON").prop("disabled",!1)}},focusInvalid:!1,onfocusout:!1,onkeyup:!1,onclick:!1});"fr-CA"===n?jQuery.extend(jQuery.validator.messages,{required:"Ce champ est requis.",remote:"Veuillez remplir ce champ pour continuer.",email:"Veuillez entrer une adresse email valide.",url:"Veuillez entrer une URL valide.",
date:"Veuillez entrer une date valide.",dateISO:"Veuillez entrer une date valide (ISO).",number:"Veuillez entrer un nombre valide.",digits:"Veuillez entrer (seulement) une valeur num\u00e9rique.",creditcard:"Veuillez entrer un num\u00e9ro de carte de cr\u00e9dit valide.",equalTo:"Veuillez entrer une nouvelle fois la m\u00eame valeur.",accept:"Veuillez entrer une valeur avec une extension valide.",maxlength:jQuery.validator.format("Veuillez ne pas entrer plus de {0} caract\u00e8res."),minlength:jQuery.validator.format("Veuillez entrer au moins {0} caract\u00e8res."),
rangelength:jQuery.validator.format("Veuillez entrer entre {0} et {1} caract\u00e8res."),range:jQuery.validator.format("Veuillez entrer une valeur entre {0} et {1}."),max:jQuery.validator.format("Veuillez entrer une valeur inf\u00e9rieure ou \u00e9gale \u00e0 {0}."),min:jQuery.validator.format("Veuillez entrer une valeur sup\u00e9rieure ou \u00e9gale \u00e0 {0}."),protourl:"Veuillez entrer une URL valide.",posint:"Veuillez entrer un nombre positif.",posdbl:"Veuillez entrer un nombre positif.","record-num":"Please enter a valid record number.",
"require-group":"Ce champ est requis.",unique:"Une valeur unique est requise."}):jQuery.extend(jQuery.validator.messages,{protourl:"Please enter a valid URL.",posint:"Please enter a positive number.",posdbl:"Please enter a positive number.","record-num":"Please enter a valid record number.","require-group":"Field Required.",unique:"A unique value is required."});return f};window.init_record_type_form=function(f,k,l){var n=null,h=null,t={},w="ORG_LEVEL_1 ORG_LEVEL_2 ORG_LEVEL_3 ORG_LEVEL_4 ORG_LEVEL_5 LOCATION_NAME SERVICE_NAME_LEVEL_1 SERVICE_NAME_LEVEL_2".split(" "),
p=function(){b("#RecordTypeName").html(h);b.each(w,function(m){var q=l[m],x=b("#"+m);x.length&&(x[0].value=q)&&(b("#"+m+"_DISPLAY").text(q),b("#HIDDEN_"+x).prop("value",q))});b("#RECORD_TYPE").prop("value",n[0].value);e()},g=function(){var m=n[0].value;n.data("hasform")||(m=null);n=b(this).find("option:selected");var q=n[0].value;n.data("hasform")||(q=null);q!==m?(t[m]=b("#copyFieldsForm").contents().detach(),t[q]?(b("#copyFieldsForm").append(t[q]),b("#RECORD_TYPE").prop("value",n[0].value)):b("#copyFieldsForm").load(k+
" #copyFieldsInner",{NUM:f,RT:q||n[0].value},p)):e()};jQuery(function(){h=b("#RecordTypeName").html();var m=b("#RECORD_TYPE");b(document).on("change","#RECORD_TYPE",g);n=m.find("option:selected");e()})};window.init_validate_duplicate_org_names=function(f){var k=b.extend({selector:"#EntryForm",fields:"#ORG_LEVEL_1,#ORG_LEVEL_2,#ORG_LEVEL_3,#ORG_LEVEL_4,#ORG_LEVEL_5,#LOCATION_NAME,#SERVICE_NAME_LEVEL_1,#SERVICE_NAME_LEVEL_2,#OLS_SELECT input,#ORG_NUM",only_warn:!0,num:null,org_levels:[],url:null},f),
l=[],n=null!==k.num,h=[],t=b(k.selector).submit(function(w){var p,g=!1,m=b(k.fields).serializeArray();k.num&&m.push({name:"NUM",value:k.num});if(m.length!==l.length)g=!0;else for(p=0;p<m.length;p++){var q=m[p];if(q.name!==l[p].name||q.value!==l[p].value){g=!0;break}}if(!g&&n)return!0;var x=function(){k.only_warn&&confirm(k.confirm_string)?(n=!0,b("#duplicate_name_error_box").hide(),t.submit()):(b("#SUBMIT_BUTTON").prop("disabled",!1),b("#duplicate_name_error_box").show())};w.stopPropagation();w.preventDefault();
if(!g)return x(),!1;b.ajax({url:k.url,dataType:"json",method:"get",data:m,success:function(B){n=!0;h=[];for(var r=0;r<B.length;r++)n&=0===B[r].count,0!==B[r].count&&h.push(B[r].type);l=m;n?(b("#duplicate_name_error_box").hide(),t.submit()):x()}});return!1})}})();
