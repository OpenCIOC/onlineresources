window.CIOC={};
(function(a,c){c.do_drop_down_navigation=function(){for(var b=a.getElementById("ActionList").options,e=0;e<b.length;e++)if(b[e].selected){var d=b[e].getAttribute("href");d&&("undefined"!=typeof b[e].attributes.newwindow?c.open(d):c.location.href=d);break}};jQuery(function(a){a("[data-toggle=dialog]").each(function(){var c=a(this),d=a(c.data("target")),f={autoOpen:!1,title:d.data("title"),modal:d.data("modal")};d.dialog(f);c.click(function(){d.dialog("isOpen")?d.dialog("close"):d.dialog("open")})})})})(document,window);
function CheckAll(a,c){a||(a="IDList");var b=c;c||(b=document.RecordList);for(var e=b.elements.length,d=0;d<e;d++){var f=b.elements[d];f.name===a&&(f.checked=!0)}}function ClearAll(a,c){a||(a="IDList");var b=c;c||(b=document.RecordList);for(var e=b.elements.length,d=0;d<e;d++){var f=b.elements[d];f.name===a&&(f.checked=!1)}}function add_class(a,c){a&&!(new RegExp("\\b"+c+"\\b")).test(a.className)&&(a.className&&(c=" "+c),a.className+=c)}
function remove_class(a,c){if(a){for(var b=a.className.split(" "),e=[],d=0;d<b.length;d++){var f=b[d];f!==c&&e.push(f)}a.className=e.join(" ")}}function hide(a){add_class(a,"NotVisible")}function show(a){remove_class(a,"NotVisible")}function openWin(a,c){window.open(a,c,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(a,c){window.open(a,c,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(a,c){window.open(a,c,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(a){var c={sm:openWin,lg:openWinL,xl:openWinXL};a(document).on("click","a.poplink",function(){var b=a(this).data("popargs");(c[b.size||"sm"]||openWin)(this.href,b.name||"popwin");return!1})});
(function(){var a=jQuery,c={},b=function(b){null!==b&&"undefined"!==typeof b?a("#myListCount").text(b):(b=a("#myListCount").text())&&(b=parseInt(b,10));b?c.myListLink.show():c.myListLink.hide()},e=function(c){a.each(c,function(c,b){a("#added_to_list_"+b).show();a("#add_to_list_"+b).hide()})},d=function(d){return function(f){f.fail?alert(f.errinfo):(f.ids?b(a.grep(f.ids,v[c.domain]).length):f.count?b(f.count):b(0),e([d]))}},f=function(b){b=a(b.currentTarget).data("id");a.ajax({success:d(b),dataType:"json",
error:function(){alert("Error")},data:{id:b},type:"POST",url:c.current_list_url})},l=function(c){return function(b){if(b.fail)alert(b.errinfo);else{b=!0;if(c){var k=a("#results_table #remove_from_list_"+c);k.length?k.parent().parent().remove():(b=!1,k=a("#results_container #remove_from_list_"+c),k.parents(".dlist-result").remove())}k=!1;if((k=b?1===a("#results_table tr").length:0===a("#results_container .dlist-result").length)||!c)a("#records_ui").hide(),a("#no_records_message").show()}}},p=function(b){b=
a(b.currentTarget).data("id");a.ajax({success:l(b),dataType:"json",error:function(){alert("Error")},data:{ID:b,RemoveItem:c.domain},type:"POST",url:c.current_list_url})},q=function(b){a.ajax({success:l(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:c.domain},type:"POST",url:c.current_list_url})},v={CIC:function(a){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(a)},VOL:function(a){return/^[1-9][0-9]*$/.test(a)}},E=function(d){if(d.fail)B();else if(d.inrequest){var f=a.grep(d.ids,
v[c.domain]);e(f);b(f.length);(d=d.previous_ids)&&a.each(d,function(c,b){a("#ct_added_to_previous_request_"+b).show()});a(".ListUI img").prop("src",function(a,c){return c.replace("list","referral")});a("#list_header_text").hide();a("#ct_header_text").show();c.current_list_url=c.ct_update_url;s()}else B()},B=function(){var d=function(){c.list_view_mode||e(c.already_added||[]);c.current_list_url=c.list_view_mode&&"ct"===c.list_view_mode?c.ct_update_url:c.list_update_url;b((c.already_added||[]).length);
s()};c.list_view_mode||c.has_session?d():a.ajax({dataType:"json",error:null,url:c.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(a){a.has_session&&d()}})},s=function(){a(".HideListUI").delegate(".add_to_list","click",f).delegate(".remove_from_list","click",p).removeClass("HideListUI");a("#remove_all_from_list").click(q);a.browser.msie&&"8.0">a.browser.msie&&a(".ListUI").removeClass("FixIE")};window.init_list_adder=function(b){c=b;c.myListLink=a("#myListLink").parent(":hidden").add("#myListLink");
b.in_request?a.ajax({success:E,dataType:"json",error:null,type:"POST",url:b.in_request}):B()}})();this.JSON||(this.JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function c(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var c=p[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(a,d){var e,s,p,t,k=f,g,n=d[a];n&&"object"===typeof n&&"function"===typeof n.toJSON&&(n=n.toJSON(a));"function"===typeof q&&(n=q.call(d,a,n));switch(typeof n){case "string":return c(n);case "number":return isFinite(n)?String(n):"null";case "boolean":case "null":return String(n);
case "object":if(!n)return"null";f+=l;g=[];if("[object Array]"===Object.prototype.toString.apply(n)){t=n.length;for(e=0;e<t;e+=1)g[e]=b(e,n)||"null";p=0===g.length?"[]":f?"[\n"+f+g.join(",\n"+f)+"\n"+k+"]":"["+g.join(",")+"]";f=k;return p}if(q&&"object"===typeof q)for(t=q.length,e=0;e<t;e+=1)s=q[e],"string"===typeof s&&(p=b(s,n))&&g.push(c(s)+(f?": ":":")+p);else for(s in n)Object.hasOwnProperty.call(n,s)&&(p=b(s,n))&&g.push(c(s)+(f?": ":":")+p);p=0===g.length?"{}":f?"{\n"+f+g.join(",\n"+f)+"\n"+
k+"}":"{"+g.join(",")+"}";f=k;return p}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,l,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,c,d){var e;l=f="";if("number"===typeof d)for(e=0;e<d;e+=1)l+=" ";else"string"===typeof d&&(l=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,c){function b(a,d){var e,g,f=a[d];if(f&&"object"===typeof f)for(e in f)Object.hasOwnProperty.call(f,e)&&(g=b(f,e),void 0!==g?f[e]=g:delete f[e]);return c.call(a,d,f)}var d;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof c?b({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(a){var c={};jQuery(a).find("input,select,textarea").each(function(a){if(this.name)if(c[this.name]||(c[this.name]=[]),"select"===this.nodeName.toLowerCase()){var e=c[this.name];$(this).find("option").each(function(a){this.selected&&e.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&c[this.name].push(this.value||"")});return c};window.restore_form_values=function(a,c){var b=jQuery;b(a).find("input,select,textarea").each(function(a){if(this.name){var d=
c[this.name];"undefined"!=typeof d&&null!==d&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?b(this).find("option").each(function(a){this.selected=1<d.length?0<=b.inArray(this.value,d):0===d.length?!1:this.value===d[0]}):this.value=d.length?d[0]:"":this.checked=1<d.length?0<=b.inArray(this.value,d):0===d.length?!1:this.value===d[0])}})};window.init_cached_state=function(a){var c=jQuery;a=a||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];c(window).on("beforeunload",function(){var b={form_values:get_form_values(a)};c.each(onbeforeunload_fns,function(a,c){c(b)});document.getElementById("cache_form_values").value=JSON.stringify(b)});window.cache_register_onbeforeunload=function(a){onbeforeunload_fns.push(a)};window.cache_register_onbeforerestorevalues=function(a){onbeforerestorevalues_fns.push(a)};window.restore_cached_state=function(){var b=document.getElementById("cache_form_values");if(b&&b.value){var e=
JSON.parse(b.value);c.each(onbeforerestorevalues_fns,function(a,c){c(e)});restore_form_values(a,e.form_values)}}}})();
(function(){var a=jQuery,c={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},b={"en-CA":!0,"":!0},e={},d={"fr-CA":"fr","es-MX":"es"},f=function(){var b=a(this),d=b.data("culture"),e=c[d]||a.datepicker.regional[d].dateFormat,f={};b.hasClass("NoYear")&&(e=e.replace(/[\- .\/]*yy[\/]?/,""),f={beforeShow:function(a,
c){c.dpDiv.addClass("NoYearDatePicker")},onClose:function(a,c){c.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});f.dateFormat=e;b.datepicker(a.extend({},a.datepicker.regional[d],f)).prop("autocomplete","off")},l=function(c){a.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+a.ui.version+"/i18n/jquery.ui.datepicker-"+c+".min.js",function(){b[c]=!0;a.each(e[c],function(){f.call(this)});delete e[c]})};a.datepicker.regional["en-CA"]=a.extend({},a.datepicker.regional[""]);a.fn.extend({autodatepicker:function(){return this.each(function(){var c=
a(this),q;q=c.parents("[lang]").first().prop("lang")||"en-CA";q=d[q]||q;c.data("culture",q);b[q]?f.call(this):(c=e[q],c||(c=e[q]=[],l(q)),c.push(this))})}});jQuery(function(){a("input.DatePicker").autodatepicker()})})();function ClusterIcon(a,c){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.cluster_=a;this.className_=a.getMarkerClusterer().getClusterClass();this.styles_=c;this.sums_=this.div_=this.center_=null;this.visible_=!1;this.setMap(a.getMap())}
ClusterIcon.prototype.onAdd=function(){var a=this,c,b;this.div_=document.createElement("div");this.div_.className=this.className_;this.visible_&&this.show();this.getPanes().overlayMouseTarget.appendChild(this.div_);google.maps.event.addListener(this.getMap(),"bounds_changed",function(){b=c});google.maps.event.addDomListener(this.div_,"mousedown",function(){c=!0;b=!1});google.maps.event.addDomListener(this.div_,"click",function(e){c=!1;if(!b){var d,f,l=a.cluster_.getMarkerClusterer();google.maps.event.trigger(l,
"click",a.cluster_);google.maps.event.trigger(l,"clusterclick",a.cluster_);l.getZoomOnClick()&&(f=l.getMaxZoom(),d=a.cluster_.getBounds(),l.getMap().fitBounds(d),setTimeout(function(){l.getMap().fitBounds(d);null!==f&&l.getMap().getZoom()>f&&l.getMap().setZoom(f+1)},100));e.cancelBubble=!0;e.stopPropagation&&e.stopPropagation()}});google.maps.event.addDomListener(this.div_,"mouseover",function(){var c=a.cluster_.getMarkerClusterer();google.maps.event.trigger(c,"mouseover",a.cluster_)});google.maps.event.addDomListener(this.div_,
"mouseout",function(){var c=a.cluster_.getMarkerClusterer();google.maps.event.trigger(c,"mouseout",a.cluster_)})};ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)};ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px";this.div_.style.left=a.x+"px"}};
ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};
ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.innerHTML=this.cluster_.printable_?"<img src='"+this.url_+"'><div style='position: absolute; top: 0px; left: 0px; width: "+this.width_+"px;'>"+this.sums_.text+"</div>":this.sums_.text;this.div_.title="undefined"===typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title;this.div_.style.display=""}this.visible_=
!0};
ClusterIcon.prototype.useStyle=function(a){this.sums_=a;a=Math.max(0,a.index-1);a=Math.min(this.styles_.length-1,a);a=this.styles_[a];this.url_=a.url;this.height_=a.height;this.width_=a.width;this.anchor_=a.anchor;this.anchorIcon_=a.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)];this.textColor_=a.textColor||"black";this.textSize_=a.textSize||11;this.textDecoration_=a.textDecoration||"none";this.fontWeight_=a.fontWeight||"bold";this.fontStyle_=a.fontStyle||"normal";this.fontFamily_=a.fontFamily||
"Arial,sans-serif";this.backgroundPosition_=a.backgroundPosition||"0 0"};ClusterIcon.prototype.setCenter=function(a){this.center_=a};
ClusterIcon.prototype.createCss=function(a){var c=[];this.cluster_.printable_||(c.push("background-image:url("+this.url_+");"),c.push("background-position:"+this.backgroundPosition_+";"));"object"===typeof this.anchor_?("number"===typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?c.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):c.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"===typeof this.anchor_[1]&&0<this.anchor_[1]&&
this.anchor_[1]<this.width_?c.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):c.push("width:"+this.width_+"px; text-align:center;")):c.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");c.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+this.textColor_+"; position:absolute; font-size:"+this.textSize_+"px; font-family:"+this.fontFamily_+"; font-weight:"+this.fontWeight_+"; font-style:"+this.fontStyle_+
"; text-decoration:"+this.textDecoration_+";");return c.join("")};ClusterIcon.prototype.getPosFromLatLng_=function(a){a=this.getProjection().fromLatLngToDivPixel(a);a.x-=this.anchorIcon_[1];a.y-=this.anchorIcon_[0];return a};
function Cluster(a){this.markerClusterer_=a;this.map_=a.getMap();this.gridSize_=a.getGridSize();this.minClusterSize_=a.getMinimumClusterSize();this.averageCenter_=a.getAverageCenter();this.printable_=a.getPrintable();this.markers_=[];this.bounds_=this.center_=null;this.clusterIcon_=new ClusterIcon(this,a.getStyles())}Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getIcon=function(){return this.clusterIcon_};Cluster.prototype.getMarkers=function(){return this.markers_};
Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){var a,c=new google.maps.LatLngBounds(this.center_,this.center_),b=this.getMarkers();for(a=0;a<b.length;a++)c.extend(b[a].getPosition());return c};Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null);this.markers_=[];delete this.markers_};
Cluster.prototype.addMarker=function(a){var c,b;if(this.isMarkerAlreadyAdded_(a))return!1;this.center_?this.averageCenter_&&(b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b,b=(this.center_.lng()*(b-1)+a.getPosition().lng())/b,this.center_=new google.maps.LatLng(c,b),this.calculateBounds_()):(this.center_=a.getPosition(),this.calculateBounds_());a.isAdded=!0;this.markers_.push(a);c=this.markers_.length;b=this.markerClusterer_.getMaxZoom();if(null!==b&&this.map_.getZoom()>
b)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c<this.minClusterSize_)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c===this.minClusterSize_)for(a=0;a<c;a++)this.markers_[a].setMap(null);else a.setMap(null);this.updateIcon_();return!0};Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())};Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)};
Cluster.prototype.updateIcon_=function(){var a=this.markers_.length,c=this.markerClusterer_.getMaxZoom();null!==c&&this.map_.getZoom()>c?this.clusterIcon_.hide():a<this.minClusterSize_?this.clusterIcon_.hide():(a=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,a),this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(a),this.clusterIcon_.show())};
Cluster.prototype.isMarkerAlreadyAdded_=function(a){var c;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(a);for(c=0;c<this.markers_.length;c++)if(a===this.markers_[c])return!0;return!1};
function MarkerClusterer(a,c,b){this.extend(MarkerClusterer,google.maps.OverlayView);c=c||[];b=b||{};this.markers_=[];this.clusters_=[];this.listeners_=[];this.activeMap_=null;this.ready_=!1;this.gridSize_=b.gridSize||60;this.minClusterSize_=b.minimumClusterSize||2;this.maxZoom_=b.maxZoom||null;this.styles_=b.styles||[];this.title_=b.title||"";this.zoomOnClick_=!0;void 0!==b.zoomOnClick&&(this.zoomOnClick_=b.zoomOnClick);this.averageCenter_=!1;void 0!==b.averageCenter&&(this.averageCenter_=b.averageCenter);
this.ignoreHidden_=!1;void 0!==b.ignoreHidden&&(this.ignoreHidden_=b.ignoreHidden);this.printable_=!1;void 0!==b.printable&&(this.printable_=b.printable);this.imagePath_=b.imagePath||MarkerClusterer.IMAGE_PATH;this.imageExtension_=b.imageExtension||MarkerClusterer.IMAGE_EXTENSION;this.imageSizes_=b.imageSizes||MarkerClusterer.IMAGE_SIZES;this.calculator_=b.calculator||MarkerClusterer.CALCULATOR;this.batchSize_=b.batchSize||MarkerClusterer.BATCH_SIZE;this.batchSizeIE_=b.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE;
this.clusterClass_=b.clusterClass||"cluster";-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_);this.setupStyles_();this.addMarkers(c,!0);this.setMap(a)}
MarkerClusterer.prototype.onAdd=function(){var a=this;this.activeMap_=this.getMap();this.ready_=!0;this.repaint();this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){a.resetViewport_(!1);this.getZoom()!==(this.get("minZoom")||0)&&this.getZoom()!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){a.redraw_()})]};
MarkerClusterer.prototype.onRemove=function(){var a;for(a=0;a<this.markers_.length;a++)this.markers_[a].setMap(this.activeMap_);for(a=0;a<this.clusters_.length;a++)this.clusters_[a].remove();this.clusters_=[];for(a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a]);this.listeners_=[];this.activeMap_=null;this.ready_=!1};MarkerClusterer.prototype.draw=function(){};
MarkerClusterer.prototype.setupStyles_=function(){var a,c;if(!(0<this.styles_.length))for(a=0;a<this.imageSizes_.length;a++)c=this.imageSizes_[a],this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:c,width:c})};MarkerClusterer.prototype.fitMapToMarkers=function(){var a,c=this.getMarkers(),b=new google.maps.LatLngBounds;for(a=0;a<c.length;a++)b.extend(c[a].getPosition());this.getMap().fitBounds(b)};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};
MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a};MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinimumClusterSize=function(a){this.minClusterSize_=a};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a};MarkerClusterer.prototype.getStyles=function(){return this.styles_};
MarkerClusterer.prototype.setStyles=function(a){this.styles_=a};MarkerClusterer.prototype.getTitle=function(){return this.title_};MarkerClusterer.prototype.setTitle=function(a){this.title_=a};MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.setZoomOnClick=function(a){this.zoomOnClick_=a};MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_};
MarkerClusterer.prototype.setAverageCenter=function(a){this.averageCenter_=a};MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_};MarkerClusterer.prototype.setIgnoreHidden=function(a){this.ignoreHidden_=a};MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_};MarkerClusterer.prototype.setImageExtension=function(a){this.imageExtension_=a};MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_};
MarkerClusterer.prototype.setImagePath=function(a){this.imagePath_=a};MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_};MarkerClusterer.prototype.setImageSizes=function(a){this.imageSizes_=a};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a};MarkerClusterer.prototype.getPrintable=function(){return this.printable_};
MarkerClusterer.prototype.setPrintable=function(a){this.printable_=a};MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_};MarkerClusterer.prototype.setBatchSizeIE=function(a){this.batchSizeIE_=a};MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_};MarkerClusterer.prototype.setClusterClass=function(a){this.clusterClass_=a};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};
MarkerClusterer.prototype.getClusters=function(){return this.clusters_};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.addMarker=function(a,c){this.pushMarkerTo_(a);c||this.redraw_()};MarkerClusterer.prototype.addMarkers=function(a,c){var b;for(b=0;b<a.length;b++)this.pushMarkerTo_(a[b]);c||this.redraw_()};
MarkerClusterer.prototype.pushMarkerTo_=function(a){if(a.getDraggable()){var c=this;google.maps.event.addListener(a,"dragend",function(){c.ready_&&(this.isAdded=!1,c.repaint())})}a.isAdded=!1;this.markers_.push(a)};MarkerClusterer.prototype.removeMarker=function(a,c){var b=this.removeMarker_(a);!c&&b&&this.repaint();return b};MarkerClusterer.prototype.removeMarkers=function(a,c){var b,e,d=!1;for(b=0;b<a.length;b++)e=this.removeMarker_(a[b]),d=d||e;!c&&d&&this.repaint();return d};
MarkerClusterer.prototype.removeMarker_=function(a){var c,b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(c=0;c<this.markers_.length;c++)if(a===this.markers_[c]){b=c;break}if(-1===b)return!1;a.setMap(null);this.markers_.splice(b,1);return!0};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0);this.markers_=[]};
MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_=[];this.resetViewport_(!1);this.redraw_();setTimeout(function(){var c;for(c=0;c<a.length;c++)a[c].remove()},0)};
MarkerClusterer.prototype.getExtendedBounds=function(a){var c=this.getProjection(),b=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),e=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),b=c.fromLatLngToDivPixel(b);b.x+=this.gridSize_;b.y-=this.gridSize_;e=c.fromLatLngToDivPixel(e);e.x-=this.gridSize_;e.y+=this.gridSize_;b=c.fromDivPixelToLatLng(b);c=c.fromDivPixelToLatLng(e);a.extend(b);a.extend(c);return a};MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)};
MarkerClusterer.prototype.resetViewport_=function(a){var c,b;for(c=0;c<this.clusters_.length;c++)this.clusters_[c].remove();this.clusters_=[];for(c=0;c<this.markers_.length;c++)b=this.markers_[c],b.isAdded=!1,a&&b.setMap(null)};MarkerClusterer.prototype.pi_over_180=Math.PI/180;MarkerClusterer.prototype.pi_over_360=Math.PI/360;MarkerClusterer.prototype.distanceBetweenPoints_=function(a,c){var b=a.lat(),e=c.lat(),d=(c.lng()-a.lng())*Math.cos((b+e)/2),b=e-b;return 6371*Math.sqrt(d*d+b*b)};
MarkerClusterer.prototype.isMarkerInBounds_=function(a,c){return c.contains(a.getPosition())};MarkerClusterer.prototype.addToClosestCluster_=function(a){var c,b,e,d=4E4,f=null;for(c=0;c<this.clusters_.length;c++)if(e=this.clusters_[c],b=e.getCenter())b=this.distanceBetweenPoints_(b,a.getPosition()),b<d&&(d=b,f=e);f&&f.isMarkerInClusterBounds(a)?f.addMarker(a):(e=new Cluster(this),e.addMarker(a),this.clusters_.push(e))};
MarkerClusterer.prototype.createClusters_=function(a){var c,b,e=this;if(this.ready_){0===a&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!==typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic));b=3<this.getMap().getZoom()?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,
178.00048865625));b=this.getExtendedBounds(b);for(var d=Math.min(a+this.batchSize_,this.markers_.length);a<d;a++)c=this.markers_[a],!c.isAdded&&this.isMarkerInBounds_(c,b)&&(!this.ignoreHidden_||this.ignoreHidden_&&c.getVisible())&&this.addToClosestCluster_(c);d<this.markers_.length?this.timerRefStatic=setTimeout(function(){e.createClusters_(d)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}};
MarkerClusterer.prototype.extend=function(a,c){return function(a){for(var c in a.prototype)this.prototype[c]=a.prototype[c];return this}.apply(a,[c])};MarkerClusterer.CALCULATOR=function(a,c){for(var b=0,e=a.length.toString(),d=e;0!==d;)d=parseInt(d/10,10),b++;b=Math.min(b,c);return{text:e,index:b,title:""}};MarkerClusterer.BATCH_SIZE=2E3;MarkerClusterer.BATCH_SIZE_IE=500;MarkerClusterer.IMAGE_PATH="//google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m";
MarkerClusterer.IMAGE_EXTENSION="png";MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90];
(function(a,c){var b,e,d,f,l,p,q,v,E,B,s,C,t,k,g,n,D,r,w,x,h,u,F,z;b=function(a){return new b.prototype.init(a)};"undefined"!==typeof require&&"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=b:a.Globalize=b;b.cultures={};b.prototype={constructor:b,init:function(a){this.cultures=b.cultures;this.cultureSelector=a;return this}};b.prototype.init.prototype=b.prototype;b.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],
decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",
S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};b.cultures["default"].calendar=b.cultures["default"].calendars.standard;b.cultures.en=b.cultures["default"];b.cultureSelector="en";e=/^0x[a-f0-9]+$/i;d=/^[+\-]?infinity$/i;f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;l=/^\s+|\s+$/g;p=function(a,c){if(a.indexOf)return a.indexOf(c);for(var b=0,y=a.length;b<y;b++)if(a[b]===c)return b;return-1};q=function(a,c){return a.substr(a.length-c.length)===c};v=function(){var a,b,H,y,g,d=arguments[0]||{},e=1,m=arguments.length,
f=!1;"boolean"===typeof d&&(f=d,d=arguments[1]||{},e=2);for("object"===typeof d||B(d)||(d={});e<m;e++)if(null!=(a=arguments[e]))for(b in a)H=d[b],y=a[b],d!==y&&(f&&y&&(s(y)||(g=E(y)))?(g?(g=!1,H=H&&E(H)?H:[]):H=H&&s(H)?H:{},d[b]=v(f,H,y)):y!==c&&(d[b]=y));return d};E=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};B=function(a){return"[object Function]"===Object.prototype.toString.call(a)};s=function(a){return"[object Object]"===Object.prototype.toString.call(a)};
C=function(a,c){return 0===a.indexOf(c)};t=function(a){return(a+"").replace(l,"")};k=function(a){return isNaN(a)?NaN:Math[0>a?"ceil":"floor"](a)};g=function(a,c,b){var y;for(y=a.length;y<c;y+=1)a=b?"0"+a:a+"0";return a};n=function(a,c){for(var b=0,y=!1,g=0,d=a.length;g<d;g++){var e=a.charAt(g);switch(e){case "'":y?c.push("'"):b++;y=!1;break;case "\\":y&&c.push("\\");y=!y;break;default:c.push(e),y=!1}}return b};D=function(a,c){c=c||"F";var b;b=a.patterns;var y=c.length;if(1===y){b=b[c];if(!b)throw"Invalid date format string '"+
c+"'.";c=b}else 2===y&&"%"===c.charAt(0)&&(c=c.charAt(1));return c};r=function(a,c,b){function y(a,c){var b;b=a+"";return 1<c&&b.length<c?(b=s[c-2]+b,b.substr(b.length-c,c)):b}function g(){if(l||p)return l;l=w.test(c);p=!0;return l}function d(a,c){if(q)return q[c];switch(c){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+c;}}var e=b.calendar,m=e.convert;if(!c||!c.length||"i"===c){if(b&&b.name.length)if(m)b=r(a,e.patterns.F,b);else{b=
new Date(a.getTime());var f=h(a,e.eras);b.setFullYear(u(a,e,f));b=b.toLocaleString()}else b=a.toString();return b}var f=e.eras,k="s"===c;c=D(e,c);b=[];var A,s=["0","00","000"],l,p,w=/([^d]|^)(d|dd)([^d]|$)/g,t=0,F=x(),q;for(!k&&m&&(q=m.fromGregorian(a));;){A=F.lastIndex;m=F.exec(c);A=c.slice(A,m?m.index:c.length);t+=n(A,b);if(!m)break;if(t%2)b.push(m[0]);else switch(A=m[0],m=A.length,A){case "ddd":case "dddd":b.push((3===m?e.days.namesAbbr:e.days.names)[a.getDay()]);break;case "d":case "dd":l=!0;
b.push(y(d(a,2),m));break;case "MMM":case "MMMM":A=d(a,1);b.push(e.monthsGenitive&&g()?e.monthsGenitive[3===m?"namesAbbr":"names"][A]:e.months[3===m?"namesAbbr":"names"][A]);break;case "M":case "MM":b.push(y(d(a,1)+1,m));break;case "y":case "yy":case "yyyy":A=q?q[0]:u(a,e,h(a,f),k);4>m&&(A%=100);b.push(y(A,m));break;case "h":case "hh":A=a.getHours()%12;0===A&&(A=12);b.push(y(A,m));break;case "H":case "HH":b.push(y(a.getHours(),m));break;case "m":case "mm":b.push(y(a.getMinutes(),m));break;case "s":case "ss":b.push(y(a.getSeconds(),
m));break;case "t":case "tt":A=12>a.getHours()?e.AM?e.AM[0]:" ":e.PM?e.PM[0]:" ";b.push(1===m?A.charAt(0):A);break;case "f":case "ff":case "fff":b.push(y(a.getMilliseconds(),3).substr(0,m));break;case "z":case "zz":A=a.getTimezoneOffset()/60;b.push((0>=A?"+":"-")+y(Math.floor(Math.abs(A)),m));break;case "zzz":A=a.getTimezoneOffset()/60;b.push((0>=A?"+":"-")+y(Math.floor(Math.abs(A)),2)+":"+y(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":e.eras&&b.push(e.eras[h(a,f)].name);break;
case "/":b.push(e["/"]);break;default:throw"Invalid date format pattern '"+A+"'.";}}return b.join("")};(function(){var a;a=function(a,c,b){var d=b.groupSizes,e=d[0],G=1,m=Math.pow(10,c),m=Math.round(a*m)/m;isFinite(m)||(m=a);a=m+"";var m="",m=a.split(/e/i),f=1<m.length?parseInt(m[1],10):0;a=m[0];m=a.split(".");a=m[0];m=1<m.length?m[1]:"";0<f?(m=g(m,f,!1),a+=m.slice(0,f),m=m.substr(f)):0>f&&(f=-f,a=g(a,f+1,!0),m=a.slice(-f,a.length)+m,a=a.slice(0,-f));m=0<c?b["."]+(m.length>c?m.slice(0,c):g(m,c)):
"";c=a.length-1;b=b[","];for(f="";0<=c;){if(0===e||e>c)return a.slice(0,c+1)+(f.length?b+f+m:m);f=a.slice(c-e+1,c+1)+(f.length?b+f:"");c-=e;G<d.length&&(e=d[G],G++)}return a.slice(0,c+1)+b+f+m};w=function(c,b,e){if(!isFinite(c))return Infinity===c?e.numberFormat.positiveInfinity:-Infinity===c?e.numberFormat.negativeInfinity:e.numberFormat.NaN;if(!b||"i"===b)return e.name.length?c.toLocaleString():c.toString();b=b||"D";e=e.numberFormat;var d=Math.abs(c),f=-1;1<b.length&&(f=parseInt(b.slice(1),10));
var h=b.charAt(0).toUpperCase(),m;switch(h){case "D":b="n";d=k(d);-1!==f&&(d=g(""+d,f,!0));0>c&&(d="-"+d);break;case "N":m=e;case "C":m=m||e.currency;case "P":m=m||e.percent;b=0>c?m.pattern[0]:m.pattern[1]||"n";-1===f&&(f=m.decimals);d=a(d*("P"===h?100:1),f,m);break;default:throw"Bad number format specifier: "+h;}c=/n|\$|-|%/g;for(m="";;){f=c.lastIndex;h=c.exec(b);m+=b.slice(f,h?h.index:b.length);if(!h)break;switch(h[0]){case "n":m+=d;break;case "$":m+=e.currency.symbol;break;case "-":/[1-9]/.test(d)&&
(m+=e["-"]);break;case "%":m+=e.percent.symbol}}return m}})();x=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};h=function(a,c){if(!c)return 0;for(var b,e=a.getTime(),d=0,g=c.length;d<g;d++)if(b=c[d].start,null===b||e>=b)return d;return 0};u=function(a,c,b,e){a=a.getFullYear();!e&&c.eras&&(a-=c.eras[b].offset);return a};(function(){var a,c,b,e,d,g,f;a=function(a,c){if(100>c){var b=new Date,d=h(b),b=u(b,a,d),d=a.twoDigitYearMax,d="string"===
typeof d?(new Date).getFullYear()%100+parseInt(d,10):d;c+=b-b%100;c>d&&(c-=100)}return c};c=function(a,c,b){var d=a.days,e=a._upperDays;e||(a._upperDays=e=[f(d.names),f(d.namesAbbr),f(d.namesShort)]);c=g(c);b?(a=p(e[1],c),-1===a&&(a=p(e[2],c))):a=p(e[0],c);return a};b=function(a,c,b){var d=a.months,e=a.monthsGenitive||a.months,G=a._upperMonths,I=a._upperMonthsGen;G||(a._upperMonths=G=[f(d.names),f(d.namesAbbr)],a._upperMonthsGen=I=[f(e.names),f(e.namesAbbr)]);c=g(c);a=p(b?G[1]:G[0],c);0>a&&(a=p(b?
I[1]:I[0],c));return a};e=function(a,c){var b=a._parseRegExp;if(b){var d=b[c];if(d)return d}else a._parseRegExp=b={};for(var d=D(a,c).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),e=["^"],g=[],f=0,G=0,I=x(),y;null!==(y=I.exec(d));){var k=d.slice(f,y.index),f=I.lastIndex,G=G+n(k,e);if(G%2)e.push(y[0]);else{var k=y[0],H=k.length;switch(k){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":k="(\\D+)";break;case "tt":case "t":k="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":k=
"(\\d{"+H+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":k="(\\d\\d?)";break;case "zzz":k="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":k="([+-]?\\d\\d?)";break;case "/":k="(\\/)";break;default:throw"Invalid date format pattern '"+k+"'.";}k&&e.push(k);g.push(y[0])}}n(d.slice(f),e);e.push("$");d={regExp:e.join("").replace(/\s+/g,"\\s+"),groups:g};return b[c]=d};d=function(a,c,b){return a<c||a>b};g=function(a){return a.split("\u00a0").join(" ").toUpperCase()};
f=function(a){for(var c=[],b=0,d=a.length;b<d;b++)c[b]=g(a[b]);return c};F=function(g,f,k){g=t(g);k=k.calendar;f=e(k,f);var h=(new RegExp(f.regExp)).exec(g);if(null===h)return null;var u=f.groups,n=f=g=null,l=null,s=null,r=0,p,x=0,D=0,w=0;p=null;for(var F=!1,q=0,J=u.length;q<J;q++){var z=h[q+1];if(z){var v=u[q],L=v.length,B=parseInt(z,10);switch(v){case "dd":case "d":l=B;if(d(l,1,31))return null;break;case "MMM":case "MMMM":n=b(k,z,3===L);if(d(n,0,11))return null;break;case "M":case "MM":n=B-1;if(d(n,
0,11))return null;break;case "y":case "yy":case "yyyy":f=4>L?a(k,B):B;if(d(f,0,9999))return null;break;case "h":case "hh":r=B;12===r&&(r=0);if(d(r,0,11))return null;break;case "H":case "HH":r=B;if(d(r,0,23))return null;break;case "m":case "mm":x=B;if(d(x,0,59))return null;break;case "s":case "ss":D=B;if(d(D,0,59))return null;break;case "tt":case "t":F=k.PM&&(z===k.PM[0]||z===k.PM[1]||z===k.PM[2]);if(!F&&(!k.AM||z!==k.AM[0]&&z!==k.AM[1]&&z!==k.AM[2]))return null;break;case "f":case "ff":case "fff":w=
B*Math.pow(10,3-L);if(d(w,0,999))return null;break;case "ddd":case "dddd":s=c(k,z,3===L);if(d(s,0,6))return null;break;case "zzz":v=z.split(/:/);if(2!==v.length)return null;p=parseInt(v[0],10);if(d(p,-12,13))return null;v=parseInt(v[1],10);if(d(v,0,59))return null;p=60*p+(C(z,"-")?-v:v);break;case "z":case "zz":p=B;if(d(p,-12,13))return null;p*=60;break;case "g":case "gg":if(!z||!k.eras)return null;z=t(z.toLowerCase());v=0;for(L=k.eras.length;v<L;v++)if(z===k.eras[v].name.toLowerCase()){g=v;break}if(null===
g)return null}}}h=new Date;u=(q=k.convert)?q.fromGregorian(h)[0]:h.getFullYear();null===f?f=u:k.eras&&(f+=k.eras[g||0].offset);null===n&&(n=0);null===l&&(l=1);if(q){if(h=q.toGregorian(f,n,l),null===h)return null}else if(h.setFullYear(f,n,l),h.getDate()!==l||null!==s&&h.getDay()!==s)return null;F&&12>r&&(r+=12);h.setHours(r,x,D,w);null!==p&&(k=h.getMinutes()-(p+h.getTimezoneOffset()),h.setHours(h.getHours()+parseInt(k/60,10),k%60));return h}})();z=function(a,c,b){var d=c["-"];c=c["+"];var e;switch(b){case "n -":d=
" "+d,c=" "+c;case "n-":q(a,d)?e=["-",a.substr(0,a.length-d.length)]:q(a,c)&&(e=["+",a.substr(0,a.length-c.length)]);break;case "- n":d+=" ",c+=" ";case "-n":C(a,d)?e=["-",a.substr(d.length)]:C(a,c)&&(e=["+",a.substr(c.length)]);break;case "(n)":C(a,"(")&&q(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]};b.prototype.findClosestCulture=function(a){return b.findClosestCulture.call(this,a)};b.prototype.format=function(a,c,d){return b.format.call(this,a,c,d)};b.prototype.localize=function(a,
c){return b.localize.call(this,a,c)};b.prototype.parseInt=function(a,c,d){return b.parseInt.call(this,a,c,d)};b.prototype.parseFloat=function(a,c,d){return b.parseFloat.call(this,a,c,d)};b.prototype.culture=function(a){return b.culture.call(this,a)};b.addCultureInfo=function(a,c,b){var d={},e=!1;"string"!==typeof a?(b=a,a=this.culture().name,d=this.cultures[a]):"string"!==typeof c?(b=c,e=null==this.cultures[a],d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[c]);this.cultures[a]=
v(!0,{},d,b);e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)};b.findClosestCulture=function(a){var c;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];"string"===typeof a&&(a=a.split(","));if(E(a)){var b,d=this.cultures,e=a,g,f=e.length,k=[];for(g=0;g<f;g++)a=t(e[g]),a=a.split(";"),b=t(a[0]),1===a.length?a=1:(a=t(a[1]),0===a.indexOf("q=")?(a=a.substr(2),a=parseFloat(a),a=isNaN(a)?0:a):a=1),k.push({lang:b,pri:a});k.sort(function(a,c){return a.pri<
c.pri?1:a.pri>c.pri?-1:0});for(g=0;g<f;g++)if(b=k[g].lang,c=d[b])return c;for(g=0;g<f;g++){b=k[g].lang;do{e=b.lastIndexOf("-");if(-1===e)break;b=b.substr(0,e);if(c=d[b])return c}while(1)}for(g=0;g<f;g++){b=k[g].lang;for(var h in d)if(e=d[h],e.language==b)return e}}else if("object"===typeof a)return a;return c||null};b.format=function(a,c,b){b=this.findClosestCulture(b);a instanceof Date?a=r(a,c,b):"number"===typeof a&&(a=w(a,c,b));return a};b.localize=function(a,c){return this.findClosestCulture(c).messages[a]||
this.cultures["default"].messages[a]};b.parseDate=function(a,c,b){b=this.findClosestCulture(b);var d,e;if(c){if("string"===typeof c&&(c=[c]),c.length){e=0;for(var g=c.length;e<g;e++){var f=c[e];if(f&&(d=F(a,f,b)))break}}}else for(e in c=b.calendar.patterns,c)if(d=F(a,c[e],b))break;return d||null};b.parseInt=function(a,c,d){return k(b.parseFloat(a,c,d))};b.parseFloat=function(a,c,b){"number"!==typeof c&&(b=c,c=10);var g=this.findClosestCulture(b);b=NaN;var k=g.numberFormat;-1<a.indexOf(g.numberFormat.currency.symbol)&&
(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."]));a=t(a);if(d.test(a))b=parseFloat(a);else if(!c&&e.test(a))b=parseInt(a,16);else{g=z(a,k,k.pattern[0]);c=g[0];g=g[1];""===c&&"(n)"!==k.pattern[0]&&(g=z(a,k,"(n)"),c=g[0],g=g[1]);""===c&&"-n"!==k.pattern[0]&&(g=z(a,k,"-n"),c=g[0],g=g[1]);c=c||"+";var h;a=g.indexOf("e");0>a&&(a=g.indexOf("E"));0>a?(h=g,a=null):(h=g.substr(0,a),a=g.substr(a+1));var n=k["."],m=h.indexOf(n);0>m?(g=h,h=null):(g=
h.substr(0,m),h=h.substr(m+n.length));n=k[","];g=g.split(n).join("");m=n.replace(/\u00A0/g," ");n!==m&&(g=g.split(m).join(""));c+=g;null!==h&&(c+="."+h);null!==a&&(k=z(a,k,"-n"),c+="e"+(k[0]||"+")+k[1]);f.test(c)&&(b=parseFloat(c))}return b};b.culture=function(a){"undefined"!==typeof a&&(this.cultureSelector=a);return this.findClosestCulture(a)||this.cultures["default"]}})(this);
(function(a,c,b){"$:nomunge";a.scrollbarWidth=function(){var e,d;b===c&&(e=a('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),d=e.children(),b=d.innerWidth()-d.height(99).innerWidth(),e.remove());return b}})(jQuery);
(function(a,c){function b(a){return"string"===typeof a}function e(a){var c=q.call(arguments,1);return function(){return a.apply(this,c.concat(q.call(arguments)))}}function d(d,g,e,f,k){var n;f!==p?(g=e.match(d?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),e=g[3]||"",2===k&&b(f)?f=f.replace(d?F:u,""):(n=s(g[2]),f=b(f)?s[d?w:r](f):f,f=2===k?f:1===k?a.extend({},f,n):a.extend({},n,f),f=E(f),d&&(f=f.replace(z,v))),d=g[1]+(d?"#":f||!g[1]?"?":"")+f+e):d=g(e!==p?e:c[x][h]);return d}function f(a,c,d){c===
p||"boolean"===typeof c?(d=c,c=E[a?w:r]()):c=b(c)?c.replace(a?F:u,""):c;return s(c,d)}function l(c,d,g,e){b(g)||"object"===typeof g||(e=g,g=d,d=p);return this.each(function(){var b=a(this),f=d||n()[(this.nodeName||"").toLowerCase()]||"",k=f&&b.attr(f)||"";b.attr(f,E[c](k,g,e))})}"$:nomunge";var p,q=Array.prototype.slice,v=decodeURIComponent,E=a.param,B,s,C,t=a.bbq=a.bbq||{},k,g,n,D=a.event.special,r="querystring",w="fragment",x="location",h="href",u=/^.*\?|#.*$/g,F=/^.*\#/,z,G={};E[r]=e(d,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});E[w]=B=e(d,1,function(a){return a.replace(/^[^#]*#?(.*)$/,"$1")});B.noEscape=function(c){c=a.map((c||"").split(""),encodeURIComponent);z=new RegExp(c.join("|"),"g")};B.noEscape(",/");a.deparam=s=function(c,b){var d={},g={"true":!0,"false":!1,"null":null};a.each(c.replace(/\+/g," ").split("&"),function(c,e){var f=e.split("="),k=v(f[0]),h=d,n=0,u=k.split("]["),r=u.length-1;/\[/.test(u[0])&&/\]$/.test(u[r])?(u[r]=u[r].replace(/\]$/,""),u=u.shift().split("[").concat(u),r=u.length-1):r=0;if(2===
f.length)if(f=v(f[1]),b&&(f=f&&!isNaN(f)?+f:"undefined"===f?p:g[f]!==p?g[f]:f),r)for(;n<=r;n++)k=""===u[n]?h.length:u[n],h=h[k]=n<r?h[k]||(u[n+1]&&isNaN(u[n+1])?{}:[]):f;else a.isArray(d[k])?d[k].push(f):d[k]=d[k]!==p?[d[k],f]:f;else k&&(d[k]=b?p:"")});return d};s[r]=e(f,0);s[w]=C=e(f,1);a.elemUrlAttr||(a.elemUrlAttr=function(c){return a.extend(G,c)})({a:h,base:h,iframe:"src",img:"src",input:"src",form:"action",link:h,script:"src"});n=a.elemUrlAttr;a.fn[r]=e(l,r);a.fn[w]=e(l,w);t.pushState=k=function(a,
d){b(a)&&/^#/.test(a)&&d===p&&(d=2);var g=a!==p,g=B(c[x][h],g?a:{},g?d:2);c[x][h]=g+(/#/.test(g)?"":"#")};t.getState=g=function(a,c){return a===p||"boolean"===typeof a?C(a):C(c)[a]};t.removeState=function(c){var b={};c!==p&&(b=g(),a.each(a.isArray(c)?c:arguments,function(a,c){delete b[c]}));k(b,2)};D.hashchange=a.extend(D.hashchange,{add:function(c){function b(a){var c=a[w]=B();a.getState=function(a,b){return a===p||"boolean"===typeof a?s(c,a):s(c,b)[a]};d.apply(this,arguments)}var d;if(a.isFunction(c))return d=
c,b;d=c.handler;c.handler=b}})})(jQuery,this);
(function(a,c,b){function e(a){a=a||c[l][p];return a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var d,f=a.event.special,l="location",p="href",q=document.documentMode,v=a.browser.msie&&(q===b||8>q),E="onhashchange"in c&&!v;a.hashchangeDelay=100;f.hashchange=a.extend(f.hashchange,{setup:function(){if(E)return!1;a(d.start)},teardown:function(){if(E)return!1;a(d.stop)}});d=function(){function b(){k=g=function(a){return a};v&&(q=a('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,g=
function(){return e(q.document[l][p])},k=function(a,c){if(a!==c){var b=q.document;b.open().close();b[l].hash="#"+a}},k(e()))}var d={},f,q,k,g;d.start=function(){if(!f){var d=e();k||b();(function r(){var b=e(),q=g(d);b!==d?(k(d=b,q),a(c).trigger("hashchange")):q!==d&&(c[l][p]=c[l][p].replace(/#.*/,"")+"#"+q);f=setTimeout(r,a.hashchangeDelay)})()}};d.stop=function(){q||(f&&clearTimeout(f),f=0)};return d}()})(jQuery,this);
(function(a,c){"$:nomunge";var b=a.jQuery||a.Cowboy||(a.Cowboy={}),e;b.throttle=e=function(a,e,l,p){function q(){function b(){E=+new Date;l.apply(C,k)}function q(){v=c}var C=this,t=+new Date-E,k=arguments;p&&!v&&b();v&&clearTimeout(v);p===c&&t>a?b():!0!==e&&(v=setTimeout(p?q:b,p===c?a-t:a))}var v,E=0;"boolean"!==typeof e&&(p=l,l=e,e=c);b.guid&&(q.guid=l.guid=l.guid||b.guid++);return q};b.debounce=function(a,b,l){return l===c?e(a,b,!1):e(a,l,!1!==b)}})(this);
(function(){function a(a){function b(b,d){var n,l,r=b==window,w=d&&void 0!==d.message?d.message:void 0;d=a.extend({},a.blockUI.defaults,d||{});if(!d.ignoreIfBlocked||!a(b).data("blockUI.isBlocked")){d.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,d.overlayCSS||{});n=a.extend({},a.blockUI.defaults.css,d.css||{});d.onOverlayClick&&(d.overlayCSS.cursor="pointer");l=a.extend({},a.blockUI.defaults.themedCSS,d.themedCSS||{});w=void 0===w?d.message:w;r&&C&&e(window,{fadeOut:0});if(w&&"string"!=typeof w&&
(w.parentNode||w.jquery)){var x=w.jquery?w[0]:w,h={};a(b).data("blockUI.history",h);h.el=x;h.parent=x.parentNode;h.display=x.style.display;h.position=x.style.position;h.parent&&h.parent.removeChild(x)}a(b).data("blockUI.onUnblock",d.onUnblock);var h=d.baseZ,u;u=E||d.forceIframe?a('<iframe class="blockUI" style="z-index:'+h++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+d.iframeSrc+'"></iframe>'):a('<div class="blockUI" style="display:none"></div>');
x=d.theme?a('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+h++ +';display:none"></div>'):a('<div class="blockUI blockOverlay" style="z-index:'+h++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');d.theme&&r?(h='<div class="blockUI '+d.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(h+10)+';display:none;position:fixed">',d.title&&(h+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+
(d.title||"&nbsp;")+"</div>"),h+='<div class="ui-widget-content ui-dialog-content"></div></div>'):d.theme?(h='<div class="blockUI '+d.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(h+10)+';display:none;position:absolute">',d.title&&(h+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),h+='<div class="ui-widget-content ui-dialog-content"></div>',h+="</div>"):h=r?'<div class="blockUI '+d.blockMsgClass+' blockPage" style="z-index:'+
(h+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+d.blockMsgClass+' blockElement" style="z-index:'+(h+10)+';display:none;position:absolute"></div>';h=a(h);w&&(d.theme?(h.css(l),h.addClass("ui-widget-content")):h.css(n));d.theme||x.css(d.overlayCSS);x.css("position",r?"fixed":"absolute");(E||d.forceIframe)&&u.css("opacity",0);n=[u,x,h];var F=r?a("body"):a(b);a.each(n,function(){this.appendTo(F)});d.theme&&d.draggable&&a.fn.draggable&&h.draggable({handle:".ui-dialog-titlebar",cancel:"li"});
l=s&&(!a.support.boxModel||0<a("object,embed",r?null:b).length);if(B||l){r&&d.allowBodyStretch&&a.support.boxModel&&a("html,body").css("height","100%");if((B||!a.support.boxModel)&&!r){l=parseInt(a.css(b,"borderTopWidth"),10)||0;var z=parseInt(a.css(b,"borderLeftWidth"),10)||0,G=l?"(0 - "+l+")":0,I=z?"(0 - "+z+")":0}a.each(n,function(a,c){var b=c[0].style;b.position="absolute";if(2>a)r?b.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+
d.quirksmodeOffsetHack+') + "px"'):b.setExpression("height",'this.parentNode.offsetHeight + "px"'),r?b.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):b.setExpression("width",'this.parentNode.offsetWidth + "px"'),I&&b.setExpression("left",I),G&&b.setExpression("top",G);else if(d.centerY)r&&b.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),
b.marginTop=0;else if(!d.centerY&&r){var e="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(d.css&&d.css.top?parseInt(d.css.top,10):0)+') + "px"';b.setExpression("top",e)}})}w&&(d.theme?h.find(".ui-widget-content").append(w):h.append(w),(w.jquery||w.nodeType)&&a(w).show());(E||d.forceIframe)&&d.showOverlay&&u.show();d.fadeIn?(n=d.onBlock?d.onBlock:v,u=d.showOverlay&&!w?n:v,n=w?n:v,d.showOverlay&&x._fadeIn(d.fadeIn,u),w&&h._fadeIn(d.fadeIn,
n)):(d.showOverlay&&x.show(),w&&h.show(),d.onBlock&&d.onBlock.bind(h)());f(1,b,d);r?(C=h[0],t=a(d.focusableElements,C),d.focusInput&&setTimeout(p,20)):q(h[0],d.centerX,d.centerY);d.timeout&&(w=setTimeout(function(){r?a.unblockUI(d):a(b).unblock(d)},d.timeout),a(b).data("blockUI.timeout",w))}}function e(b,e){var n,l=b==window,r=a(b),p=r.data("blockUI.history"),q=r.data("blockUI.timeout");q&&(clearTimeout(q),r.removeData("blockUI.timeout"));e=a.extend({},a.blockUI.defaults,e||{});f(0,b,e);null===e.onUnblock&&
(e.onUnblock=r.data("blockUI.onUnblock"),r.removeData("blockUI.onUnblock"));var h;h=l?a("body").children().filter(".blockUI").add("body > .blockUI"):r.find(">.blockUI");e.cursorReset&&(1<h.length&&(h[1].style.cursor=e.cursorReset),2<h.length&&(h[2].style.cursor=e.cursorReset));l&&(C=t=null);e.fadeOut?(n=h.length,h.stop().fadeOut(e.fadeOut,function(){0===--n&&d(h,p,e,b)})):d(h,p,e,b)}function d(b,d,e,f){var l=a(f);if(!l.data("blockUI.isBlocked")){b.each(function(a,c){this.parentNode&&this.parentNode.removeChild(this)});
d&&d.el&&(d.el.style.display=d.display,d.el.style.position=d.position,d.el.style.cursor="default",d.parent&&d.parent.appendChild(d.el),l.removeData("blockUI.history"));l.data("blockUI.static")&&l.css("position","static");if("function"==typeof e.onUnblock)e.onUnblock(f,e);b=a(document.body);d=b.width();e=b[0].style.width;b.width(d-1).width(d);b[0].style.width=e}}function f(b,d,e){var f=d==window;d=a(d);if(b||(!f||C)&&(f||d.data("blockUI.isBlocked")))d.data("blockUI.isBlocked",b),f&&e.bindEvents&&(!b||
e.showOverlay)&&(b?a(document).bind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",e,l):a(document).unbind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",l))}function l(b){if("keydown"===b.type&&b.keyCode&&9==b.keyCode&&C&&b.data.constrainTabKey){var d=t,e=b.shiftKey&&b.target===d[0];if(!b.shiftKey&&b.target===d[d.length-1]||e)return setTimeout(function(){p(e)},10),!1}var d=b.data,f=a(b.target);if(f.hasClass("blockOverlay")&&d.onOverlayClick)d.onOverlayClick(b);
return 0<f.parents("div."+d.blockMsgClass).length?!0:0===f.parents().children().filter("div.blockUI").length}function p(a){t&&(a=t[!0===a?t.length-1:0])&&a.focus()}function q(b,d,e){var f=b.parentNode,l=b.style,p=(f.offsetWidth-b.offsetWidth)/2-(parseInt(a.css(f,"borderLeftWidth"),10)||0);b=(f.offsetHeight-b.offsetHeight)/2-(parseInt(a.css(f,"borderTopWidth"),10)||0);d&&(l.left=0<p?p+"px":"0");e&&(l.top=0<b?b+"px":"0")}a.fn._fadeIn=a.fn.fadeIn;var v=a.noop||function(){},E=/MSIE/.test(navigator.userAgent),
B=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),s=a.isFunction(document.createElement("div").style.setExpression);a.blockUI=function(a){b(window,a)};a.unblockUI=function(a){e(window,a)};a.growlUI=function(b,d,e,f){var l=a('<div class="growlUI"></div>');b&&l.append("<h1>"+b+"</h1>");d&&l.append("<h2>"+d+"</h2>");void 0===e&&(e=3E3);var p=function(b){b=b||{};a.blockUI({message:l,fadeIn:"undefined"!==typeof b.fadeIn?b.fadeIn:700,fadeOut:"undefined"!==typeof b.fadeOut?b.fadeOut:
1E3,timeout:"undefined"!==typeof b.timeout?b.timeout:e,centerY:!1,showOverlay:!1,onUnblock:f,css:a.blockUI.defaults.growlCSS})};p();l.css("opacity");l.mouseover(function(){p({fadeIn:0,timeout:3E4});var b=a(".blockMsg");b.stop();b.fadeTo(300,1)}).mouseout(function(){a(".blockMsg").fadeOut(1E3)})};a.fn.block=function(d){if(this[0]===window)return a.blockUI(d),this;var e=a.extend({},a.blockUI.defaults,d||{});this.each(function(){var b=a(this);e.ignoreIfBlocked&&b.data("blockUI.isBlocked")||b.unblock({fadeOut:0})});
return this.each(function(){"static"==a.css(this,"position")&&(this.style.position="relative",a(this).data("blockUI.static",!0));this.style.zoom=1;b(this,d)})};a.fn.unblock=function(b){return this[0]===window?(a.unblockUI(b),this):this.each(function(){e(this,b)})};a.blockUI.version=2.7;a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",
cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1E3,centerX:!0,centerY:!0,
allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var C=null,t=[]}"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)})();
(function(a,c,b){var e=Array.prototype.slice;jQuery.widget.extend=function(b){for(var c=e.call(arguments,1),d=0,f=c.length,g,h;d<f;d++)for(g in c[d])h=c[d][g],c[d].hasOwnProperty(g)&&void 0!==h&&(a.isPlainObject(h)&&a.isPlainObject(b[g])?b[g]=a.widget.extend({},b[g],h):b[g]=h);return b};var d=function(){};d.prototype.initialize=function(b){var c=this,d=a("<div>").css({fontFamily:"Arial,sans-serif",fontSize:"small"});this.legendButton=this.makeButton_(l.txt_legend).appendTo(d).css("right","10.2em").hide().click(function(){c.legendPopup.is(":hidden")?
c.legendPopup.show():c.legendPopup.hide()});this.legendPopup=a("<div>").addClass("MapLegendContainer").hide().appendTo(this.legendButton);var e=this.makeButton_(l.txt_to_bottom).appendTo(d).css("right","5.1em").click(function(){var a=b.getCenter();I("Bottom");e.hide();f.show();b.panTo(a)}),f=this.makeButton_(l.txt_to_side).appendTo(d).css("right","5.1em").click(function(){var a=b.getCenter();I("Side");f.hide();e.show();b.panTo(a)});this.makeButton_(l.txt_close).appendTo(d).click(function(){var b=
a.param.fragment();if("/SHOWMAP"===b)a.bbq.pushState("#");else{var c=b.split("?"),b=c[0],c=1<c.length?"?"+c[1]:"";a.bbq.pushState("#"+b+":NOMAP"+c)}});"Side"===t?f.hide():e.hide();return d[0]};d.prototype.makeButton_=function(b){return a("<div>").css({backgroundColor:"white",border:"1px solid black",textAlign:"center",width:"5em",cursor:"pointer",position:"absolute",bottom:"0px",right:"0px"}).append(a("<div>").css({borderStyle:"solid",borderWidth:"1px",borderColor:"white rgb(176, 176, 176) rgb(176, 176, 176) white",
fontSize:"12px"}).text(b))};d.prototype.addCategory=function(c,d,e,f){c=a("<li>").css("listStyleImage","url('"+c+"')").text(d);this.legendButton.is(":hidden")&&(this.legendList=a("<ul>").addClass("MapLegendList").appendTo(this.legendPopup),this.legendButton.show());this.legendList.append(c);f&&a('<input type="checkbox">').prop({checked:!0,id:"mapping_category_"+e}).prependTo(c).click(function(a){a.stopPropagation();a=b.getElementById("mapping_category_"+e).checked;var c=[],d;for(d in D){var f=D[d];
f.mappin===e&&c.push(f.marker)}a?C.addMarkers(c):C.removeMarkers(c)})};var f,l,p,q,v=null,E=function(b){var c=a("#results-column");c.length&&(v||(v=c[0].className),b?(a("#subjects_column").hide(),a("#show_subjects_display").show(),c[0].className="cioc-col-xs-12"):(a("#subjects_column").show(),a("#show_subjects_display").hide(),c[0].className=v))},B=function(){E(!0);return!1};c.do_hide_subjects=B;c.do_show_subjects=function(a){a.preventDefault();E(!1);return!1};var s=null,C=null,t="Side",k=[0,0],g=
null,n=null,D={},r=null,w=null,x=null,h=null,u=null,F=null,z=null,G=function(){var a=[t].concat(k).join(","),c;c=new Date;c.setTime(c.getTime()+31536E6);c="; expires="+c.toGMTString();b.cookie="cioc_map_position="+a+c+"; path=/"},I=function(b){if(t!==b){t=b;G();x.show();r[0].className="MapSearchShift MapSearchShift"+t;h[0].className="MapSearchResults MapSearchResults"+t;x[0].className="MapSearchResults MapSearchResults"+t;var d="Side"===t?parseInt(k[0],10):parseInt(k[1],10);"Side"===b?(a("#bottom-handle").hide(),
a("#side-handle").show(),d?(b=parseInt((a(c).width()*d/100).toFixed(0),10),x.css({width:b.toString()+"px",height:""}),h.css({width:b-F.outerWidth()+"px",height:""})):(x.css({width:"",height:""}),h.css({width:"",height:""}))):(a("#bottom-handle").show(),a("#site-handle").hide(),d?(b=parseInt((a(c).height()*d/100).toFixed(0),10),x.css({height:(b+u.outerHeight()).toString()+"px",width:""}),h.css({height:b+"px",width:""})):(x.css({height:"",width:""}),h.css({height:"",width:""})));M()}},H=function(){O&&
(K.find("#results_table").addClass("HideMapColumn"),a.browser.msie&&"8.0">a.browser.msie&&K.find(".MapColumn").removeClass("FixIE"),a("#check_all_in_viewport").hide(),a("#subjects_column").length&&a("#show_subjects_display").show(),a("#map_my_results_ui").show(),x.hide(),M())},y=function(){return'<div id="map_popup" class="MapPopup">'},S=null,J=null,L=null,m=null,T=null,ea=function(){N=S=null;va();L&&(google.maps.event.removeListener(L),L=null)},A=function(){J&&(J.close(),ea())},X=function(a,b,c){A();
J=new google.maps.InfoWindow({content:a,position:b,maxWidth:h.innerWidth()-150,pixelOffset:c});L=google.maps.event.addListener(J,"closeclick",ea);J.open(s)},ra=function(a){var b,c;if(S===a&&J)A();else{if(9<a.getSize()&&s.getZoom()<s.mapTypes.get(s.getMapTypeId()).maxZoom)return!0;var d=a.getMarkers(),e=y()+"<ul>",g=[];for(b=0;b<d.length;b++){c=d[b].num;var h=D[c];g.push(c);e+="<li style=\"list-style-image: url('"+f[h.mappin].image_small_circle+"');\"><b>"+h.orgname+'</b><br><a href="#/'+c+'">'+l.txt_more_info+
"</a></li>"}X(e+"</ul></div>",a.getCenter(),T);S=a;for(b=0;b<g.length;b++)c=g[b],ga(c)}return!1},U=!1,sa=function(){U=!0},fa=!1,ua=function(){fa=U=!1;if(V){var a=V;V=null;W.apply(null,a)}else if(N){var b=D[N],a=b.marker;(b=ha(C,b.marker))&&1<b.getSize()?J.setOptions({position:b.getCenter(),pixelOffset:T}):J.setOptions({position:a.getPosition(),pixelOffset:m})}else S&&U&&A()},ta=function(){M()};c.maps_loaded=function(){var b=[59.888937,-101.601562],b={center:new google.maps.LatLng(b[0],b[1]),zoom:2,
mapTypeId:google.maps.MapTypeId.ROADMAP};s=new google.maps.Map(h[0],b);google.maps.event.addListener(s,"zoom_changed",sa);C=new MarkerClusterer(s,[],{gridSize:21,maxZoom:99,styles:[{url:"images/mapping/mm_0_white_circle.png",height:30,width:30}],zoomOnClick:!1});google.maps.event.addListener(C,"click",ra);google.maps.event.addListener(C,"clusteringend",ua);z=new d;s.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(z.initialize(s));a(c).resize(ta);wa();(b=a.param.fragment())&&"/SHOWMAP"!==b&&
a(c).trigger("hashchange")};var ba=function(){var b=a(c);return{width:b.width(),height:b.height()}},ca=function(){var a=r[0];return a.scrollHeight>a.offsetHeight},da=function(){var a=r[0];return a.scrollWidth>a.offsetWidth},M=function(b){null===g&&(g=a.scrollbarWidth());var c=g,d=g,e=ba();if(null===P&&!ca()||null!==P&&!P)c=0;if(null===Q&&!da()||null!==Q&&!Q)d=0;"Side"===t?(d=x.is(":visible")?x.outerWidth():0,r.css({width:(e.width-d).toString()+"px",height:""}),w.css("width",(e.width-d-c-n.width).toString()+
"px"),h.css("height",e.height+"px")):(c=x.is(":visible")?x.height():0,r.css({height:(e.height-c).toString()+"px",width:""}),w.css({height:(e.height-c-d-n.height).toString()+"px",width:""}));s&&!b&&google.maps.event.trigger(s,"resize");b||Y()},P=null,Q=null,R={},N=null,va=function(){a.each(R,function(a,b){b.marker_icon&&(b.marker_icon.prop("src",f[D[a].mappin].image_small),b.marker_cell.removeClass("HighLight"))});R={}},ga=function(b){var c=a("#map_marker_icon_"+b+",#map_marker_icon_mobile_"+b),d=
a("#map_column_"+b+",#map_column_mobile_"+b);c&&(c.prop("src",f[D[b].mappin].image_small_dot),d.addClass("HighLight"));R[b]={marker_icon:c,marker_cell:d};return c},xa=function(){a.each(R,function(b,c){if(!c.marker_icon){var d=a("#map_marker_icon_"+b+",#map_marker_icon_mobile_"+b),e=a("#map_column_"+b+",#map_column_mobile_"+b);d.prop("src",f[D[b].mappin].image_small_dot);e.addClass("HighLight");c.marker_icon=d;c.marker_cell=e}})},ha=function(a,b){for(var c=a.getClusters(),d=0;d<c.length;d++)if(c[d].isMarkerInClusterBounds(b))return c[d];
return null},V=null,W=function(b,c,d,e){if("undefined"===typeof d||null===d)d=!1;if(fa)V=a.makeArray(arguments);else{var f=D[b];if(f&&f.marker){if(N===b&&J||e)if(d&&!e||A(),!e)return;var g=y()+"<b>"+f.orgname+'</b><br><a href="#/'+b+'">'+l.txt_more_info+"</a></div>",f=f.marker,h=ha(C,f);h&&1<h.getSize()?(s.getBounds().contains(h.getCenter())||s.setCenter(h.getCenter()),X(g,h.getCenter(),T)):X(g,f.getPosition(),m);N=b;g=ga(b);g.length&&c&&(f=r,g.filter(":visible")[0].scrollIntoView(!0),f.scrollTop(f.scrollTop()-
5))}else N&&J&&A()}},ia=function(a){return function(b){W(b,a)}},za=function(b,c){a.ajax(c,{type:"get",data:{InlineResults:"on"},dataType:"text",success:function(a){ya(b,a)}});return!1},K=null,ja=null,Z=null,ka=null,la=null,Aa=function(){if(K){var c=a("#body_content");c.find("#results_table").length||c.replaceWith(K);var c=a("head")[0],d=b.getElementById("custom_style");d&&c.removeChild(d);ma(ka);na(la);Z&&c.appendChild(Z);b.title=ja;M();xa();setTimeout(function(){M();N?W(N,!0,!0,!0):r.scrollTop(0)},
100)}return!1},ma=function(a){var c=b.getElementById("basic_style");a!==c.href&&(c.href=a)},na=function(a){var c=b.getElementById("template_style");a!==c.href&&(c.href=a)},ya=function(c,d){for(var e=a("#body_content"),f=d.indexOf("<div "),g=a.trim(d.substr(0,f)),g=g.split("\n"),h={},k=0;k<g.length;k++){var u=g[k].replace(/\s+$/,"");if(u){var l=u.substr(0,u.indexOf("=")),u=u.substr(u.indexOf("=")+1);h[l]=u}}g=e.parent();e.remove();e=d.substr(f);g.html(e);e=a("head")[0];(f=b.getElementById("custom_style"))&&
e.removeChild(f);ma(h.basic_stylesheet);na(h.template_stylesheet);if(f=h.custom_stylesheet)g=b.createElement("link"),g.rel="STYLESHEET",g.type="text/css",g.id="custom_style",g.href=f,e.appendChild(g);b.title=h.title;M();a(r).scrollTop(0);add_details_last_visible_class();setTimeout(function(a){M();W(a,!1,!0,!0)},1,c)},Ba=function(b){b=b.fragment;var d=b.split("?",2);b=d[0];d=d[1];if("/SHOWMAP"===b)O&&!h.is(":hidden")||oa(),h.is(":visible")&&Aa();else if(b){var e=b.split(":");b=1<e.length&&"NOMAP"===
e[1];e=e[0];if(O){var e=e.substr(1),f=K.find("#details_link_"+e).prop("href");if(f=f?f.replace(/^about:/,""):"/record/"+e)d=d||{},f=a.param.querystring(f,d),h.is(":visible")?za(e,f):c.location.href=f;b&&H()}else oa()}else H()},Ca=function(){if(x.is(":visible")){var b=a(this).prop("href").split("?",2)[1]||"";b&&(b="?"+b);a.bbq.pushState("#/"+a(this).data("num")+b);return!1}},Da=function(){if(h.is(":visible"))return a.bbq.pushState("#/SHOWMAP"),!1},Ea=function(){var b=a(this).serialize();b&&(b="?"+
b);var c=this.action.split("?")[0].split("/"),c=c[c.length-1];a.bbq.pushState("#/"+c+b);return!1};c.do_check_all_in_viewport=function(){var a=null;D&&s&&(a=s.getBounds());for(var c=b.RecordList,d=c.elements.length,e=0;e<d;e++){var f=c.elements[e];if("IDList"===f.name){var g=f.value;if(D&&s&&(g=D[g])&&g.icon&&a.contains(g.point)){f.checked=!0;continue}f.checked=!1}}return!1};var Y=a.throttle(200,function(){if(D&&s){var b=s.getBounds();if(b){var c=K.find("#results_table").hide();a.each(D,function(a,
c){if(c.icon&&!R[a]){var d=c.last_in_bounds||!1;b.contains(c.point)?!1===d&&(c.icon.prop("src",f[c.mappin].image_small),c.icon.prop("title",f[c.mappin].category),c.last_in_bounds=!0):!0===d&&(c.icon.prop("src","images/mapping/mm_0_white_20.png"),c.last_in_bounds=!1)}});c.show().css("display","")}}}),pa=function(){K.find("#results_table").removeClass("HideMapColumn");a.browser.msie&&"8.0">a.browser.msie&&K.find(".MapColumn").removeClass("FixIE")},Fa=ia(!0),Ga=function(a){return function(){Fa(a)}},
Ha=ia(!1),Ia=function(){Ha(a(this).data("info").num)},Ja=function(a,b){return a-b},wa=function(){pa();K.find("#check_all_in_viewport").show();var c=K.find(".MapLink"),d=new google.maps.LatLngBounds,e={0:{image:"image_small_circle",add_checkbox:!1}},g=[];m=new google.maps.Size(0,-25);T=new google.maps.Size(0,0);c.each(function(){var b=a(this).data("info"),c=b.num;b.icon=jQuery("#map_marker_icon_"+c+",#map_marker_icon_mobile_"+c);b.icon.length||(b.icon=null);b.latitude=Globalize.parseFloat(b.latitude);
b.longitude=Globalize.parseFloat(b.longitude);D[c]=b;var h=new google.maps.LatLng(b.latitude,b.longitude);b.point=h;var k=f[b.mappin].options;k||(k={icon:new google.maps.MarkerImage(f[b.mappin].image,new google.maps.Size(15,25)),shadow:new google.maps.MarkerImage("images/mapping/mm_shadow.png",new google.maps.Size(28,25),null,new google.maps.Point(8,25)),shape:{coords:[11,0,12,1,13,2,14,3,14,4,14,5,14,6,14,7,14,8,14,9,14,10,14,11,13,12,12,13,11,14,11,15,10,16,10,17,10,18,10,19,9,20,8,21,8,22,8,23,
8,24,6,24,6,23,6,22,6,21,6,20,5,19,4,18,4,17,4,16,3,15,3,14,2,13,1,12,0,11,0,10,0,9,0,8,0,7,0,6,0,5,0,4,0,3,1,2,2,1,3,0],type:"poly"}},f[b.mappin].options=k,e[b.mappin]={image:"image_small",add_checkbox:!0});k=a.extend({position:h},k);b.marker=new google.maps.Marker(k);b.marker.num=c;g.push(b.marker);d.extend(h);b.marker_evt=google.maps.event.addListener(b.marker,"click",Ga(c))});C.addMarkers(g,0);var h=[],k;for(k in f)h.push(k);h.sort(Ja);for(var u=0;u<h.length;u++){k=h[u];var l=e[k];l&&z.addCategory(f[k][l.image],
f[k].category,parseInt(k,10),l.add_checkbox)}a(b).on("click",".DetailsLink",Ca);a(b).on("click",".SearchTotalLink",Da);a(b).on("submit","#change_view_form",Ea);a(b).on("click",".MapLink,.MapLinkMobile",Ia);U=!1;google.maps.event.addListener(s,"bounds_changed",Y);c.length?s.fitBounds(d):(s.setCenter(new google.maps.LatLng(59.888937,-101.601562)),s.setZoom(2));c=b.getElementById("geo_latitude");(h=b.getElementById("geo_longitude"))&&c&&h.value&&c.value&&(c={icon:new google.maps.MarkerImage("images/mapping/mm_home.png",
new google.maps.Size(23,39),null,new google.maps.Point(11,38)),shadow:new google.maps.MarkerImage("images/mapping/mm_home_shadow.png",new google.maps.Size(43,39)),position:new google.maps.LatLng(Globalize.parseFloat(c.value),Globalize.parseFloat(h.value)),clickable:!1,zIndex:-15E9},(new google.maps.Marker(c)).setMap(s))},aa=null,Ka=function(){P=ca();Q=da();aa=s.getCenter()},qa=a.throttle(100,function(){"Side"===t?h.css("width",x.innerWidth()-F.outerWidth()+"px"):h.css("height",x.innerHeight()-u.outerHeight()+
"px");M();aa&&s.setCenter(aa)}),La=function(b,d){h.css({position:"absolute",top:"0px",right:"0px"});qa(b,d);setTimeout(Y,5);Q=P=null;"Side"===t?(k[0]=(100*x.outerWidth()/a(c).width()).toFixed(0),x.css({top:"",left:"",height:""}),h.css({top:"",left:"",height:""})):(k[1]=(100*x.outerHeight()/a(c).height()).toFixed(0),x.css({top:"",left:"",width:""}),h.css({top:"",left:""}));G()},O=!1,oa=function(){var d;a:{d=b.cookie.split(";");for(var e=0;e<d.length;e++){for(var f=d[e];" "===f.charAt(0);)f=f.substring(1,
f.length);if(0===f.indexOf("cioc_map_position=")){d=f.substring(18,f.length);break a}}d=null}d&&(d=d.split(","),t=d[0],1<d.length&&(k=[d[1],d[2]]));B();a("#show_subjects_display").hide();if(O)a("#map_container").show();else{var e=a("body"),g=a("<div>");d=a("#body_content").before(g).hide();d.find("script").remove();a("html").css("overflow","hidden");e.css({height:"100%"});var l=ba(),m=g.offset(),f=m.top,m=m.left,z=l.width-e.width()-m;n={height:f,width:m+z};l=a('<div id="fake_body"></div>').prop("className",
"MapSearchShift MapSearchShift"+t).insertBefore(g);f=a('<div id="fake_body_content"></div>').css("margin",f+"px "+z+"px 0px "+m+"px").appendTo(l);g.remove();m={start:Ka,stop:La,handles:{w:"#side-handle",n:"#bottom-handle"}};is_ie7?m.helper="ui-state-default":m.resize=qa;g=a('<div id="map_container" style="position: absolute;"><div id="side-handle" class="ui-resizable-handle ui-resizable-w"><div id="map_drag_icon_left"></div><div id="map_drag_icon_right" style="position:absolute; top:50%; margin-top: 5px;"></div></div><div id="bottom-handle" class="ui-resizable-handle ui-resizable-n"><div id="map_drag_handle_bottom"><div id="map_drag_icon_up"></div><div id="map_drag_icon_down"></div></div></div><div id="map_canvas" style="position: absolute"></div></div>').insertBefore(l);
a("#map_container").resizable(m);e.css({overflow:"auto",margin:"0px"});r=l;w=f;x=g;h=e=g.find("#map_canvas");F=a("#side-handle");u=a("#bottom-handle");"Side"===t?u.hide():F.hide();if(l="Side"===t?parseInt(k[0],10):parseInt(k[1],10))"Side"===t?(l=(a(c).width()*l/100).toFixed(0),g.css("width",l+"px"),e.css("width",l-F.outerWidth()+"px")):(l=(a(c).height()*l/100).toFixed(0),g.css("height",(l+u.outerHeight()).toString()+"px"),e.css("height",l+"px"));e[0].className="MapSearchResults MapSearchResults"+
t;g[0].className="MapSearchResults MapSearchResults"+t;f.append(d);d.show();M();K=d;ja=b.title;Z=b.getElementById("custom_style");ka=b.getElementById("basic_style").href;la=b.getElementById("template_style").href;O=!0}K.find("#map_my_results_ui").hide();if(null===s)return a.getScript("//maps.googleapis.com/maps/api/js?v=3&"+q+"&sensor=false&callback=maps_loaded&language="+p),!1;pa();a("#check_all_in_viewport").show();M();return!1};c.initialize_mapping=function(d){f=d.map_pins;l=d.translations;p=d.culture;
q=d.key_arg;Globalize.culture(d.culture);a("#map_my_results_ui").show();a(c).bind("hashchange",Ba);var e=b.RecordList;e&&(e.onsubmit=function(){O&&x.is(":visible")?-1===e.action.indexOf("#/SHOWMAP")&&(e.action+="#/SHOWMAP"):-1!==e.action.indexOf("#/SHOWMAP")&&(e.action=e.action.substr(0,e.action.length-9))});a(c).trigger("hashchange")}})(jQuery,this,document);
(function(){var a={},c=jQuery,b=null,e={},d={},f="",l=function(){var a=c(this);a.uibutton({icons:{primary:a.data("icon")},text:!1})},p=function(d){b=b.map(function(){return 0<=d.indexOf(c(this).data("vutId"))?this:null});b.each(function(){var b=c(this),d=b.data("vutId");b.data("uiAdded")||(b.data("uiAdded",!0),c('<span class="vacancy-ui vacancy-buttonset"><button class="vacancy-edit" id="vacancy-edit-'+d+'" data-vut-id="'+d+'" title="'+a.edit_txt+'" data-icon="ui-icon-pencil">'+a.edit_txt+'</button><button class="vacancy-history" data-icon="ui-icon-note" data-vut-id="'+
d+'" title="'+a.history_txt+'">'+a.history_txt+"</button></span>").buttonset().insertAfter(b).find("button").each(l))})},q=function(a,b,d){b=c('<div class="alert alert-dismissable '+b+'" style="display: none"></div>').text(d).append('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');d=a.children().first();d.length?d.before(b):a.append(b);b.slideDown("slow")},v=function(a){c.each(a,function(a,b){c("#vacancy-count-"+b.bt_vut_id).text(b.text)})},
E=function(a,b,c,d){return function(a){c.unblock();a.updates&&v(a.updates);q(d,(a.success?"alert-highlight":"alert-error")+" vacancy-notification",a.msg)}},B=function(b,c,d,e){return function(b,c){d.unblock();q(e,"alert-error vacancy-notification",a.server_error_txt+("error"!==c?c:b.statusText))}},s,C=function(){f&&(s&&clearTimeout(s),s=setTimeout(t,15E3))},t=function(){s=null;c.ajax({dataType:"json",url:a.refresh_url,cache:!1,data:{ids:f}}).done(function(a){a.success&&v(a.updates)}).always(C)},k=
function(b,d){var e=d.parent().block({message:null}),f=d.data("vutId"),g=e.find(".vacancy-count"),h=e.find(".vacancy-notify-area");h.length||(h=c('<div class="vacancy-notify-area alert-stack"></div>'),h.appendTo(e));c.ajax({dataType:"json",url:a.increment_url,type:"POST",data:{BT_VUT_ID:f,Value:b}}).done(E(f,g,e,h)).fail(B(f,g,e,h))},g=function(){if(a.permission_url){b=c(".vacancy-count");var d=b.map(function(){return c(this).data("vutId")}).get();if(f=d=d.join())c.ajax({dataType:"json",url:a.permission_url,
cache:!1,data:{ids:d}}).done(p),C()}},n=null,D=function(){n||(n=c('<div id="vacancy-dialog" style="display:none;"></div>').appendTo(c("body")).dialog({autoOpen:!1,closeText:a.close_txt,title:a.history_title_txt,minWidth:500}));return n},r=function(a,b){var d=c('<p class="Alert"></p>').text(b);a.empty().append(d)},w=function(a){var b=D();a.success?b.empty().html(a.content):r(b,a.content);b.dialog("option","title",a.title)},x=function(b,c){var d=D();r(d,a.server_error_txt+("error"!==c?c:b.statusText))},
h=function(){c(document).on("click",".vacancy-edit",function(b){b.preventDefault();b.stopPropagation();b=c(this);var f=b.data("vutId"),g=b.parent(),h=e[f];h||(h=c('<span class="vacancy-incrementer-ui vacancy-buttonset" style="display: none;" id="vacancy-incrementer-'+f+'" data-vut-id="'+f+'"><button class="vacancy-incrementer-up" data-icon="ui-icon-plusthick">'+a.up_txt+'</button><button class="vacancy-incrementer-down" data-icon="ui-icon-minusthick">'+a.down_txt+'</button><button class="vacancy-incrementer-done" data-icon="ui-icon-check">'+
a.done_txt+"</button></span>").buttonset().insertAfter(g),h.find("button").each(l),d[f]=g);b.parent().hide();h.show()}).on("click",".vacancy-incrementer-done",function(a){a.preventDefault();a.stopPropagation();a=c(this).parent();var b=a.data("vutId"),b=d[b];a.hide();b.show();var e=a.parent().parent().find(".vacancy-notify-area");e.slideUp("fast",function(){e.remove()})}).on("click",".vacancy-incrementer-up",function(a){a.preventDefault();a.stopPropagation();k(1,c(this).parent())}).on("click",".vacancy-incrementer-down",
function(a){a.preventDefault();a.stopPropagation();k(-1,c(this).parent())}).on("click",".vacancy-history",function(b){b.preventDefault();b.stopPropagation();b=c(this).data("vutId");D().html('<p class="Info">'+a.loading_txt+"</p>").dialog("close").dialog("open").dialog("option","title",a.history_title_txt);c.ajax({dataType:"json",url:a.history_url,cache:!1,data:{BT_VUT_ID:b}}).done(w).fail(x)}).on("click",".close",function(a){a.preventDefault();a.stopPropagation();a=c(this);var b=a.parents("."+a.data("dismiss")).first();
b.slideUp("slow",function(){b.remove()})})};window.initialize_vacancy=function(b){a=b;g();h()};window.initialize_vacancy_options=function(b){a=b};window.initialize_vacancy_ui=g;window.initialize_vacancy_events=h})();
(function(){var a=function(){$(".agency-overview").each(function(){$(this).find(".related-row:visible").last().addClass("last-visible")})};window.initialize_listing_toggle=function(c,b,e,d){$(document).on("click",".show-toggle",function(){var a=$(this),d=a.parents(".related-records"),e=d.find(".details"),q=d.parents(".agency-overview");if(e.is(":visible"))e.slideUp(function(){a.text(c);q.find(".related-row").removeClass("last-visible").filter(":visible").last().addClass("last-visible")});else{var v=
q.find(".related-row").removeClass("last-visible");e.slideDown(function(){a.text(b);v.filter(":visible").last().addClass("last-visible")})}return!1}).on("click",".deleted-toggle",function(){var a=$(this),b=a.parents(".related-records"),c=b.find(".deleted-records"),q=b.parents(".agency-overview");if(c.is(":visible"))c.slideUp(function(){a.text(e);q.find(".related-row").removeClass("last-visible").filter(":visible").last().addClass("last-visible")});else{var v=q.find(".related-row").removeClass("last-visible");
c.slideDown(function(){a.text(d);v.filter(":visible").last().addClass("last-visible")})}return!1});a()};window.add_details_last_visible_class=a})();
