/*
 Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 Licensed under the MIT License (LICENSE.txt).

 Version 2.1.2
 jQuery blockUI plugin
 Version 2.70.0-2014.11.23
 Requires jQuery v1.7 or later

 Examples at: http://malsup.com/jquery/block/
 Copyright (c) 2007-2013 M. Alsup
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html

 Thanks to Amir-Hossein Sobhi for some excellent contributions!
 Globalize

 http://github.com/jquery/globalize

 Copyright Software Freedom Conservancy, Inc.
 Dual licensed under the MIT or GPL Version 2 licenses.
 http://jquery.org/license
*/
window.CIOC={};
(function(b,a){a.do_drop_down_navigation=function(){for(var m=b.getElementById("ActionList").options,f=0;f<m.length;f++)if(m[f].selected){var d=m[f].getAttribute("href");d&&("undefined"!=typeof m[f].attributes.newwindow?a.open(d):a.location.href=d);break}};jQuery(function(m){m("[data-toggle=dialog]").each(function(){var f=m(this),d=m(f.data("target")),t={autoOpen:!1,title:d.data("title"),modal:d.data("modal")};d.dialog(t);f.click(function(){d.dialog("isOpen")?d.dialog("close"):d.dialog("open")})})})})(document,window);
function CheckAll(b,a){b||="IDList";var m=a;a||(m=document.RecordList);a=m.elements.length;for(var f=0;f<a;f++){var d=m.elements[f];d.name===b&&(d.checked=!0)}}function ClearAll(b,a){b||="IDList";var m=a;a||(m=document.RecordList);a=m.elements.length;for(var f=0;f<a;f++){var d=m.elements[f];d.name===b&&(d.checked=!1)}}function add_class(b,a){b&&!(new RegExp("\\b"+a+"\\b")).test(b.className)&&(b.className&&(a=" "+a),b.className+=a)}
function remove_class(b,a){if(b){for(var m=b.className.split(" "),f=[],d=0;d<m.length;d++){var t=m[d];t!==a&&f.push(t)}b.className=f.join(" ")}}function hide(b){add_class(b,"NotVisible")}function show(b){remove_class(b,"NotVisible")}function openWin(b,a){window.open(b,a,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(b,a){window.open(b,a,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(b,a){window.open(b,a,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(b){var a={sm:openWin,lg:openWinL,xl:openWinXL};b(document).on("click","a.poplink",function(){var m=b(this).data("popargs");(a[m.size||"sm"]||openWin)(this.href,m.name||"popwin");return!1})});
(function(){var b=jQuery,a={},m=function(v){null!==v&&"undefined"!==typeof v?b("#myListCount").text(v):(v=b("#myListCount").text())&&(v=parseInt(v,10));v?a.myListLink.show():a.myListLink.hide()},f=function(v){b.each(v,function(D,n){b("#added_to_list_"+n).show();b("#add_to_list_"+n).hide()})},d=function(v){return function(D){D.fail?alert(D.errinfo):(D.ids?m(b.grep(D.ids,h[a.domain]).length):D.count?m(D.count):m(0),f([v]))}},t=function(v){v=b(v.currentTarget).data("id");b.ajax({success:d(v),dataType:"json",
error:function(){alert("Error")},data:{id:v},type:"POST",url:a.current_list_url})},J=function(v){return function(D){if(D.fail)alert(D.errinfo);else{D=!0;if(v){var n=b("#results_table #remove_from_list_"+v);n.length?n.parent().parent().remove():(D=!1,n=b("#results_container #remove_from_list_"+v),n.parents(".dlist-result").remove())}(D?1!==b("#results_table tr").length:0!==b("#results_container .dlist-result").length)&&v||(b("#records_ui").hide(),b("#no_records_message").show())}}},y=function(v){v=
b(v.currentTarget).data("id");b.ajax({success:J(v),dataType:"json",error:function(){alert("Error")},data:{ID:v,RemoveItem:a.domain},type:"POST",url:a.current_list_url})},z=function(v){b.ajax({success:J(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:a.domain},type:"POST",url:a.current_list_url})},h={CIC:function(v){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(v)},VOL:function(v){return/^[1-9][0-9]*$/.test(v)}},q=function(v){if(v.fail)x();else if(v.inrequest){var D=b.grep(v.ids,
h[a.domain]);f(D);m(D.length);(v=v.previous_ids)&&b.each(v,function(n,g){b("#ct_added_to_previous_request_"+g).show()});b(".ListUI img").prop("src",function(n,g){return g.replace("list","referral")});b("#list_header_text").hide();b("#ct_header_text").show();a.current_list_url=a.ct_update_url;C()}else x()},x=function(){var v=function(){a.list_view_mode||f(a.already_added||[]);a.current_list_url=a.list_view_mode&&"ct"===a.list_view_mode?a.ct_update_url:a.list_update_url;m((a.already_added||[]).length);
C()};a.list_view_mode||a.has_session?v():b.ajax({dataType:"json",error:null,url:a.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(D){D.has_session&&v()}})},C=function(){b(".HideListUI").delegate(".add_to_list","click",t).delegate(".remove_from_list","click",y).removeClass("HideListUI");b("#remove_all_from_list").click(z);b.browser.msie&&"8.0">b.browser.msie&&b(".ListUI").removeClass("FixIE")};window.init_list_adder=function(v){a=v;a.myListLink=b("#myListLink").parent(":hidden").add("#myListLink");
v.in_request?b.ajax({success:q,dataType:"json",error:null,type:"POST",url:v.in_request}):x()}})();this.JSON||(this.JSON={});
(function(){function b(h){return 10>h?"0"+h:h}function a(h){d.lastIndex=0;return d.test(h)?'"'+h.replace(d,function(q){var x=y[q];return"string"===typeof x?x:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function m(h,q){var x=t,C=q[h];C&&"object"===typeof C&&"function"===typeof C.toJSON&&(C=C.toJSON(h));"function"===typeof z&&(C=z.call(q,h,C));switch(typeof C){case "string":return a(C);case "number":return isFinite(C)?String(C):"null";case "boolean":case "null":return String(C);
case "object":if(!C)return"null";t+=J;var v=[];if("[object Array]"===Object.prototype.toString.apply(C)){var D=C.length;for(h=0;h<D;h+=1)v[h]=m(h,C)||"null";q=0===v.length?"[]":t?"[\n"+t+v.join(",\n"+t)+"\n"+x+"]":"["+v.join(",")+"]";t=x;return q}if(z&&"object"===typeof z)for(D=z.length,h=0;h<D;h+=1){var n=z[h];"string"===typeof n&&(q=m(n,C))&&v.push(a(n)+(t?": ":":")+q)}else for(n in C)Object.hasOwnProperty.call(C,n)&&(q=m(n,C))&&v.push(a(n)+(t?": ":":")+q);q=0===v.length?"{}":t?"{\n"+t+v.join(",\n"+
t)+"\n"+x+"}":"{"+v.join(",")+"}";t=x;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(h){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(h){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t,J,y={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;"function"!==typeof JSON.stringify&&(JSON.stringify=function(h,q,x){var C;J=t="";if("number"===typeof x)for(C=0;C<x;C+=1)J+=" ";else"string"===typeof x&&(J=x);if((z=q)&&"function"!==typeof q&&("object"!==typeof q||"number"!==typeof q.length))throw Error("JSON.stringify");return m("",{"":h})});
"function"!==typeof JSON.parse&&(JSON.parse=function(h,q){function x(C,v){var D,n=C[v];if(n&&"object"===typeof n)for(D in n)if(Object.hasOwnProperty.call(n,D)){var g=x(n,D);void 0!==g?n[D]=g:delete n[D]}return q.call(C,v,n)}h=String(h);f.lastIndex=0;f.test(h)&&(h=h.replace(f,function(C){return"\\u"+("0000"+C.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+h+")"),"function"===typeof q?x({"":h},""):h;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(b){var a={};jQuery(b).find("input,select,textarea").each(function(m){if(this.name)if(a[this.name]||(a[this.name]=[]),"select"===this.nodeName.toLowerCase()){var f=a[this.name];$(this).find("option").each(function(d){this.selected&&f.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&a[this.name].push(this.value||"")});return a};window.restore_form_values=function(b,a){var m=jQuery;m(b).find("input,select,textarea").each(function(f){if(this.name){var d=
a[this.name];"undefined"!=typeof d&&null!==d&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?m(this).find("option").each(function(t){this.selected=1<d.length?0<=m.inArray(this.value,d):0===d.length?!1:this.value===d[0]}):this.value=d.length?d[0]:"":this.checked=1<d.length?0<=m.inArray(this.value,d):0===d.length?!1:this.value===d[0])}})};window.init_cached_state=function(b){var a=jQuery;b=b||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];a(window).on("beforeunload",function(){var m={form_values:get_form_values(b)};a.each(onbeforeunload_fns,function(f,d){d(m)});document.getElementById("cache_form_values").value=JSON.stringify(m)});window.cache_register_onbeforeunload=function(m){onbeforeunload_fns.push(m)};window.cache_register_onbeforerestorevalues=function(m){onbeforerestorevalues_fns.push(m)};window.restore_cached_state=function(){var m=document.getElementById("cache_form_values");if(m&&m.value){var f=
JSON.parse(m.value);a.each(onbeforerestorevalues_fns,function(d,t){t(f)});restore_form_values(b,f.form_values)}}}})();
(function(){var b=jQuery,a={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},m={"en-CA":!0,"":!0},f={},d={"fr-CA":"fr","es-MX":"es"},t=function(){var y=b(this),z=y.data("culture"),h=a[z]||b.datepicker.regional[z].dateFormat,q={};y.hasClass("NoYear")&&(h=h.replace(/[\- .\/]*yy[\/]?/,""),q={beforeShow:function(x,
C){C.dpDiv.addClass("NoYearDatePicker")},onClose:function(x,C){C.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});q.dateFormat=h;y.datepicker(b.extend({},b.datepicker.regional[z],q)).prop("autocomplete","off")},J=function(y){b.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+b.ui.version+"/i18n/jquery.ui.datepicker-"+y+".min.js",function(){m[y]=!0;b.each(f[y],function(){t.call(this)});delete f[y]})};b.datepicker.regional["en-CA"]=b.extend({},b.datepicker.regional[""]);b.fn.extend({autodatepicker:function(){return this.each(function(){var y=
b(this);var z=y.parents("[lang]").first().prop("lang")||"en-CA";z=d[z]||z;y.data("culture",z);m[z]?t.call(this):(y=f[z],y||(y=f[z]=[],J(z)),y.push(this))})}});jQuery(function(){b("input.DatePicker").autodatepicker()})})();
(function(b){function a(m){return m&&m.constructor===Number?m+"px":m}b.fn.bgiframe=b.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(m){m=b.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},m);var f='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+m.src+'"style="display:block;position:absolute;z-index:-1;'+(!1!==m.opacity?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==m.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":
a(m.top))+";left:"+("auto"==m.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":a(m.left))+";width:"+("auto"==m.width?"expression(this.parentNode.offsetWidth+'px')":a(m.width))+";height:"+("auto"==m.height?"expression(this.parentNode.offsetHeight+'px')":a(m.height))+';"/>';return this.each(function(){0===b(this).children("iframe.bgiframe").length&&this.insertBefore(document.createElement(f),this.firstChild)})}:function(){return this};b.fn.bgIframe=b.fn.bgiframe})(jQuery);
(function(){function b(a){function m(n,g){var K=n==window,F=g&&void 0!==g.message?g.message:void 0;g=a.extend({},a.blockUI.defaults,g||{});if(!g.ignoreIfBlocked||!a(n).data("blockUI.isBlocked")){g.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,g.overlayCSS||{});var O=a.extend({},a.blockUI.defaults.css,g.css||{});g.onOverlayClick&&(g.overlayCSS.cursor="pointer");var P=a.extend({},a.blockUI.defaults.themedCSS,g.themedCSS||{});F=void 0===F?g.message:F;K&&v&&f(window,{fadeOut:0});if(F&&"string"!=
typeof F&&(F.parentNode||F.jquery)){var r=F.jquery?F[0]:F,E={};a(n).data("blockUI.history",E);E.el=r;E.parent=r.parentNode;E.display=r.style.display;E.position=r.style.position;E.parent&&E.parent.removeChild(r)}a(n).data("blockUI.onUnblock",g.onUnblock);E=g.baseZ;var w=q||g.forceIframe?a('<iframe class="blockUI" style="z-index:'+E++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+g.iframeSrc+'"></iframe>'):a('<div class="blockUI" style="display:none"></div>');
r=g.theme?a('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+E++ +';display:none"></div>'):a('<div class="blockUI blockOverlay" style="z-index:'+E++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');g.theme&&K?(E='<div class="blockUI '+g.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:fixed">',g.title&&(E+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+
(g.title||"&nbsp;")+"</div>"),E+='<div class="ui-widget-content ui-dialog-content"></div></div>'):g.theme?(E='<div class="blockUI '+g.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:absolute">',g.title&&(E+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(g.title||"&nbsp;")+"</div>"),E+='<div class="ui-widget-content ui-dialog-content"></div></div>'):E=K?'<div class="blockUI '+g.blockMsgClass+' blockPage" style="z-index:'+
(E+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+g.blockMsgClass+' blockElement" style="z-index:'+(E+10)+';display:none;position:absolute"></div>';E=a(E);F&&(g.theme?(E.css(P),E.addClass("ui-widget-content")):E.css(O));g.theme||r.css(g.overlayCSS);r.css("position",K?"fixed":"absolute");(q||g.forceIframe)&&w.css("opacity",0);O=[w,r,E];var H=K?a("body"):a(n);a.each(O,function(){this.appendTo(H)});g.theme&&g.draggable&&a.fn.draggable&&E.draggable({handle:".ui-dialog-titlebar",cancel:"li"});
P=C&&(!a.support.boxModel||0<a("object,embed",K?null:n).length);if(x||P){K&&g.allowBodyStretch&&a.support.boxModel&&a("html,body").css("height","100%");if((x||!a.support.boxModel)&&!K){P=parseInt(a.css(n,"borderTopWidth"),10)||0;var N=parseInt(a.css(n,"borderLeftWidth"),10)||0,c=P?"(0 - "+P+")":0,e=N?"(0 - "+N+")":0}a.each(O,function(p,l){l=l[0].style;l.position="absolute";2>p?(K?l.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+
g.quirksmodeOffsetHack+') + "px"'):l.setExpression("height",'this.parentNode.offsetHeight + "px"'),K?l.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):l.setExpression("width",'this.parentNode.offsetWidth + "px"'),e&&l.setExpression("left",e),c&&l.setExpression("top",c)):g.centerY?(K&&l.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),
l.marginTop=0):!g.centerY&&K&&(p=g.css&&g.css.top?parseInt(g.css.top,10):0,l.setExpression("top","((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+p+') + "px"'))})}F&&(g.theme?E.find(".ui-widget-content").append(F):E.append(F),(F.jquery||F.nodeType)&&a(F).show());(q||g.forceIframe)&&g.showOverlay&&w.show();g.fadeIn?(O=g.onBlock?g.onBlock:h,w=g.showOverlay&&!F?O:h,O=F?O:h,g.showOverlay&&r._fadeIn(g.fadeIn,w),F&&E._fadeIn(g.fadeIn,O)):(g.showOverlay&&
r.show(),F&&E.show(),g.onBlock&&g.onBlock.bind(E)());t(1,n,g);K?(v=E[0],D=a(g.focusableElements,v),g.focusInput&&setTimeout(y,20)):z(E[0],g.centerX,g.centerY);g.timeout&&(F=setTimeout(function(){K?a.unblockUI(g):a(n).unblock(g)},g.timeout),a(n).data("blockUI.timeout",F))}}function f(n,g){var K=n==window,F=a(n),O=F.data("blockUI.history"),P=F.data("blockUI.timeout");P&&(clearTimeout(P),F.removeData("blockUI.timeout"));g=a.extend({},a.blockUI.defaults,g||{});t(0,n,g);null===g.onUnblock&&(g.onUnblock=
F.data("blockUI.onUnblock"),F.removeData("blockUI.onUnblock"));var r=K?a("body").children().filter(".blockUI").add("body > .blockUI"):F.find(">.blockUI");g.cursorReset&&(1<r.length&&(r[1].style.cursor=g.cursorReset),2<r.length&&(r[2].style.cursor=g.cursorReset));K&&(v=D=null);if(g.fadeOut){var E=r.length;r.stop().fadeOut(g.fadeOut,function(){0===--E&&d(r,O,g,n)})}else d(r,O,g,n)}function d(n,g,K,F){var O=a(F);if(!O.data("blockUI.isBlocked")){n.each(function(P,r){this.parentNode&&this.parentNode.removeChild(this)});
g&&g.el&&(g.el.style.display=g.display,g.el.style.position=g.position,g.el.style.cursor="default",g.parent&&g.parent.appendChild(g.el),O.removeData("blockUI.history"));O.data("blockUI.static")&&O.css("position","static");if("function"==typeof K.onUnblock)K.onUnblock(F,K);n=a(document.body);g=n.width();K=n[0].style.width;n.width(g-1).width(g);n[0].style.width=K}}function t(n,g,K){var F=g==window;g=a(g);if(n||(!F||v)&&(F||g.data("blockUI.isBlocked")))g.data("blockUI.isBlocked",n),F&&K.bindEvents&&(!n||
K.showOverlay)&&(n?a(document).bind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",K,J):a(document).unbind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",J))}function J(n){if("keydown"===n.type&&n.keyCode&&9==n.keyCode&&v&&n.data.constrainTabKey){var g=D,K=n.shiftKey&&n.target===g[0];if(!n.shiftKey&&n.target===g[g.length-1]||K)return setTimeout(function(){y(K)},10),!1}g=n.data;var F=a(n.target);if(F.hasClass("blockOverlay")&&g.onOverlayClick)g.onOverlayClick(n);
return 0<F.parents("div."+g.blockMsgClass).length?!0:0===F.parents().children().filter("div.blockUI").length}function y(n){D&&(n=D[!0===n?D.length-1:0])&&n.focus()}function z(n,g,K){var F=n.parentNode,O=n.style,P=(F.offsetWidth-n.offsetWidth)/2-(parseInt(a.css(F,"borderLeftWidth"),10)||0);n=(F.offsetHeight-n.offsetHeight)/2-(parseInt(a.css(F,"borderTopWidth"),10)||0);g&&(O.left=0<P?P+"px":"0");K&&(O.top=0<n?n+"px":"0")}a.fn._fadeIn=a.fn.fadeIn;var h=a.noop||function(){},q=/MSIE/.test(navigator.userAgent),
x=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),C=a.isFunction(document.createElement("div").style.setExpression);a.blockUI=function(n){m(window,n)};a.unblockUI=function(n){f(window,n)};a.growlUI=function(n,g,K,F){var O=a('<div class="growlUI"></div>');n&&O.append("<h1>"+n+"</h1>");g&&O.append("<h2>"+g+"</h2>");void 0===K&&(K=3E3);var P=function(r){r=r||{};a.blockUI({message:O,fadeIn:"undefined"!==typeof r.fadeIn?r.fadeIn:700,fadeOut:"undefined"!==typeof r.fadeOut?r.fadeOut:
1E3,timeout:"undefined"!==typeof r.timeout?r.timeout:K,centerY:!1,showOverlay:!1,onUnblock:F,css:a.blockUI.defaults.growlCSS})};P();O.css("opacity");O.mouseover(function(){P({fadeIn:0,timeout:3E4});var r=a(".blockMsg");r.stop();r.fadeTo(300,1)}).mouseout(function(){a(".blockMsg").fadeOut(1E3)})};a.fn.block=function(n){if(this[0]===window)return a.blockUI(n),this;var g=a.extend({},a.blockUI.defaults,n||{});this.each(function(){var K=a(this);g.ignoreIfBlocked&&K.data("blockUI.isBlocked")||K.unblock({fadeOut:0})});
return this.each(function(){"static"==a.css(this,"position")&&(this.style.position="relative",a(this).data("blockUI.static",!0));this.style.zoom=1;m(this,n)})};a.fn.unblock=function(n){return this[0]===window?(a.unblockUI(n),this):this.each(function(){f(this,n)})};a.blockUI.version=2.7;a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",
cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1E3,centerX:!0,centerY:!0,
allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var v=null,D=[]}"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],b):b(jQuery)})();function formNewWindow(b){b.target=b.NewWindow.checked?"_blank":"_self"}
(function(b,a){var m,f;var d=function(c){return new d.prototype.init(c)};"undefined"!==typeof require&&"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=d:b.Globalize=d;d.cultures={};d.prototype={constructor:d,init:function(c){this.cultures=d.cultures;this.cultureSelector=c;return this}};d.prototype.init.prototype=d.prototype;d.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",
groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},
months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};
d.cultures["default"].calendar=d.cultures["default"].calendars.standard;d.cultures.en=d.cultures["default"];d.cultureSelector="en";var t=/^0x[a-f0-9]+$/i;var J=/^[+\-]?infinity$/i;var y=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;var z=/^\s+|\s+$/g;var h=function(c,e){if(c.indexOf)return c.indexOf(e);for(var p=0,l=c.length;p<l;p++)if(c[p]===e)return p;return-1};var q=function(c,e){return c.substr(c.length-e.length)===e};var x=function(){var c,e,p,l=arguments[0]||{},u=1,G=arguments.length,B=!1;"boolean"===typeof l&&
(B=l,l=arguments[1]||{},u=2);for("object"===typeof l||v(l)||(l={});u<G;u++)if(null!=(c=arguments[u]))for(e in c){var k=l[e];var A=c[e];l!==A&&(B&&A&&(D(A)||(p=C(A)))?(p?(p=!1,k=k&&C(k)?k:[]):k=k&&D(k)?k:{},l[e]=x(B,k,A)):A!==a&&(l[e]=A))}return l};var C=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)};var v=function(c){return"[object Function]"===Object.prototype.toString.call(c)};var D=function(c){return"[object Object]"===Object.prototype.toString.call(c)};
var n=function(c,e){return 0===c.indexOf(e)};var g=function(c){return(c+"").replace(z,"")};var K=function(c){return isNaN(c)?NaN:Math[0>c?"ceil":"floor"](c)};var F=function(c,e,p){var l;for(l=c.length;l<e;l+=1)c=p?"0"+c:c+"0";return c};var O=function(c,e){for(var p=0,l=!1,u=0,G=c.length;u<G;u++){var B=c.charAt(u);switch(B){case "'":l?e.push("'"):p++;l=!1;break;case "\\":l&&e.push("\\");l=!l;break;default:e.push(B),l=!1}}return p};var P=function(c,e){e=e||"F";c=c.patterns;var p=e.length;if(1===p){c=
c[e];if(!c)throw"Invalid date format string '"+e+"'.";e=c}else 2===p&&"%"===e.charAt(0)&&(e=e.charAt(1));return e};var r=function(c,e,p){function l(W,S){W+="";return 1<S&&W.length<S?(W=L[S-2]+W,W.substr(W.length-S,S)):W}function u(W,S){if(Y)return Y[S];switch(S){case 0:return W.getFullYear();case 1:return W.getMonth();case 2:return W.getDate();default:throw"Invalid part value "+S;}}var G=p.calendar,B=G.convert;if(!e||!e.length||"i"===e){if(p&&p.name.length)if(B)p=r(c,G.patterns.F,p);else{e=new Date(c.getTime());
var k=w(c,G.eras);e.setFullYear(H(c,G,k));p=e.toLocaleString()}else p=c.toString();return p}var A=G.eras,I="s"===e;e=P(G,e);p=[];var L=["0","00","000"],T=/([^d]|^)(d|dd)([^d]|$)/g,R=0,U=E(),Y;for(!I&&B&&(Y=B.fromGregorian(c));;){var M=U.lastIndex;B=U.exec(e);M=e.slice(M,B?B.index:e.length);R+=O(M,p);if(!B)break;if(R%2)p.push(B[0]);else switch(M=B[0],B=M.length,M){case "ddd":case "dddd":p.push((3===B?G.days.namesAbbr:G.days.names)[c.getDay()]);break;case "d":case "dd":k=!0;p.push(l(u(c,2),B));break;
case "MMM":case "MMMM":M=u(c,1);var Q=p,ba=Q.push,ca;if(ca=G.monthsGenitive){if(!k&&!Z){k=T.test(e);var Z=!0}ca=k}ba.call(Q,ca?G.monthsGenitive[3===B?"namesAbbr":"names"][M]:G.months[3===B?"namesAbbr":"names"][M]);break;case "M":case "MM":p.push(l(u(c,1)+1,B));break;case "y":case "yy":case "yyyy":M=Y?Y[0]:H(c,G,w(c,A),I);4>B&&(M%=100);p.push(l(M,B));break;case "h":case "hh":M=c.getHours()%12;0===M&&(M=12);p.push(l(M,B));break;case "H":case "HH":p.push(l(c.getHours(),B));break;case "m":case "mm":p.push(l(c.getMinutes(),
B));break;case "s":case "ss":p.push(l(c.getSeconds(),B));break;case "t":case "tt":M=12>c.getHours()?G.AM?G.AM[0]:" ":G.PM?G.PM[0]:" ";p.push(1===B?M.charAt(0):M);break;case "f":case "ff":case "fff":p.push(l(c.getMilliseconds(),3).substr(0,B));break;case "z":case "zz":M=c.getTimezoneOffset()/60;p.push((0>=M?"+":"-")+l(Math.floor(Math.abs(M)),B));break;case "zzz":M=c.getTimezoneOffset()/60;p.push((0>=M?"+":"-")+l(Math.floor(Math.abs(M)),2)+":"+l(Math.abs(c.getTimezoneOffset()%60),2));break;case "g":case "gg":G.eras&&
p.push(G.eras[w(c,A)].name);break;case "/":p.push(G["/"]);break;default:throw"Invalid date format pattern '"+M+"'.";}}return p.join("")};(function(){var c=function(e,p,l){var u=l.groupSizes,G=u[0],B=1,k=Math.pow(10,p);k=Math.round(e*k)/k;isFinite(k)||(k=e);e=k;k=(e+"").split(/e/i);var A=1<k.length?parseInt(k[1],10):0;e=k[0];k=e.split(".");e=k[0];k=1<k.length?k[1]:"";0<A?(k=F(k,A,!1),e+=k.slice(0,A),k=k.substr(A)):0>A&&(A=-A,e=F(e,A+1,!0),k=e.slice(-A,e.length)+k,e=e.slice(0,-A));k=0<p?l["."]+(k.length>
p?k.slice(0,p):F(k,p)):"";p=e.length-1;l=l[","];for(A="";0<=p;){if(0===G||G>p)return e.slice(0,p+1)+(A.length?l+A+k:k);A=e.slice(p-G+1,p+1)+(A.length?l+A:"");p-=G;B<u.length&&(G=u[B],B++)}return e.slice(0,p+1)+l+A+k};m=function(e,p,l){if(!isFinite(e))return Infinity===e?l.numberFormat.positiveInfinity:-Infinity===e?l.numberFormat.negativeInfinity:l.numberFormat.NaN;if(!p||"i"===p)return l.name.length?e.toLocaleString():e.toString();p=p||"D";l=l.numberFormat;var u=Math.abs(e),G=-1;1<p.length&&(G=parseInt(p.slice(1),
10));var B=p.charAt(0).toUpperCase();switch(B){case "D":p="n";u=K(u);-1!==G&&(u=F(""+u,G,!0));0>e&&(u="-"+u);break;case "N":var k=l;case "C":k=k||l.currency;case "P":k=k||l.percent;p=0>e?k.pattern[0]:k.pattern[1]||"n";-1===G&&(G=k.decimals);u=c(u*("P"===B?100:1),G,k);break;default:throw"Bad number format specifier: "+B;}e=/n|\$|-|%/g;for(k="";;){G=e.lastIndex;B=e.exec(p);k+=p.slice(G,B?B.index:p.length);if(!B)break;switch(B[0]){case "n":k+=u;break;case "$":k+=l.currency.symbol;break;case "-":/[1-9]/.test(u)&&
(k+=l["-"]);break;case "%":k+=l.percent.symbol}}return k}})();var E=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};var w=function(c,e){if(!e)return 0;for(var p=c.getTime(),l=0,u=e.length;l<u;l++)if(c=e[l].start,null===c||p>=c)return l;return 0};var H=function(c,e,p,l){c=c.getFullYear();!l&&e.eras&&(c-=e.eras[p].offset);return c};(function(){var c=function(k,A){if(100>A){var I=new Date,L=w(I);I=H(I,k,L);k=k.twoDigitYearMax;k="string"===
typeof k?(new Date).getFullYear()%100+parseInt(k,10):k;A+=I-I%100;A>k&&(A-=100)}return A};var e=function(k,A,I){var L=k.days,T=k._upperDays;T||(k._upperDays=T=[B(L.names),B(L.namesAbbr),B(L.namesShort)]);A=G(A);I?(k=h(T[1],A),-1===k&&(k=h(T[2],A))):k=h(T[0],A);return k};var p=function(k,A,I){var L=k.months,T=k.monthsGenitive||k.months,R=k._upperMonths,U=k._upperMonthsGen;R||(k._upperMonths=R=[B(L.names),B(L.namesAbbr)],k._upperMonthsGen=U=[B(T.names),B(T.namesAbbr)]);A=G(A);k=h(I?R[1]:R[0],A);0>k&&
(k=h(I?U[1]:U[0],A));return k};var l=function(k,A){var I=k._parseRegExp;if(I){var L=I[A];if(L)return L}else k._parseRegExp=I={};k=P(k,A).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");L=["^"];for(var T=[],R=0,U=0,Y=E(),M;null!==(M=Y.exec(k));){var Q=k.slice(R,M.index);R=Y.lastIndex;U+=O(Q,L);if(U%2)L.push(M[0]);else{Q=M[0];var ba=Q.length;switch(Q){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":Q="(\\D+)";break;case "tt":case "t":Q="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":Q=
"(\\d{"+ba+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":Q="(\\d\\d?)";break;case "zzz":Q="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":Q="([+-]?\\d\\d?)";break;case "/":Q="(\\/)";break;default:throw"Invalid date format pattern '"+Q+"'.";}Q&&L.push(Q);T.push(M[0])}}O(k.slice(R),L);L.push("$");k={regExp:L.join("").replace(/\s+/g,"\\s+"),groups:T};return I[A]=k};var u=function(k,A,I){return k<A||k>I};
var G=function(k){return k.split("\u00a0").join(" ").toUpperCase()};var B=function(k){for(var A=[],I=0,L=k.length;I<L;I++)A[I]=G(k[I]);return A};f=function(k,A,I){k=g(k);I=I.calendar;A=l(I,A);var L=(new RegExp(A.regExp)).exec(k);if(null===L)return null;var T=A.groups,R=A=k=null,U=null,Y=null,M=0,Q=0,ba=0,ca=0;var Z=null;for(var W=!1,S=0,ea=T.length;S<ea;S++){var V=L[S+1];if(V){var X=T[S],da=X.length,aa=parseInt(V,10);switch(X){case "dd":case "d":U=aa;if(u(U,1,31))return null;break;case "MMM":case "MMMM":R=
p(I,V,3===da);if(u(R,0,11))return null;break;case "M":case "MM":R=aa-1;if(u(R,0,11))return null;break;case "y":case "yy":case "yyyy":A=4>da?c(I,aa):aa;if(u(A,0,9999))return null;break;case "h":case "hh":M=aa;12===M&&(M=0);if(u(M,0,11))return null;break;case "H":case "HH":M=aa;if(u(M,0,23))return null;break;case "m":case "mm":Q=aa;if(u(Q,0,59))return null;break;case "s":case "ss":ba=aa;if(u(ba,0,59))return null;break;case "tt":case "t":W=I.PM&&(V===I.PM[0]||V===I.PM[1]||V===I.PM[2]);if(!W&&(!I.AM||
V!==I.AM[0]&&V!==I.AM[1]&&V!==I.AM[2]))return null;break;case "f":case "ff":case "fff":ca=aa*Math.pow(10,3-da);if(u(ca,0,999))return null;break;case "ddd":case "dddd":Y=e(I,V,3===da);if(u(Y,0,6))return null;break;case "zzz":X=V.split(/:/);if(2!==X.length)return null;Z=parseInt(X[0],10);if(u(Z,-12,13))return null;X=parseInt(X[1],10);if(u(X,0,59))return null;Z=60*Z+(n(V,"-")?-X:X);break;case "z":case "zz":Z=aa;if(u(Z,-12,13))return null;Z*=60;break;case "g":case "gg":if(!V||!I.eras)return null;V=g(V.toLowerCase());
X=0;for(da=I.eras.length;X<da;X++)if(V===I.eras[X].name.toLowerCase()){k=X;break}if(null===k)return null}}}L=new Date;T=(S=I.convert)?S.fromGregorian(L)[0]:L.getFullYear();null===A?A=T:I.eras&&(A+=I.eras[k||0].offset);null===R&&(R=0);null===U&&(U=1);if(S){if(L=S.toGregorian(A,R,U),null===L)return null}else if(L.setFullYear(A,R,U),L.getDate()!==U||null!==Y&&L.getDay()!==Y)return null;W&&12>M&&(M+=12);L.setHours(M,Q,ba,ca);null!==Z&&(I=L.getMinutes()-(Z+L.getTimezoneOffset()),L.setHours(L.getHours()+
parseInt(I/60,10),I%60));return L}})();var N=function(c,e,p){var l=e["-"];e=e["+"];var u;switch(p){case "n -":l=" "+l,e=" "+e;case "n-":q(c,l)?u=["-",c.substr(0,c.length-l.length)]:q(c,e)&&(u=["+",c.substr(0,c.length-e.length)]);break;case "- n":l+=" ",e+=" ";case "-n":n(c,l)?u=["-",c.substr(l.length)]:n(c,e)&&(u=["+",c.substr(e.length)]);break;case "(n)":n(c,"(")&&q(c,")")&&(u=["-",c.substr(1,c.length-2)])}return u||["",c]};d.prototype.findClosestCulture=function(c){return d.findClosestCulture.call(this,
c)};d.prototype.format=function(c,e,p){return d.format.call(this,c,e,p)};d.prototype.localize=function(c,e){return d.localize.call(this,c,e)};d.prototype.parseInt=function(c,e,p){return d.parseInt.call(this,c,e,p)};d.prototype.parseFloat=function(c,e,p){return d.parseFloat.call(this,c,e,p)};d.prototype.culture=function(c){return d.culture.call(this,c)};d.addCultureInfo=function(c,e,p){var l=!1;"string"!==typeof c?(p=c,c=this.culture().name,e=this.cultures[c]):"string"!==typeof e?(p=e,l=null==this.cultures[c],
e=this.cultures[c]||this.cultures["default"]):(l=!0,e=this.cultures[e]);this.cultures[c]=x(!0,{},e,p);l&&(this.cultures[c].calendar=this.cultures[c].calendars.standard)};d.findClosestCulture=function(c){var e;if(!c)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];"string"===typeof c&&(c=c.split(","));if(C(c)){var p=this.cultures,l=c,u,G=l.length,B=[];for(u=0;u<G;u++){c=g(l[u]);c=c.split(";");var k=g(c[0]);1===c.length?c=1:(c=g(c[1]),0===c.indexOf("q=")?(c=c.substr(2),
c=parseFloat(c),c=isNaN(c)?0:c):c=1);B.push({lang:k,pri:c})}B.sort(function(I,L){return I.pri<L.pri?1:I.pri>L.pri?-1:0});for(u=0;u<G;u++)if(k=B[u].lang,e=p[k])return e;for(u=0;u<G;u++){k=B[u].lang;do{l=k.lastIndexOf("-");if(-1===l)break;k=k.substr(0,l);if(e=p[k])return e}while(1)}for(u=0;u<G;u++){k=B[u].lang;for(var A in p)if(l=p[A],l.language==k)return l}}else if("object"===typeof c)return c;return e||null};d.format=function(c,e,p){p=this.findClosestCulture(p);c instanceof Date?c=r(c,e,p):"number"===
typeof c&&(c=m(c,e,p));return c};d.localize=function(c,e){return this.findClosestCulture(e).messages[c]||this.cultures["default"].messages[c]};d.parseDate=function(c,e,p){p=this.findClosestCulture(p);var l;if(e){if("string"===typeof e&&(e=[e]),e.length){var u=0;for(var G=e.length;u<G;u++){var B=e[u];if(B&&(l=f(c,B,p)))break}}}else for(u in e=p.calendar.patterns,e)if(l=f(c,e[u],p))break;return l||null};d.parseInt=function(c,e,p){return K(d.parseFloat(c,e,p))};d.parseFloat=function(c,e,p){"number"!==
typeof e&&(p=e,e=10);var l=this.findClosestCulture(p);p=NaN;var u=l.numberFormat;-1<c.indexOf(l.numberFormat.currency.symbol)&&(c=c.replace(l.numberFormat.currency.symbol,""),c=c.replace(l.numberFormat.currency["."],l.numberFormat["."]));c=g(c);if(J.test(c))p=parseFloat(c);else if(!e&&t.test(c))p=parseInt(c,16);else{l=N(c,u,u.pattern[0]);e=l[0];l=l[1];""===e&&"(n)"!==u.pattern[0]&&(l=N(c,u,"(n)"),e=l[0],l=l[1]);""===e&&"-n"!==u.pattern[0]&&(l=N(c,u,"-n"),e=l[0],l=l[1]);e=e||"+";c=l.indexOf("e");0>
c&&(c=l.indexOf("E"));if(0>c){var G=l;c=null}else G=l.substr(0,c),c=l.substr(c+1);var B=u["."],k=G.indexOf(B);0>k?(l=G,G=null):(l=G.substr(0,k),G=G.substr(k+B.length));B=u[","];l=l.split(B).join("");k=B.replace(/\u00A0/g," ");B!==k&&(l=l.split(k).join(""));e+=l;null!==G&&(e+="."+G);null!==c&&(u=N(c,u,"-n"),e+="e"+(u[0]||"+")+u[1]);y.test(e)&&(p=parseFloat(e))}return p};d.culture=function(c){"undefined"!==typeof c&&(this.cultureSelector=c);return this.findClosestCulture(c)||this.cultures["default"]}})(this);
(function(){var b=function(f){f=f.toLowerCase();f=f.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");f=f.replace(RegExp("\u00e6","g"),"ae");f=f.replace(RegExp("\u00e7","g"),"c");f=f.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb]","g"),"e");f=f.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");f=f.replace(RegExp("\u00f1","g"),"n");f=f.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6]","g"),"o");f=f.replace(RegExp("\u009c","g"),"oe");f=f.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc]","g"),
"u");return f=f.replace(RegExp("[\u00fd\u00ff]","g"),"y")};window.string_ci_ai=b;var a=function(f,d,t,J,y){t=t||"value";J=J||"";y=y||"";return function(z,h){if(d.term&&(new RegExp(J+f.ui.autocomplete.escapeRegex(d.term)+y,"i")).test(z.term)&&d.content&&13>d.content.length){var q=new RegExp(J+f.ui.autocomplete.escapeRegex(z.term)+y,"i");h(f.grep(d.content,function(x){return q.test(b(x[t]))}));return!0}return!1}};window.default_cache_search_fn=a;var m=function(f,d,t,J,y){t=t||{};y=y||a(f,t,J||"value");
return function(z,h,q){z.term=b(z.term);t.term===z.term&&t.content?h(t.content):y(z,h)||f.ajax({url:q||d,dataType:"json",data:z,cache:!1,success:function(x){t.term=z.term;t.content=x;h(x)}})}};window.create_caching_source_fn=m;window.init_community_autocomplete=function(f,d,t,J,y){var z={};y&&=f(y);y&&!y.length&&(y=null);var h=f("#"+d).autocomplete({focus:function(q,x){return!1},select:function(q,x){h.data({chkid:x.item.chkid,display:x.item.value})},source:m(f,t,z),minLength:J}).keypress(function(q){"13"==
q.keyCode&&(q.preventDefault(),h.autocomplete("close"))});y&&(h.parents("form").on("submit",function(){var q=h.val();if(h.data("display")===q)y.val(h.data("chkid"));else{if(z.content){var x=b(q);q=f.grep(z.content,function(C){return b(C.value)===x});if(1===q.length){y.val(q[0].chkid);h.data({chkid:q[0].chkid,display:q[0].value}).val(q[0].value);return}}y.val("")}}),cache_register_onbeforerestorevalues(function(q){h.length&&(q=q["autocomplete_data_"+h[0].id])&&h.data(q)}),cache_register_onbeforeunload(function(q){if(h.length){var x=
h.data();x.display&&x.chkid&&(q["autocomplete_data_"+h[0].id]={display:x.display,chkid:x.chkid})}}))}})();
(function(){function b(m){return function(f,d){if(m.term&&(new RegExp(a.ui.autocomplete.escapeRegex(m.term),"i")).test(f.term)&&m.content&&13>m.content.length&&1<m.content.length){var t=[];f=f.term.split(/\s+/);for(var J=0;J<f.length;J++)f[J]&&t.push(new RegExp(a.ui.autocomplete.escapeRegex(f[J]),"i"));d(a.grep(m.content,function(y){var z=!0;y=string_ci_ai(y.value);for(var h=0;h<t.length;h++)if(z=z&&t[h].test(y),!z)return!1;return z}));return!0}return!1}}var a=jQuery;window.init_find_box=function(m,
f){var d={},t=/\?/,J=b(d),y=create_caching_source_fn(a,null,d,null,J),z=a("#STerms").autocomplete({focus:function(){return!1},source:function(h,q){var x=a("input[name=SType]:checked").prop("value"),C=m[x];C&&(d.type&&d.type!==x&&(delete d.type,delete d.term,delete d.content),y(h,function(v){d.type=x;q(v)},C))},minLength:4});f=f||a("#SearchForm");f.on("submit",function(){var h=null,q=null;h=null;if(d.content){var x=string_ci_ai(z[0].value);q=a.grep(d.content,function(C){return string_ci_ai(C.value)===
x});if(1===q.length&&q[0].quote)return h=z[0].value,z[0].value='"'+h+'"',q=f.serialize(),z[0].value=h,h=f.prop("action"),h+=(t.test(h)?"&":"?")+q,window.location.href=h,!1}})}})();
(function(){window.init_grouped_quicklist=function(b){$(".fix-group-single option").each(function(){var a=$(this).data("group");a&&(this.value=a)});$(".fix-group-multi").each(function(){var a=$(this),m=a.data("group");m&&$("<option>").attr("value",m).data("group",m).insertAfter(a.find("option:first")).text(b)});$("#page_content").on("change",".fix-group-single, .fix-group-multi",function(){var a=this.name.replace("_GRP","");$(this).find("option:selected").data("group")?this.name=a+"_GRP":this.name=
a});cache_register_onbeforeunload(function(a){var m={};$(".fix-group-single, .fix-group-multi").each(function(){m[this.id]=this.name});a.QuickList=m});cache_register_onbeforerestorevalues(function(a){var m=a.QuickList;m&&$(".fix-group-single, .fix-group-multi").each(function(){var f=m[this.id];f&&(this.name=f)})})}})();
(function(){window.init_bsearch_tabs=function(b,a){var m=$(".make-me-tabbed"),f=window.location.hash;(f=/^#search-tab-(\d+)/.exec(f))&&(a=parseInt(f[1],10));m.length&&(b.InlineMode="on",m.find("ul:first a").each(function(d,t){d=$(t).attr("href");var J=jQuery.extend({},b);if("#"!==d[0]){d=d.split("?");if(1<d.length){var y=d[1],z=J,h,q=/\+/g,x=/([^&=]+)=?([^&]*)/g;y=y||window.location.search.substring(1);for(z=z||{};h=x.exec(y);)z[decodeURIComponent(h[1].replace(q," "))]=decodeURIComponent(h[2].replace(q,
" "));d=d[0]}J&&(d=d+"?"+jQuery.param(J));t.href=d}}),m.tabs({active:a,beforeLoad:function(d,t){t.tab.data("loaded")?d.preventDefault():t.jqXHR.success(function(){t.tab.data("loaded",!0)})},load:function(){initialize_vacancy_ui()},activate:function(d,t){google.maps.event.trigger&&(d=t.newPanel.find("#map_canvas"),d.length&&google.maps.event.trigger(d[0],"resize"))}}).css("overflow","auto"),cache_register_onbeforeunload(function(d){d.last_tab=m.tabs("option","selected")}),cache_register_onbeforerestorevalues(function(d){d.last_tab&&
m.tabs("option","selected",d.last_tab)}))};window.init_placeholder_select=function(){var b=function(){var a=$(this);a.toggleClass("placeholder",!a.val())};$(".check-placeholder").on("change",b).each(b)};window.init_located_near_autocomplete=function(b){pageconstants&&pageconstants.maps_key_arg||b(".cm-select option, input.cm-select").each(function(){var f=b(this);"S"!=this.value&&"L"!=this.value&&("input"===this.tagName&&(f=f.parent()),f.remove())});var a=function(){var f=b(this),d=f.data("suffix");
"input"==this.tagName&&(f=b(".cm-select"+d+":checked"));f=f.val();"L"==f||"S"==f?(b("#located-serving-community-wrap"+d).show(),b("#located-near-wrap"+d).hide()):(b("#located-serving-community-wrap"+d).hide(),b("#located-near-wrap"+d).show())};b("input.cm-select").on("change",a);b("select.cm-select").on("change",a);var m=b("input.cm-select:checked, select.cm-select");window.pageconstants&&window.pageconstants.maps_key_arg&&m.each(function(){b(".cmtype-located-near").show();var f=b(this).data("suffix"),
d=b("#GeoLocatedNearAddress"+f).on("keypress",function(y){"13"==y.keyCode&&y.preventDefault()}).on("paste keyup",function(){b.trim(this.value)||(b("#LATITUDECommunity"+f).val(""),b("#LONGITUDECommunity"+f).val(""))}),t=null,J=d.parents("form").submit(function(y){d.data("last-location")!=d.val()&&b.trim(d.val())&&google&&(t||=new google.maps.Geocoder,y.preventDefault(),t.geocode({address:d.val()},handle_geocode(function(z,h){z?(b("#LATITUDECommunity"+f).val(Globalize.format(z.lat(),"n6")),b("#LONGITUDECommunity"+
f).val(Globalize.format(z.lng(),"n6")),d.data("last-location",d.val()),J.submit()):alert(get_response_message(h))})))});initialize_maps(pageconstants.culture,pageconstants.maps_key_arg,function(){var y=new google.maps.places.Autocomplete(d[0]);y.addListener("place_changed",function(){var z=y.getPlace();z.geometry?(b("#LATITUDECommunity"+f).val(Globalize.format(z.geometry.location.lat(),"n6")),b("#LONGITUDECommunity"+f).val(Globalize.format(z.geometry.location.lng(),"n6"))):(b("#LATITUDECommunity"+
f).val(""),b("#LONGITUDECommunity"+f).val(""));d.data("last-location",d.val())})},!0)});m.each(a)}})();
(function(){draggable=!1;var b=null,a=null,m=[59.888937,-101.601562],f=null,d=null,t=!0,J=null,y=null,z=function(){d&&d.setMap(null);d=null;y&&(google.maps.event.removeListener(y),y=null)},h=function(r,E){document.getElementById("LATITUDE").value=Globalize.format(r,"n6");document.getElementById("LONGITUDE").value=Globalize.format(E,"n6")},q=function(r,E){r=new google.maps.LatLng(r,E);t&&a.setZoom(14);a.setCenter(r);t=!1;r=new google.maps.Marker({position:r,map:a,clickable:!1,draggable});z();d=r;draggable&&
(y=google.maps.event.addListener(r,"dragend",x))},x=function(){$("#GEOCODE_TYPE_SITE_REFRESH, #GEOCODE_TYPE_INTERSECTION_REFRESH").addClass("NotVisible");$("#GEOCODE_TYPE_MANUAL").prop("checked",!0);var r=this.getPosition();h(r.lat(),r.lng())},C=function(r){r&&(J=pending_geocode_address,h(r.lat(),r.lng()),q(r.lat(),r.lng()))},v=function(r){switch(r){case google.maps.GeocoderStatus.ZERO_RESULTS:r=pageconstants.txt_geocode_unknown_address;break;case google.maps.GeocoderStatus.REQUEST_DENIED:r=pageconstants.txt_geocode_map_key_fail;
break;case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:r=pageconstants.txt_geocode_too_many_queries;break;default:r=pageconstants.txt_geocode_unknown_error+r}return r};window.get_response_message=v;var D=function(r){return function(E,w){w!==google.maps.GeocoderStatus.OK?r(null,w):r(E[0].geometry.location,w)}};window.handle_geocode=D;var n=function(){var r={zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};b=document.getElementById("map_canvas");a=new google.maps.Map(b,r);a.setCenter(new google.maps.LatLng(m[0],
m[1]),2);f||=new google.maps.Geocoder;r=$("#LATITUDE")[0].value;var E=$("#LONGITUDE")[0].value;r&&E&&q(Globalize.parseFloat(r),Globalize.parseFloat(E))},g=[],K=!1;window.maps_loaded=function(){K=!0;$.each(g,function(r,E){E()});g=[]};window.add_maps_loaded_callback=function(r){K?r():g.push(r)};window.initialize_maps=function(r,E,w,H){if(!window.cioc_map_script_added){window.cioc_map_script_added=!0;Globalize.culture(r);var N="";H&&(N="&libraries=places");$.getScript("//maps.googleapis.com/maps/api/js?v=3&"+
E+"&sensor=false&callback=maps_loaded&language="+r+N)}add_maps_loaded_callback(w)};var F=function(){return D(function(r,E){r?C(r):alert(v(E))})},O=function(){if(a){var r=document.getElementById("located_near_address").value;if(J==r)return!1;J=r;var E=F();(pending_geocode_address=r)?f.geocode({address:r},E):(z(),h("",""))}return!1};window.searchform_map_loaded=function(){n();var r=$("#located_near_check_button").click(O),E=$("#located_near_address").keydown(P).blur(function(){r.click()});if(google.maps.places){var w=
new google.maps.places.Autocomplete(E[0]);w.addListener("place_changed",function(){var H=w.getPlace();H.geometry&&H.geometry.location&&(pending_geocode_address=E.val(),C(H.geometry.location))})}};var P=function(r){null==r&&(r=window.event);if(13==r.keyCode)return document.getElementById("located_near_check_button").click(),!1}})();
(function(){var b;(function(){var a,m=/\+/g,f=/([^&=]+)=?([^&]*)/g,d=window.location.search.substring(1);for(b={};null!==(a=f.exec(d));){var t=decodeURIComponent(a[1].replace(m," "));b[t]||(b[t]=[]);b[t].push(decodeURIComponent(a[2].replace(m," ")))}})();b.SearchParameterKey&&jQuery(function(a){var m=function(d){var t=d.find(".HighLight.SearchParamKey");t.length||(t=a('<div class="HighLight SearchParamKey"></div>').prependTo(d));d=d.find("input[name],textarea[name],select[name]").not(function(){return!this.value}).serialize()||
"";t.text(d)},f=function(){a("form > table > tbody > tr > td, .field-data-cell").has("input[name],textarea[name],select[name]").each(function(){m(a(this))})};a("form > table, .form-table").on("change keyup click","input[name],textarea[name],select[name]",function(){m(a(this).parents("form > table > tbody > tr > td, .field-data-cell"))});a(document).on("click","input[type=reset]",function(){setTimeout(f,1)});f()});window.init_pre_fill_search_parameters=function(a,m,f){var d=jQuery,t=document.getElementById("cache_form_values"),
J,y;if(!t||!t.value)if(t=function(){d("form").has("> table, .auto-fill-table").each(function(){restore_form_values(this,b)});m&&f&&(m=d(m),f=d(f),m.length&&f.length&&(J=b[m[0].name],y=b[f[0].name],J&&y&&m.data({chkid:y[0],display:J[0]})))},b){var z=[],h=d("#CheckListSource");b.CHKLOAD&&h.length&&window.get_advsrch_checklist?(d.each(b.CHKLOAD,function(q,x){d("#Chk"+x).length&&z.push(get_advsrch_checklist(a,x,h))}),d.when.apply(null,z).then(t)):t()}}})();
(function(){var b={},a=jQuery,m=null,f={},d={},t="",J=function(){var w=a(this);w.uibutton({icons:{primary:w.data("icon")},text:!1})},y=function(w){m=m.map(function(){return 0<=w.indexOf(a(this).data("vutId"))?this:null});m.each(function(){var H=a(this),N=H.data("vutId");H.data("uiAdded")||(H.data("uiAdded",!0),a('<span class="vacancy-ui vacancy-buttonset"><button class="vacancy-edit" id="vacancy-edit-'+N+'" data-vut-id="'+N+'" title="'+b.edit_txt+'" data-icon="ui-icon-pencil">'+b.edit_txt+'</button><button class="vacancy-history" data-icon="ui-icon-note" data-vut-id="'+
N+'" title="'+b.history_txt+'">'+b.history_txt+"</button></span>").buttonset().insertAfter(H).find("button").each(J))})},z=function(w,H,N){H=a('<div class="alert alert-dismissable '+H+'" style="display: none"></div>').text(N).append('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');N=w.children().first();N.length?N.before(H):w.append(H);H.slideDown("slow")},h=function(w){a.each(w,function(H,N){a("#vacancy-count-"+N.bt_vut_id).text(N.text)})},
q=function(w,H,N,c){return function(e){N.unblock();e.updates&&h(e.updates);z(c,(e.success?"alert-highlight":"alert-error")+" vacancy-notification",e.msg)}},x=function(w,H,N,c){return function(e,p){N.unblock();z(c,"alert-error vacancy-notification",b.server_error_txt+("error"!==p?p:e.statusText))}},C,v=function(){t&&(C&&clearTimeout(C),C=setTimeout(D,15E3))},D=function(){C=null;a.ajax({dataType:"json",url:b.refresh_url,cache:!1,data:{ids:t}}).done(function(w){w.success&&h(w.updates)}).always(v)},n=
function(w,H){var N=H.parent().block({message:null});H=H.data("vutId");var c=N.find(".vacancy-count"),e=N.find(".vacancy-notify-area");e.length||(e=a('<div class="vacancy-notify-area alert-stack"></div>'),e.appendTo(N));a.ajax({dataType:"json",url:b.increment_url,type:"POST",data:{BT_VUT_ID:H,Value:w}}).done(q(H,c,N,e)).fail(x(H,c,N,e))},g=function(){if(b.permission_url){m=a(".vacancy-count");var w=m.map(function(){return a(this).data("vutId")}).get();if(t=w=w.join())a.ajax({dataType:"json",url:b.permission_url,
cache:!1,data:{ids:w}}).done(y),v()}},K=null,F=function(){K||=a('<div id="vacancy-dialog" style="display:none;"></div>').appendTo(a("body")).dialog({autoOpen:!1,closeText:b.close_txt,title:b.history_title_txt,minWidth:500});return K},O=function(w,H){H=a('<p class="Alert"></p>').text(H);w.empty().append(H)},P=function(w){var H=F();w.success?H.empty().html(w.content):O(H,w.content);H.dialog("option","title",w.title)},r=function(w,H){var N=F();O(N,b.server_error_txt+("error"!==H?H:w.statusText))},E=
function(){a(document).on("click",".vacancy-edit",function(w){w.preventDefault();w.stopPropagation();w=a(this);var H=w.data("vutId"),N=w.parent(),c=f[H];c||(c=a('<span class="vacancy-incrementer-ui vacancy-buttonset" style="display: none;" id="vacancy-incrementer-'+H+'" data-vut-id="'+H+'"><button class="vacancy-incrementer-up" data-icon="ui-icon-plusthick">'+b.up_txt+'</button><button class="vacancy-incrementer-down" data-icon="ui-icon-minusthick">'+b.down_txt+'</button><button class="vacancy-incrementer-done" data-icon="ui-icon-check">'+
b.done_txt+"</button></span>").buttonset().insertAfter(N),c.find("button").each(J),d[H]=N);w.parent().hide();c.show()}).on("click",".vacancy-incrementer-done",function(w){w.preventDefault();w.stopPropagation();w=a(this).parent();var H=w.data("vutId");H=d[H];w.hide();H.show();var N=w.parent().parent().find(".vacancy-notify-area");N.slideUp("fast",function(){N.remove()})}).on("click",".vacancy-incrementer-up",function(w){w.preventDefault();w.stopPropagation();n(1,a(this).parent())}).on("click",".vacancy-incrementer-down",
function(w){w.preventDefault();w.stopPropagation();n(-1,a(this).parent())}).on("click",".vacancy-history",function(w){w.preventDefault();w.stopPropagation();w=a(this).data("vutId");F().html('<p class="Info">'+b.loading_txt+"</p>").dialog("close").dialog("open").dialog("option","title",b.history_title_txt);a.ajax({dataType:"json",url:b.history_url,cache:!1,data:{BT_VUT_ID:w}}).done(P).fail(r)}).on("click",".close",function(w){w.preventDefault();w.stopPropagation();w=a(this);var H=w.parents("."+w.data("dismiss")).first();
H.slideUp("slow",function(){H.remove()})})};window.initialize_vacancy=function(w){b=w;g();E()};window.initialize_vacancy_options=function(w){b=w};window.initialize_vacancy_ui=g;window.initialize_vacancy_events=E})();
(function(){var b=jQuery,a=function(h){return function(q){h.after(q.join(""))}},m=function(h){h=b(this);var q=h.parents("tr").first();if(h.data("closed")){var x=h.data("url");b.ajax({success:a(q),data:{LV:h.data("level")+1},dataType:"json",url:x});h.data("closed",!1);h.find("img").prop("src",function(C,v){return v.replace("plus","minus")})}else{parent_classes=[".TaxRowLevel"+h.data("level")];for(x=1;x<h.data("level");x++)parent_classes.push(".TaxRowLevel"+x);q.nextUntil(parent_classes.join(",")).remove();
h.data("closed",!0);h.find("img").prop("src",function(C,v){return v.replace("minus","plus")})}},f=function(h){return function(q){q&&h.html('<div class="MoreTermInfo">'+q[0]+"</div>")}},d=function(h){h=b(this);var q=h.parents("td").first().find(".taxDetail");if(h.data("closed")){var x=h.data("url");b.ajax({success:f(q),dataType:"json",url:x});h.data("closed",!1)}else q.empty(),h.data("closed",!0)},t=function(h){h=b(this);var q=h.data("which"),x=1,C="up";"up"===h.data("state")&&(x=-1,C="down");h.parents("tr").first().find("img").prop("src",
function(D,n){var g=n.substring(0,n.lastIndexOf("/")+1);n=n.substring(n.lastIndexOf("."));return D===q?g+C+n:g+"noplusminus"+n});h.parents("tr").first().find(".taxHeaderSort").each(function(D,n){D===q?b(n).data("state",C):b(n).data("state","noplusminus")});var v=h.parents("table").first().find("tbody");h=v.find("tr").get();h.sort(function(D,n){D=b(D).data("sortkey")[q].toUpperCase();n=b(n).data("sortkey")[q].toUpperCase();return D<n?-1*x:D>n?1*x:0});b.each(h,function(D,n){v.append(n)})},J=null,y=
{},z=function(h){null===J&&(J=b("#activations-table").data("url"),y=b("#activations-table").data("paramBase"));return function(){var q=b(this),x=q.parent().find("span:first"),C=x.data("taxcode");b.ajax({url:J,type:"POST",dataType:"json",data:b.extend({},y,{TC:C,action:q.data("action"),LV:x.data("level")+1}),success:function(v){v.buttonstates&&b.each(v.buttonstates,function(D,n){D=b("#tax-code-"+n.code.replace(/\./,"-"));var g=D.find(".taxExpandTerm").first();null===n.active?D.find(".rollup-indicator").removeClass("hidden"):
D.find(".rollup-indicator").addClass("hidden");n.active?(g.removeClass("TaxLinkInactive"),g.addClass("TaxLink")):(g.addClass("TaxLinkInactive"),g.removeClass("TaxLink"));n.activate?D.find(".activate").removeClass("hidden"):D.find(".activate").addClass("hidden");n.deactivate?D.find(".deactivate").removeClass("hidden"):D.find(".deactivate").addClass("hidden");n.rollup?D.find(".rollup").removeClass("hidden"):D.find(".rollup").addClass("hidden")})},failure:function(){}})}};b(function(){b("#page_content").on("click",
"span.taxPlusMinus",m).on("click","span.taxExpandTerm",d).on("click",".taxHeaderSort",t).on("click",".activate",z("activate")).on("click",".deactivate",z("deactivate")).on("click",".rollup",z("rollup"))});window.init_taxcode_autocomplete=function(h){b("#TC").autocomplete({focus:function(q,x){return!1},source:create_caching_source_fn(b,h,"value"),minLength:1}).data("autocomplete")._renderItem=function(q,x){return b("<li></li>").data("item.autocomplete",x).append(b("<a></a>").text(x.value+" - "+x.label)).appendTo(q)}}})();
