window.CIOC={};
(function(b,a){a.do_drop_down_navigation=function(){for(var c=b.getElementById("ActionList").options,e=0;e<c.length;e++)if(c[e].selected){var d=c[e].getAttribute("href");d&&("undefined"!=typeof c[e].attributes.newwindow?a.open(d):a.location.href=d);break}};jQuery(function(a){a("[data-toggle=dialog]").each(function(){var b=a(this),d=a(b.data("target")),f={autoOpen:!1,title:d.data("title"),modal:d.data("modal")};d.dialog(f);b.click(function(){d.dialog("isOpen")?d.dialog("close"):d.dialog("open")})})})})(document,window);
function CheckAll(b,a){b||(b="IDList");var c=a;a||(c=document.RecordList);for(var e=c.elements.length,d=0;d<e;d++){var f=c.elements[d];f.name===b&&(f.checked=!0)}}function ClearAll(b,a){b||(b="IDList");var c=a;a||(c=document.RecordList);for(var e=c.elements.length,d=0;d<e;d++){var f=c.elements[d];f.name===b&&(f.checked=!1)}}function add_class(b,a){b&&!(new RegExp("\\b"+a+"\\b")).test(b.className)&&(b.className&&(a=" "+a),b.className+=a)}
function remove_class(b,a){if(b){for(var c=b.className.split(" "),e=[],d=0;d<c.length;d++){var f=c[d];f!==a&&e.push(f)}b.className=e.join(" ")}}function hide(b){add_class(b,"NotVisible")}function show(b){remove_class(b,"NotVisible")}function openWin(b,a){window.open(b,a,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(b,a){window.open(b,a,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(b,a){window.open(b,a,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(b){var a={sm:openWin,lg:openWinL,xl:openWinXL};b(document).on("click","a.poplink",function(){var c=b(this).data("popargs");(a[c.size||"sm"]||openWin)(this.href,c.name||"popwin");return!1})});
(function(){var b=jQuery,a={},c=function(c){null!==c&&"undefined"!==typeof c?b("#myListCount").text(c):(c=b("#myListCount").text())&&(c=parseInt(c,10));c?a.myListLink.show():a.myListLink.hide()},e=function(a){b.each(a,function(a,c){b("#added_to_list_"+c).show();b("#add_to_list_"+c).hide()})},d=function(d){return function(f){f.fail?alert(f.errinfo):(f.ids?c(b.grep(f.ids,g[a.domain]).length):f.count?c(f.count):c(0),e([d]))}},f=function(c){c=b(c.currentTarget).data("id");b.ajax({success:d(c),dataType:"json",
error:function(){alert("Error")},data:{id:c},type:"POST",url:a.current_list_url})},m=function(a){return function(c){if(c.fail)alert(c.errinfo);else{c=!0;if(a){var e=b("#results_table #remove_from_list_"+a);e.length?e.parent().parent().remove():(c=!1,e=b("#results_container #remove_from_list_"+a),e.parents(".dlist-result").remove())}e=!1;if((e=c?1===b("#results_table tr").length:0===b("#results_container .dlist-result").length)||!a)b("#records_ui").hide(),b("#no_records_message").show()}}},l=function(c){c=
b(c.currentTarget).data("id");b.ajax({success:m(c),dataType:"json",error:function(){alert("Error")},data:{ID:c,RemoveItem:a.domain},type:"POST",url:a.current_list_url})},h=function(c){b.ajax({success:m(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:a.domain},type:"POST",url:a.current_list_url})},g={CIC:function(a){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(a)},VOL:function(a){return/^[1-9][0-9]*$/.test(a)}},p=function(d){if(d.fail)u();else if(d.inrequest){var f=b.grep(d.ids,
g[a.domain]);e(f);c(f.length);(d=d.previous_ids)&&b.each(d,function(a,c){b("#ct_added_to_previous_request_"+c).show()});b(".ListUI img").prop("src",function(a,b){return b.replace("list","referral")});b("#list_header_text").hide();b("#ct_header_text").show();a.current_list_url=a.ct_update_url;w()}else u()},u=function(){var d=function(){a.list_view_mode||e(a.already_added||[]);a.current_list_url=a.list_view_mode&&"ct"===a.list_view_mode?a.ct_update_url:a.list_update_url;c((a.already_added||[]).length);
w()};a.list_view_mode||a.has_session?d():b.ajax({dataType:"json",error:null,url:a.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(a){a.has_session&&d()}})},w=function(){b(".HideListUI").delegate(".add_to_list","click",f).delegate(".remove_from_list","click",l).removeClass("HideListUI");b("#remove_all_from_list").click(h);b.browser.msie&&"8.0">b.browser.msie&&b(".ListUI").removeClass("FixIE")};window.init_list_adder=function(c){a=c;a.myListLink=b("#myListLink").parent(":hidden").add("#myListLink");
c.in_request?b.ajax({success:p,dataType:"json",error:null,type:"POST",url:c.in_request}):u()}})();this.JSON||(this.JSON={});
(function(){function b(a){return 10>a?"0"+a:a}function a(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=l[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(b,d){var e,l,y,A,C=f,v,r=d[b];r&&"object"===typeof r&&"function"===typeof r.toJSON&&(r=r.toJSON(b));"function"===typeof h&&(r=h.call(d,b,r));switch(typeof r){case "string":return a(r);case "number":return isFinite(r)?String(r):"null";case "boolean":case "null":return String(r);
case "object":if(!r)return"null";f+=m;v=[];if("[object Array]"===Object.prototype.toString.apply(r)){A=r.length;for(e=0;e<A;e+=1)v[e]=c(e,r)||"null";y=0===v.length?"[]":f?"[\n"+f+v.join(",\n"+f)+"\n"+C+"]":"["+v.join(",")+"]";f=C;return y}if(h&&"object"===typeof h)for(A=h.length,e=0;e<A;e+=1)l=h[e],"string"===typeof l&&(y=c(l,r))&&v.push(a(l)+(f?": ":":")+y);else for(l in r)Object.hasOwnProperty.call(r,l)&&(y=c(l,r))&&v.push(a(l)+(f?": ":":")+y);y=0===v.length?"{}":f?"{\n"+f+v.join(",\n"+f)+"\n"+
C+"}":"{"+v.join(",")+"}";f=C;return y}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,m,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,e){var d;m=f="";if("number"===typeof e)for(d=0;d<e;d+=1)m+=" ";else"string"===typeof e&&(m=e);if((h=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,e){var d,v,f=a[e];if(f&&"object"===typeof f)for(d in f)Object.hasOwnProperty.call(f,d)&&(v=c(f,d),void 0!==v?f[d]=v:delete f[d]);return b.call(a,e,f)}var d;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(b){var a={};jQuery(b).find("input,select,textarea").each(function(b){if(this.name)if(a[this.name]||(a[this.name]=[]),"select"===this.nodeName.toLowerCase()){var e=a[this.name];$(this).find("option").each(function(a){this.selected&&e.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&a[this.name].push(this.value||"")});return a};window.restore_form_values=function(b,a){var c=jQuery;c(b).find("input,select,textarea").each(function(b){if(this.name){var d=
a[this.name];"undefined"!=typeof d&&null!==d&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?c(this).find("option").each(function(a){this.selected=1<d.length?0<=c.inArray(this.value,d):0===d.length?!1:this.value===d[0]}):this.value=d.length?d[0]:"":this.checked=1<d.length?0<=c.inArray(this.value,d):0===d.length?!1:this.value===d[0])}})};window.init_cached_state=function(b){var a=jQuery;b=b||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];a(window).on("beforeunload",function(){var c={form_values:get_form_values(b)};a.each(onbeforeunload_fns,function(a,b){b(c)});document.getElementById("cache_form_values").value=JSON.stringify(c)});window.cache_register_onbeforeunload=function(a){onbeforeunload_fns.push(a)};window.cache_register_onbeforerestorevalues=function(a){onbeforerestorevalues_fns.push(a)};window.restore_cached_state=function(){var c=document.getElementById("cache_form_values");if(c&&c.value){var e=
JSON.parse(c.value);a.each(onbeforerestorevalues_fns,function(a,b){b(e)});restore_form_values(b,e.form_values)}}}})();
(function(){var b=jQuery,a={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},c={"en-CA":!0,"":!0},e={},d={"fr-CA":"fr","es-MX":"es"},f=function(){var c=b(this),e=c.data("culture"),d=a[e]||b.datepicker.regional[e].dateFormat,f={};c.hasClass("NoYear")&&(d=d.replace(/[\- .\/]*yy[\/]?/,""),f={beforeShow:function(a,
b){b.dpDiv.addClass("NoYearDatePicker")},onClose:function(a,b){b.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});f.dateFormat=d;c.datepicker(b.extend({},b.datepicker.regional[e],f)).prop("autocomplete","off")},m=function(a){b.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+b.ui.version+"/i18n/jquery.ui.datepicker-"+a+".min.js",function(){c[a]=!0;b.each(e[a],function(){f.call(this)});delete e[a]})};b.datepicker.regional["en-CA"]=b.extend({},b.datepicker.regional[""]);b.fn.extend({autodatepicker:function(){return this.each(function(){var a=
b(this),h;h=a.parents("[lang]").first().prop("lang")||"en-CA";h=d[h]||h;a.data("culture",h);c[h]?f.call(this):(a=e[h],a||(a=e[h]=[],m(h)),a.push(this))})}});jQuery(function(){b("input.DatePicker").autodatepicker()})})();
(function(b){function a(a){return a&&a.constructor===Number?a+"px":a}b.fn.bgiframe=b.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(c){c=b.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},c);var e='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+c.src+'"style="display:block;position:absolute;z-index:-1;'+(!1!==c.opacity?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==c.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":
a(c.top))+";left:"+("auto"==c.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":a(c.left))+";width:"+("auto"==c.width?"expression(this.parentNode.offsetWidth+'px')":a(c.width))+";height:"+("auto"==c.height?"expression(this.parentNode.offsetHeight+'px')":a(c.height))+';"/>';return this.each(function(){0===b(this).children("iframe.bgiframe").length&&this.insertBefore(document.createElement(e),this.firstChild)})}:function(){return this};b.fn.bgIframe=b.fn.bgiframe})(jQuery);
(function(){function b(a){function b(c,d){var r,m,z=c==window,s=d&&void 0!==d.message?d.message:void 0;d=a.extend({},a.blockUI.defaults,d||{});if(!d.ignoreIfBlocked||!a(c).data("blockUI.isBlocked")){d.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,d.overlayCSS||{});r=a.extend({},a.blockUI.defaults.css,d.css||{});d.onOverlayClick&&(d.overlayCSS.cursor="pointer");m=a.extend({},a.blockUI.defaults.themedCSS,d.themedCSS||{});s=void 0===s?d.message:s;z&&y&&e(window,{fadeOut:0});if(s&&"string"!=typeof s&&
(s.parentNode||s.jquery)){var x=s.jquery?s[0]:s,k={};a(c).data("blockUI.history",k);k.el=x;k.parent=x.parentNode;k.display=x.style.display;k.position=x.style.position;k.parent&&k.parent.removeChild(x)}a(c).data("blockUI.onUnblock",d.onUnblock);var k=d.baseZ,n;n=p||d.forceIframe?a('<iframe class="blockUI" style="z-index:'+k++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+d.iframeSrc+'"></iframe>'):a('<div class="blockUI" style="display:none"></div>');
x=d.theme?a('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+k++ +';display:none"></div>'):a('<div class="blockUI blockOverlay" style="z-index:'+k++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');d.theme&&z?(k='<div class="blockUI '+d.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(k+10)+';display:none;position:fixed">',d.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+
(d.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div></div>'):d.theme?(k='<div class="blockUI '+d.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(k+10)+';display:none;position:absolute">',d.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):k=z?'<div class="blockUI '+d.blockMsgClass+' blockPage" style="z-index:'+
(k+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+d.blockMsgClass+' blockElement" style="z-index:'+(k+10)+';display:none;position:absolute"></div>';k=a(k);s&&(d.theme?(k.css(m),k.addClass("ui-widget-content")):k.css(r));d.theme||x.css(d.overlayCSS);x.css("position",z?"fixed":"absolute");(p||d.forceIframe)&&n.css("opacity",0);r=[n,x,k];var E=z?a("body"):a(c);a.each(r,function(){this.appendTo(E)});d.theme&&d.draggable&&a.fn.draggable&&k.draggable({handle:".ui-dialog-titlebar",cancel:"li"});
m=w&&(!a.support.boxModel||0<a("object,embed",z?null:c).length);if(u||m){z&&d.allowBodyStretch&&a.support.boxModel&&a("html,body").css("height","100%");if((u||!a.support.boxModel)&&!z){m=parseInt(a.css(c,"borderTopWidth"),10)||0;var B=parseInt(a.css(c,"borderLeftWidth"),10)||0,t=m?"(0 - "+m+")":0,H=B?"(0 - "+B+")":0}a.each(r,function(a,b){var c=b[0].style;c.position="absolute";if(2>a)z?c.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+
d.quirksmodeOffsetHack+') + "px"'):c.setExpression("height",'this.parentNode.offsetHeight + "px"'),z?c.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):c.setExpression("width",'this.parentNode.offsetWidth + "px"'),H&&c.setExpression("left",H),t&&c.setExpression("top",t);else if(d.centerY)z&&c.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),
c.marginTop=0;else if(!d.centerY&&z){var e="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(d.css&&d.css.top?parseInt(d.css.top,10):0)+') + "px"';c.setExpression("top",e)}})}s&&(d.theme?k.find(".ui-widget-content").append(s):k.append(s),(s.jquery||s.nodeType)&&a(s).show());(p||d.forceIframe)&&d.showOverlay&&n.show();d.fadeIn?(r=d.onBlock?d.onBlock:g,n=d.showOverlay&&!s?r:g,r=s?r:g,d.showOverlay&&x._fadeIn(d.fadeIn,n),s&&k._fadeIn(d.fadeIn,
r)):(d.showOverlay&&x.show(),s&&k.show(),d.onBlock&&d.onBlock.bind(k)());f(1,c,d);z?(y=k[0],A=a(d.focusableElements,y),d.focusInput&&setTimeout(l,20)):h(k[0],d.centerX,d.centerY);d.timeout&&(s=setTimeout(function(){z?a.unblockUI(d):a(c).unblock(d)},d.timeout),a(c).data("blockUI.timeout",s))}}function e(b,c){var e,g=b==window,p=a(b),l=p.data("blockUI.history"),x=p.data("blockUI.timeout");x&&(clearTimeout(x),p.removeData("blockUI.timeout"));c=a.extend({},a.blockUI.defaults,c||{});f(0,b,c);null===c.onUnblock&&
(c.onUnblock=p.data("blockUI.onUnblock"),p.removeData("blockUI.onUnblock"));var k;k=g?a("body").children().filter(".blockUI").add("body > .blockUI"):p.find(">.blockUI");c.cursorReset&&(1<k.length&&(k[1].style.cursor=c.cursorReset),2<k.length&&(k[2].style.cursor=c.cursorReset));g&&(y=A=null);c.fadeOut?(e=k.length,k.stop().fadeOut(c.fadeOut,function(){0===--e&&d(k,l,c,b)})):d(k,l,c,b)}function d(b,c,d,e){var f=a(e);if(!f.data("blockUI.isBlocked")){b.each(function(a,b){this.parentNode&&this.parentNode.removeChild(this)});
c&&c.el&&(c.el.style.display=c.display,c.el.style.position=c.position,c.el.style.cursor="default",c.parent&&c.parent.appendChild(c.el),f.removeData("blockUI.history"));f.data("blockUI.static")&&f.css("position","static");if("function"==typeof d.onUnblock)d.onUnblock(e,d);b=a(document.body);c=b.width();d=b[0].style.width;b.width(c-1).width(c);b[0].style.width=d}}function f(b,c,d){var e=c==window;c=a(c);if(b||(!e||y)&&(e||c.data("blockUI.isBlocked")))c.data("blockUI.isBlocked",b),e&&d.bindEvents&&(!b||
d.showOverlay)&&(b?a(document).bind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",d,m):a(document).unbind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",m))}function m(b){if("keydown"===b.type&&b.keyCode&&9==b.keyCode&&y&&b.data.constrainTabKey){var c=A,d=b.shiftKey&&b.target===c[0];if(!b.shiftKey&&b.target===c[c.length-1]||d)return setTimeout(function(){l(d)},10),!1}var c=b.data,e=a(b.target);if(e.hasClass("blockOverlay")&&c.onOverlayClick)c.onOverlayClick(b);
return 0<e.parents("div."+c.blockMsgClass).length?!0:0===e.parents().children().filter("div.blockUI").length}function l(a){A&&(a=A[!0===a?A.length-1:0])&&a.focus()}function h(b,c,d){var e=b.parentNode,f=b.style,g=(e.offsetWidth-b.offsetWidth)/2-(parseInt(a.css(e,"borderLeftWidth"),10)||0);b=(e.offsetHeight-b.offsetHeight)/2-(parseInt(a.css(e,"borderTopWidth"),10)||0);c&&(f.left=0<g?g+"px":"0");d&&(f.top=0<b?b+"px":"0")}a.fn._fadeIn=a.fn.fadeIn;var g=a.noop||function(){},p=/MSIE/.test(navigator.userAgent),
u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),w=a.isFunction(document.createElement("div").style.setExpression);a.blockUI=function(a){b(window,a)};a.unblockUI=function(a){e(window,a)};a.growlUI=function(b,c,d,e){var f=a('<div class="growlUI"></div>');b&&f.append("<h1>"+b+"</h1>");c&&f.append("<h2>"+c+"</h2>");void 0===d&&(d=3E3);var g=function(b){b=b||{};a.blockUI({message:f,fadeIn:"undefined"!==typeof b.fadeIn?b.fadeIn:700,fadeOut:"undefined"!==typeof b.fadeOut?b.fadeOut:
1E3,timeout:"undefined"!==typeof b.timeout?b.timeout:d,centerY:!1,showOverlay:!1,onUnblock:e,css:a.blockUI.defaults.growlCSS})};g();f.css("opacity");f.mouseover(function(){g({fadeIn:0,timeout:3E4});var b=a(".blockMsg");b.stop();b.fadeTo(300,1)}).mouseout(function(){a(".blockMsg").fadeOut(1E3)})};a.fn.block=function(d){if(this[0]===window)return a.blockUI(d),this;var e=a.extend({},a.blockUI.defaults,d||{});this.each(function(){var b=a(this);e.ignoreIfBlocked&&b.data("blockUI.isBlocked")||b.unblock({fadeOut:0})});
return this.each(function(){"static"==a.css(this,"position")&&(this.style.position="relative",a(this).data("blockUI.static",!0));this.style.zoom=1;b(this,d)})};a.fn.unblock=function(b){return this[0]===window?(a.unblockUI(b),this):this.each(function(){e(this,b)})};a.blockUI.version=2.7;a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",
cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1E3,centerX:!0,centerY:!0,
allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var y=null,A=[]}"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],b):b(jQuery)})();function formNewWindow(b){b.target=b.NewWindow.checked?"_blank":"_self"}
(function(b,a){var c,e,d,f,m,l,h,g,p,u,w,y,A,C,v,r,G,z,s,x,k,n,E,B;c=function(a){return new c.prototype.init(a)};"undefined"!==typeof require&&"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=c:b.Globalize=c;c.cultures={};c.prototype={constructor:c,init:function(a){this.cultures=c.cultures;this.cultureSelector=a;return this}};c.prototype.init.prototype=c.prototype;c.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],
decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",
S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};c.cultures["default"].calendar=c.cultures["default"].calendars.standard;c.cultures.en=c.cultures["default"];c.cultureSelector="en";e=/^0x[a-f0-9]+$/i;d=/^[+\-]?infinity$/i;f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;m=/^\s+|\s+$/g;l=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1};h=function(a,b){return a.substr(a.length-b.length)===b};g=function(){var b,c,d,e,f,n=arguments[0]||{},k=1,q=arguments.length,
l=!1;"boolean"===typeof n&&(l=n,n=arguments[1]||{},k=2);for("object"===typeof n||u(n)||(n={});k<q;k++)if(null!=(b=arguments[k]))for(c in b)d=n[c],e=b[c],n!==e&&(l&&e&&(w(e)||(f=p(e)))?(f?(f=!1,d=d&&p(d)?d:[]):d=d&&w(d)?d:{},n[c]=g(l,d,e)):e!==a&&(n[c]=e));return n};p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};u=function(a){return"[object Function]"===Object.prototype.toString.call(a)};w=function(a){return"[object Object]"===Object.prototype.toString.call(a)};
y=function(a,b){return 0===a.indexOf(b)};A=function(a){return(a+"").replace(m,"")};C=function(a){return isNaN(a)?NaN:Math[0>a?"ceil":"floor"](a)};v=function(a,b,c){var d;for(d=a.length;d<b;d+=1)a=c?"0"+a:a+"0";return a};r=function(a,b){for(var c=0,d=!1,e=0,f=a.length;e<f;e++){var g=a.charAt(e);switch(g){case "'":d?b.push("'"):c++;d=!1;break;case "\\":d&&b.push("\\");d=!d;break;default:b.push(g),d=!1}}return c};G=function(a,b){b=b||"F";var c;c=a.patterns;var d=b.length;if(1===d){c=c[b];if(!c)throw"Invalid date format string '"+
b+"'.";b=c}else 2===d&&"%"===b.charAt(0)&&(b=b.charAt(1));return b};z=function(a,b,c){function d(a,b){var c;c=a+"";return 1<b&&c.length<b?(c=m[b-2]+c,c.substr(c.length-b,b)):c}function e(){if(u||E)return u;u=v.test(b);E=!0;return u}function f(a,b){if(w)return w[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b;}}var g=c.calendar,q=g.convert;if(!b||!b.length||"i"===b){if(c&&c.name.length)if(q)c=z(a,g.patterns.F,c);else{c=
new Date(a.getTime());var p=k(a,g.eras);c.setFullYear(n(a,g,p));c=c.toLocaleString()}else c=a.toString();return c}var p=g.eras,l="s"===b;b=G(g,b);c=[];var h,m=["0","00","000"],u,E,v=/([^d]|^)(d|dd)([^d]|$)/g,B=0,y=x(),w;for(!l&&q&&(w=q.fromGregorian(a));;){h=y.lastIndex;q=y.exec(b);h=b.slice(h,q?q.index:b.length);B+=r(h,c);if(!q)break;if(B%2)c.push(q[0]);else switch(h=q[0],q=h.length,h){case "ddd":case "dddd":c.push((3===q?g.days.namesAbbr:g.days.names)[a.getDay()]);break;case "d":case "dd":u=!0;
c.push(d(f(a,2),q));break;case "MMM":case "MMMM":h=f(a,1);c.push(g.monthsGenitive&&e()?g.monthsGenitive[3===q?"namesAbbr":"names"][h]:g.months[3===q?"namesAbbr":"names"][h]);break;case "M":case "MM":c.push(d(f(a,1)+1,q));break;case "y":case "yy":case "yyyy":h=w?w[0]:n(a,g,k(a,p),l);4>q&&(h%=100);c.push(d(h,q));break;case "h":case "hh":h=a.getHours()%12;0===h&&(h=12);c.push(d(h,q));break;case "H":case "HH":c.push(d(a.getHours(),q));break;case "m":case "mm":c.push(d(a.getMinutes(),q));break;case "s":case "ss":c.push(d(a.getSeconds(),
q));break;case "t":case "tt":h=12>a.getHours()?g.AM?g.AM[0]:" ":g.PM?g.PM[0]:" ";c.push(1===q?h.charAt(0):h);break;case "f":case "ff":case "fff":c.push(d(a.getMilliseconds(),3).substr(0,q));break;case "z":case "zz":h=a.getTimezoneOffset()/60;c.push((0>=h?"+":"-")+d(Math.floor(Math.abs(h)),q));break;case "zzz":h=a.getTimezoneOffset()/60;c.push((0>=h?"+":"-")+d(Math.floor(Math.abs(h)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":g.eras&&c.push(g.eras[k(a,p)].name);break;
case "/":c.push(g["/"]);break;default:throw"Invalid date format pattern '"+h+"'.";}}return c.join("")};(function(){var a;a=function(a,b,c){var d=c.groupSizes,e=d[0],f=1,t=Math.pow(10,b),t=Math.round(a*t)/t;isFinite(t)||(t=a);a=t+"";var t="",t=a.split(/e/i),g=1<t.length?parseInt(t[1],10):0;a=t[0];t=a.split(".");a=t[0];t=1<t.length?t[1]:"";0<g?(t=v(t,g,!1),a+=t.slice(0,g),t=t.substr(g)):0>g&&(g=-g,a=v(a,g+1,!0),t=a.slice(-g,a.length)+t,a=a.slice(0,-g));t=0<b?c["."]+(t.length>b?t.slice(0,b):v(t,b)):
"";b=a.length-1;c=c[","];for(g="";0<=b;){if(0===e||e>b)return a.slice(0,b+1)+(g.length?c+g+t:t);g=a.slice(b-e+1,b+1)+(g.length?c+g:"");b-=e;f<d.length&&(e=d[f],f++)}return a.slice(0,b+1)+c+g+t};s=function(b,c,d){if(!isFinite(b))return Infinity===b?d.numberFormat.positiveInfinity:-Infinity===b?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||"i"===c)return d.name.length?b.toLocaleString():b.toString();c=c||"D";d=d.numberFormat;var e=Math.abs(b),g=-1;1<c.length&&(g=parseInt(c.slice(1),10));
var f=c.charAt(0).toUpperCase(),q;switch(f){case "D":c="n";e=C(e);-1!==g&&(e=v(""+e,g,!0));0>b&&(e="-"+e);break;case "N":q=d;case "C":q=q||d.currency;case "P":q=q||d.percent;c=0>b?q.pattern[0]:q.pattern[1]||"n";-1===g&&(g=q.decimals);e=a(e*("P"===f?100:1),g,q);break;default:throw"Bad number format specifier: "+f;}b=/n|\$|-|%/g;for(q="";;){g=b.lastIndex;f=b.exec(c);q+=c.slice(g,f?f.index:c.length);if(!f)break;switch(f[0]){case "n":q+=e;break;case "$":q+=d.currency.symbol;break;case "-":/[1-9]/.test(e)&&
(q+=d["-"]);break;case "%":q+=d.percent.symbol}}return q}})();x=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};k=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,g=b.length;e<g;e++)if(c=b[e].start,null===c||d>=c)return e;return 0};n=function(a,b,c,d){a=a.getFullYear();!d&&b.eras&&(a-=b.eras[c].offset);return a};(function(){var a,b,c,d,e,g,f;a=function(a,b){if(100>b){var c=new Date,d=k(c),c=n(c,a,d),d=a.twoDigitYearMax,d="string"===
typeof d?(new Date).getFullYear()%100+parseInt(d,10):d;b+=c-c%100;b>d&&(b-=100)}return b};b=function(a,b,c){var d=a.days,e=a._upperDays;e||(a._upperDays=e=[f(d.names),f(d.namesAbbr),f(d.namesShort)]);b=g(b);c?(a=l(e[1],b),-1===a&&(a=l(e[2],b))):a=l(e[0],b);return a};c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,t=a._upperMonths,h=a._upperMonthsGen;t||(a._upperMonths=t=[f(d.names),f(d.namesAbbr)],a._upperMonthsGen=h=[f(e.names),f(e.namesAbbr)]);b=g(b);a=l(c?t[1]:t[0],b);0>a&&(a=l(c?
h[1]:h[0],b));return a};d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var d=G(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),e=["^"],g=[],f=0,t=0,h=x(),n;null!==(n=h.exec(d));){var k=d.slice(f,n.index),f=h.lastIndex,t=t+r(k,e);if(t%2)e.push(n[0]);else{var k=n[0],p=k.length;switch(k){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":k="(\\D+)";break;case "tt":case "t":k="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":k=
"(\\d{"+p+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":k="(\\d\\d?)";break;case "zzz":k="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":k="([+-]?\\d\\d?)";break;case "/":k="(\\/)";break;default:throw"Invalid date format pattern '"+k+"'.";}k&&e.push(k);g.push(n[0])}}r(d.slice(f),e);e.push("$");d={regExp:e.join("").replace(/\s+/g,"\\s+"),groups:g};return c[b]=d};e=function(a,b,c){return a<b||a>c};g=function(a){return a.split("\u00a0").join(" ").toUpperCase()};
f=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=g(a[c]);return b};E=function(g,f,h){g=A(g);h=h.calendar;f=d(h,f);var n=(new RegExp(f.regExp)).exec(g);if(null===n)return null;var k=f.groups,p=f=g=null,l=null,m=null,u=0,x,r=0,E=0,B=0;x=null;for(var v=!1,w=0,C=k.length;w<C;w++){var s=n[w+1];if(s){var D=k[w],z=D.length,F=parseInt(s,10);switch(D){case "dd":case "d":l=F;if(e(l,1,31))return null;break;case "MMM":case "MMMM":p=c(h,s,3===z);if(e(p,0,11))return null;break;case "M":case "MM":p=F-1;if(e(p,
0,11))return null;break;case "y":case "yy":case "yyyy":f=4>z?a(h,F):F;if(e(f,0,9999))return null;break;case "h":case "hh":u=F;12===u&&(u=0);if(e(u,0,11))return null;break;case "H":case "HH":u=F;if(e(u,0,23))return null;break;case "m":case "mm":r=F;if(e(r,0,59))return null;break;case "s":case "ss":E=F;if(e(E,0,59))return null;break;case "tt":case "t":v=h.PM&&(s===h.PM[0]||s===h.PM[1]||s===h.PM[2]);if(!v&&(!h.AM||s!==h.AM[0]&&s!==h.AM[1]&&s!==h.AM[2]))return null;break;case "f":case "ff":case "fff":B=
F*Math.pow(10,3-z);if(e(B,0,999))return null;break;case "ddd":case "dddd":m=b(h,s,3===z);if(e(m,0,6))return null;break;case "zzz":D=s.split(/:/);if(2!==D.length)return null;x=parseInt(D[0],10);if(e(x,-12,13))return null;D=parseInt(D[1],10);if(e(D,0,59))return null;x=60*x+(y(s,"-")?-D:D);break;case "z":case "zz":x=F;if(e(x,-12,13))return null;x*=60;break;case "g":case "gg":if(!s||!h.eras)return null;s=A(s.toLowerCase());D=0;for(z=h.eras.length;D<z;D++)if(s===h.eras[D].name.toLowerCase()){g=D;break}if(null===
g)return null}}}n=new Date;k=(w=h.convert)?w.fromGregorian(n)[0]:n.getFullYear();null===f?f=k:h.eras&&(f+=h.eras[g||0].offset);null===p&&(p=0);null===l&&(l=1);if(w){if(n=w.toGregorian(f,p,l),null===n)return null}else if(n.setFullYear(f,p,l),n.getDate()!==l||null!==m&&n.getDay()!==m)return null;v&&12>u&&(u+=12);n.setHours(u,r,E,B);null!==x&&(h=n.getMinutes()-(x+n.getTimezoneOffset()),n.setHours(n.getHours()+parseInt(h/60,10),h%60));return n}})();B=function(a,b,c){var d=b["-"];b=b["+"];var e;switch(c){case "n -":d=
" "+d,b=" "+b;case "n-":h(a,d)?e=["-",a.substr(0,a.length-d.length)]:h(a,b)&&(e=["+",a.substr(0,a.length-b.length)]);break;case "- n":d+=" ",b+=" ";case "-n":y(a,d)?e=["-",a.substr(d.length)]:y(a,b)&&(e=["+",a.substr(b.length)]);break;case "(n)":y(a,"(")&&h(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]};c.prototype.findClosestCulture=function(a){return c.findClosestCulture.call(this,a)};c.prototype.format=function(a,b,d){return c.format.call(this,a,b,d)};c.prototype.localize=function(a,
b){return c.localize.call(this,a,b)};c.prototype.parseInt=function(a,b,d){return c.parseInt.call(this,a,b,d)};c.prototype.parseFloat=function(a,b,d){return c.parseFloat.call(this,a,b,d)};c.prototype.culture=function(a){return c.culture.call(this,a)};c.addCultureInfo=function(a,b,c){var d={},e=!1;"string"!==typeof a?(c=a,a=this.culture().name,d=this.cultures[a]):"string"!==typeof b?(c=b,e=null==this.cultures[a],d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]);this.cultures[a]=
g(!0,{},d,c);e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)};c.findClosestCulture=function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];"string"===typeof a&&(a=a.split(","));if(p(a)){var c,d=this.cultures,e=a,f,g=e.length,h=[];for(f=0;f<g;f++)a=A(e[f]),a=a.split(";"),c=A(a[0]),1===a.length?a=1:(a=A(a[1]),0===a.indexOf("q=")?(a=a.substr(2),a=parseFloat(a),a=isNaN(a)?0:a):a=1),h.push({lang:c,pri:a});h.sort(function(a,b){return a.pri<
b.pri?1:a.pri>b.pri?-1:0});for(f=0;f<g;f++)if(c=h[f].lang,b=d[c])return b;for(f=0;f<g;f++){c=h[f].lang;do{e=c.lastIndexOf("-");if(-1===e)break;c=c.substr(0,e);if(b=d[c])return b}while(1)}for(f=0;f<g;f++){c=h[f].lang;for(var n in d)if(e=d[n],e.language==c)return e}}else if("object"===typeof a)return a;return b||null};c.format=function(a,b,c){c=this.findClosestCulture(c);a instanceof Date?a=z(a,b,c):"number"===typeof a&&(a=s(a,b,c));return a};c.localize=function(a,b){return this.findClosestCulture(b).messages[a]||
this.cultures["default"].messages[a]};c.parseDate=function(a,b,c){c=this.findClosestCulture(c);var d,e;if(b){if("string"===typeof b&&(b=[b]),b.length){e=0;for(var f=b.length;e<f;e++){var g=b[e];if(g&&(d=E(a,g,c)))break}}}else for(e in b=c.calendar.patterns,b)if(d=E(a,b[e],c))break;return d||null};c.parseInt=function(a,b,d){return C(c.parseFloat(a,b,d))};c.parseFloat=function(a,b,c){"number"!==typeof b&&(c=b,b=10);var g=this.findClosestCulture(c);c=NaN;var h=g.numberFormat;-1<a.indexOf(g.numberFormat.currency.symbol)&&
(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."]));a=A(a);if(d.test(a))c=parseFloat(a);else if(!b&&e.test(a))c=parseInt(a,16);else{g=B(a,h,h.pattern[0]);b=g[0];g=g[1];""===b&&"(n)"!==h.pattern[0]&&(g=B(a,h,"(n)"),b=g[0],g=g[1]);""===b&&"-n"!==h.pattern[0]&&(g=B(a,h,"-n"),b=g[0],g=g[1]);b=b||"+";var n;a=g.indexOf("e");0>a&&(a=g.indexOf("E"));0>a?(n=g,a=null):(n=g.substr(0,a),a=g.substr(a+1));var k=h["."],p=n.indexOf(k);0>p?(g=n,n=null):(g=
n.substr(0,p),n=n.substr(p+k.length));k=h[","];g=g.split(k).join("");p=k.replace(/\u00A0/g," ");k!==p&&(g=g.split(p).join(""));b+=g;null!==n&&(b+="."+n);null!==a&&(h=B(a,h,"-n"),b+="e"+(h[0]||"+")+h[1]);f.test(b)&&(c=parseFloat(b))}return c};c.culture=function(a){"undefined"!==typeof a&&(this.cultureSelector=a);return this.findClosestCulture(a)||this.cultures["default"]}})(this);
(function(){var b=function(a){a=a.toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("\u00e7","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("\u00f1","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6]","g"),"o");a=a.replace(RegExp("\u009c","g"),"oe");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc]","g"),
"u");return a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y")};window.string_ci_ai=b;var a=function(a,c,f,m,l){f=f||"value";m=m||"";l=l||"";return function(h,g){if(c.term&&(new RegExp(m+a.ui.autocomplete.escapeRegex(c.term)+l,"i")).test(h.term)&&c.content&&13>c.content.length){var p=new RegExp(m+a.ui.autocomplete.escapeRegex(h.term)+l,"i");g(a.grep(c.content,function(a){return p.test(b(a[f]))}));return!0}return!1}};window.default_cache_search_fn=a;var c=function(c,d,f,m,l){f=f||{};l=l||a(c,f,m||"value");
return function(a,g,p){a.term=b(a.term);f.term===a.term&&f.content?g(f.content):l(a,g)||c.ajax({url:p||d,dataType:"json",data:a,cache:!1,success:function(b){f.term=a.term;f.content=b;g(b)}})}};window.create_caching_source_fn=c;window.init_community_autocomplete=function(a,d,f,m,l){var h={};l&&(l=a(l));l&&!l.length&&(l=null);var g=a("#"+d).autocomplete({focus:function(a,b){return!1},select:function(a,b){g.data({chkid:b.item.chkid,display:b.item.value})},source:c(a,f,h),minLength:m}).keypress(function(a){"13"==
a.keyCode&&(a.preventDefault(),g.autocomplete("close"))});l&&(g.parents("form").on("submit",function(){var c=g.val();if(g.data("display")===c)l.val(g.data("chkid"));else{if(h.content){var d=b(c),c=a.grep(h.content,function(a){return b(a.value)===d});if(1===c.length){l.val(c[0].chkid);g.data({chkid:c[0].chkid,display:c[0].value}).val(c[0].value);return}}l.val("")}}),cache_register_onbeforerestorevalues(function(a){g.length&&(a=a["autocomplete_data_"+g[0].id])&&g.data(a)}),cache_register_onbeforeunload(function(a){if(g.length){var b=
g.data();b.display&&b.chkid&&(a["autocomplete_data_"+g[0].id]={display:b.display,chkid:b.chkid})}}))}})();
(function(){function b(b){return function(e,d){if(b.term&&(new RegExp(a.ui.autocomplete.escapeRegex(b.term),"i")).test(e.term)&&b.content&&13>b.content.length&&1<b.content.length){for(var f=[],m=e.term.split(/\s+/),l=0;l<m.length;l++)m[l]&&f.push(new RegExp(a.ui.autocomplete.escapeRegex(m[l]),"i"));d(a.grep(b.content,function(a){var b=!0;a=string_ci_ai(a.value);for(var c=0;c<f.length;c++)if(b=b&&f[c].test(a),!b)return!1;return b}));return!0}return!1}}var a=jQuery;window.init_find_box=function(c,e){var d=
{},f=/\?/,m=b(d),l=create_caching_source_fn(a,null,d,null,m),h=a("#STerms").autocomplete({focus:function(){return!1},source:function(b,e){var f=a("input[name=SType]:checked").prop("value"),h=c[f];h&&(d.type&&d.type!==f&&(delete d.type,delete d.term,delete d.content),l(b,function(a){d.type=f;e(a)},h))},minLength:4});e=e||a("#SearchForm");e.on("submit",function(){var b=null,c=null,b=null,l;if(d.content&&(l=string_ci_ai(h[0].value),c=a.grep(d.content,function(a){return string_ci_ai(a.value)===l}),1===
c.length&&c[0].quote))return b=h[0].value,h[0].value='"'+b+'"',c=e.serialize(),h[0].value=b,b=e.prop("action"),b+=(f.test(b)?"&":"?")+c,window.location.href=b,!1})}})();
(function(){window.init_grouped_quicklist=function(b){$(".fix-group-single option").each(function(){var a=$(this).data("group");a&&(this.value=a)});$(".fix-group-multi").each(function(){var a=$(this),c=a.data("group");c&&$("<option>").attr("value",c).data("group",c).insertAfter(a.find("option:first")).text(b)});$("#page_content").on("change",".fix-group-single, .fix-group-multi",function(){var a=this.name.replace("_GRP","");$(this).find("option:selected").data("group")?this.name=a+"_GRP":this.name=
a});cache_register_onbeforeunload(function(a){var b={};$(".fix-group-single, .fix-group-multi").each(function(){b[this.id]=this.name});a.QuickList=b});cache_register_onbeforerestorevalues(function(a){var b=a.QuickList;b&&$(".fix-group-single, .fix-group-multi").each(function(){var a=b[this.id];a&&(this.name=a)})})}})();
(function(){window.init_bsearch_tabs=function(b,a){var c=$(".make-me-tabbed"),e=window.location.hash;(e=/^#search-tab-(\d+)/.exec(e))&&(a=parseInt(e[1],10));c.length&&(b.InlineMode="on",c.find("ul:first a").each(function(a,c){var e=$(c).attr("href"),l=jQuery.extend({},b);if("#"!==e[0]){e=e.split("?");if(1<e.length){for(var h=e[1],g=l,p,u=/\+/g,w=/([^&=]+)=?([^&]*)/g,h=h||window.location.search.substring(1),g=g||{};p=w.exec(h);)g[decodeURIComponent(p[1].replace(u," "))]=decodeURIComponent(p[2].replace(u,
" "));e=e[0]}l&&(e=e+"?"+jQuery.param(l));c.href=e}}),c.tabs({active:a,beforeLoad:function(a,b){b.tab.data("loaded")?a.preventDefault():b.jqXHR.success(function(){b.tab.data("loaded",!0)})},load:function(){initialize_vacancy_ui()},activate:function(a,b){if(google.maps.event.trigger){var c=b.newPanel.find("#map_canvas");c.length&&google.maps.event.trigger(c[0],"resize")}}}).css("overflow","auto"),cache_register_onbeforeunload(function(a){a.last_tab=c.tabs("option","selected")}),cache_register_onbeforerestorevalues(function(a){a.last_tab&&
c.tabs("option","selected",a.last_tab)}))};window.init_placeholder_select=function(){var b=function(){var a=$(this);a.toggleClass("placeholder",!a.val())};$(".check-placeholder").on("change",b).each(b)};window.init_located_near_autocomplete=function(b){pageconstants&&pageconstants.maps_key_arg||b(".cm-select option, input.cm-select").each(function(){var a=b(this);"S"!=this.value&&"L"!=this.value&&("input"===this.tagName&&(a=a.parent()),a.remove())});var a=function(){var a=b(this),c=a.data("suffix");
"input"==this.tagName&&(a=b(".cm-select"+c+":checked"));a=a.val();"L"==a||"S"==a?(b("#located-serving-community-wrap"+c).show(),b("#located-near-wrap"+c).hide()):(b("#located-serving-community-wrap"+c).hide(),b("#located-near-wrap"+c).show())};b("input.cm-select").on("click",a);b("select.cm-select").on("click",a);var c=b("input.cm-select:checked, select.cm-select");window.pageconstants&&window.pageconstants.maps_key_arg&&c.each(function(){b(".cmtype-located-near").show();var a=b(this).data("suffix"),
c=b("#GeoLocatedNearAddress"+a).on("keypress",function(a){"13"==a.keyCode&&a.preventDefault()}).on("paste keyup",function(){b.trim(this.value)||(b("#LATITUDECommunity"+a).val(""),b("#LONGITUDECommunity"+a).val(""))}),f=null,m=c.parents("form").submit(function(l){c.data("last-location")!=c.val()&&b.trim(c.val())&&google&&(f||(f=new google.maps.Geocoder),l.preventDefault(),console.log("geocode"),f.geocode({address:c.val()},handle_geocode(function(f,g){f?(b("#LATITUDECommunity"+a).val(Globalize.format(f.lat(),
"n6")),b("#LONGITUDECommunity"+a).val(Globalize.format(f.lng(),"n6")),c.data("last-location",c.val()),m.submit()):alert(get_response_message(g))})))});initialize_maps(pageconstants.culture,pageconstants.maps_key_arg,function(){var f=new google.maps.places.Autocomplete(c[0]);f.addListener("place_changed",function(){var h=f.getPlace();h.geometry?(b("#LATITUDECommunity"+a).val(Globalize.format(h.geometry.location.lat(),"n6")),b("#LONGITUDECommunity"+a).val(Globalize.format(h.geometry.location.lng(),
"n6"))):(b("#LATITUDECommunity"+a).val(""),b("#LONGITUDECommunity"+a).val(""));c.data("last-location",c.val())})},!0)});c.each(a)}})();
(function(){draggable=!1;var b=null,a=null,c=[59.888937,-101.601562],e=null,d=null,f=!0,m=null,l=null,h=function(){d&&d.setMap(null);d=null;l&&(google.maps.event.removeListener(l),l=null)},g=function(a,b){document.getElementById("LATITUDE").value=Globalize.format(a,"n6");document.getElementById("LONGITUDE").value=Globalize.format(b,"n6")},p=function(b,c){var e=new google.maps.LatLng(b,c);f&&a.setZoom(14);a.setCenter(e);f=!1;e=new google.maps.Marker({position:e,map:a,clickable:!1,draggable:draggable});
h();d=e;draggable&&(l=google.maps.event.addListener(e,"dragend",u))},u=function(){$("#GEOCODE_TYPE_SITE_REFRESH, #GEOCODE_TYPE_INTERSECTION_REFRESH").addClass("NotVisible");$("#GEOCODE_TYPE_MANUAL").prop("checked",!0);var a=this.getPosition();g(a.lat(),a.lng())},w=function(a){a&&(m=pending_geocode_address,g(a.lat(),a.lng()),p(a.lat(),a.lng()))},y=function(a){var b=null;switch(a){case google.maps.GeocoderStatus.ZERO_RESULTS:b=pageconstants.txt_geocode_unknown_address;break;case google.maps.GeocoderStatus.REQUEST_DENIED:b=
pageconstants.txt_geocode_map_key_fail;break;case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:b=pageconstants.txt_geocode_too_many_queries;break;default:b=pageconstants.txt_geocode_unknown_error+a}return b};window.get_response_message=y;var A=function(a){return function(b,c){c!==google.maps.GeocoderStatus.OK?a(null,c):a(b[0].geometry.location,c)}};window.handle_geocode=A;var C=function(){var d={zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};b=document.getElementById("map_canvas");a=new google.maps.Map(b,
d);a.setCenter(new google.maps.LatLng(c[0],c[1]),2);e||(e=new google.maps.Geocoder);var d=$("#LATITUDE")[0].value,f=$("#LONGITUDE")[0].value;d&&f&&p(Globalize.parseFloat(d),Globalize.parseFloat(f))},v=[],r=!1;window.maps_loaded=function(){r=!0;$.each(v,function(a,b){b()});v=[]};window.add_maps_loaded_callback=function(a){r?a():v.push(a)};window.initialize_maps=function(a,b,c,d){if(!window.cioc_map_script_added){window.cioc_map_script_added=!0;Globalize.culture(a);var e="";d&&(e="&libraries=places");
$.getScript("//maps.googleapis.com/maps/api/js?v=3&"+b+"&sensor=false&callback=maps_loaded&language="+a+e)}add_maps_loaded_callback(c)};var G=function(){return A(function(a,b){a?w(a):alert(y(b))})},z=function(){if(a){var b=document.getElementById("located_near_address").value;if(m==b)return!1;m=b;var c=G();(pending_geocode_address=b)?e.geocode({address:b},c):(h(),g("",""))}return!1};window.searchform_map_loaded=function(){C();var a=$("#located_near_check_button").click(z),b=$("#located_near_address").keydown(s).blur(function(){a.click()});
if(google.maps.places){var c=new google.maps.places.Autocomplete(b[0]);c.addListener("place_changed",function(){var a=c.getPlace();a.geometry&&a.geometry.location&&(pending_geocode_address=b.val(),w(a.geometry.location))})}};var s=function(a){null==a&&(a=window.event);if(13==a.keyCode)return document.getElementById("located_near_check_button").click(),!1}})();
(function(){var b;(function(){var a,c=/\+/g,e=/([^&=]+)=?([^&]*)/g,d=window.location.search.substring(1);for(b={};null!==(a=e.exec(d));){var f=decodeURIComponent(a[1].replace(c," "));b[f]||(b[f]=[]);b[f].push(decodeURIComponent(a[2].replace(c," ")))}})();b.SearchParameterKey&&jQuery(function(a){var b=function(b){var c=b.find(".HighLight.SearchParamKey");c.length||(c=a('<div class="HighLight SearchParamKey"></div>').prependTo(b));b=b.find("input[name],textarea[name],select[name]").not(function(){return!this.value}).serialize()||
"";c.text(b)},e=function(){a("form > table > tbody > tr > td, .field-data-cell").has("input[name],textarea[name],select[name]").each(function(){b(a(this))})};a("form > table, .form-table").on("change keyup click","input[name],textarea[name],select[name]",function(){b(a(this).parents("form > table > tbody > tr > td, .field-data-cell"))});a(document).on("click","input[type=reset]",function(){setTimeout(e,1)});e()});window.init_pre_fill_search_parameters=function(a,c,e){var d=jQuery,f=document.getElementById("cache_form_values"),
m,l;if(!f||!f.value)if(f=function(){d("form").has("> table, .auto-fill-table").each(function(){restore_form_values(this,b)});c&&e&&(c=d(c),e=d(e),c.length&&e.length&&(m=b[c[0].name],l=b[e[0].name],m&&l&&c.data({chkid:l[0],display:m[0]})))},b){var h=[],g=d("#CheckListSource");b.CHKLOAD&&g.length&&window.get_advsrch_checklist?(d.each(b.CHKLOAD,function(b,c){d("#Chk"+c).length&&h.push(get_advsrch_checklist(a,c,g))}),d.when.apply(null,h).then(f)):f()}}})();
(function(){var b={},a=jQuery,c=null,e={},d={},f="",m=function(){var b=a(this);b.uibutton({icons:{primary:b.data("icon")},text:!1})},l=function(d){c=c.map(function(){return 0<=d.indexOf(a(this).data("vutId"))?this:null});c.each(function(){var c=a(this),d=c.data("vutId");c.data("uiAdded")||(c.data("uiAdded",!0),a('<span class="vacancy-ui vacancy-buttonset"><button class="vacancy-edit" id="vacancy-edit-'+d+'" data-vut-id="'+d+'" title="'+b.edit_txt+'" data-icon="ui-icon-pencil">'+b.edit_txt+'</button><button class="vacancy-history" data-icon="ui-icon-note" data-vut-id="'+
d+'" title="'+b.history_txt+'">'+b.history_txt+"</button></span>").buttonset().insertAfter(c).find("button").each(m))})},h=function(b,c,d){c=a('<div class="alert alert-dismissable '+c+'" style="display: none"></div>').text(d).append('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');d=b.children().first();d.length?d.before(c):b.append(c);c.slideDown("slow")},g=function(b){a.each(b,function(b,c){a("#vacancy-count-"+c.bt_vut_id).text(c.text)})},
p=function(a,b,c,d){return function(a){c.unblock();a.updates&&g(a.updates);h(d,(a.success?"alert-highlight":"alert-error")+" vacancy-notification",a.msg)}},u=function(a,c,d,e){return function(a,c){d.unblock();h(e,"alert-error vacancy-notification",b.server_error_txt+("error"!==c?c:a.statusText))}},w,y=function(){f&&(w&&clearTimeout(w),w=setTimeout(A,15E3))},A=function(){w=null;a.ajax({dataType:"json",url:b.refresh_url,cache:!1,data:{ids:f}}).done(function(a){a.success&&g(a.updates)}).always(y)},C=
function(c,d){var e=d.parent().block({message:null}),f=d.data("vutId"),g=e.find(".vacancy-count"),h=e.find(".vacancy-notify-area");h.length||(h=a('<div class="vacancy-notify-area alert-stack"></div>'),h.appendTo(e));a.ajax({dataType:"json",url:b.increment_url,type:"POST",data:{BT_VUT_ID:f,Value:c}}).done(p(f,g,e,h)).fail(u(f,g,e,h))},v=function(){if(b.permission_url){c=a(".vacancy-count");var d=c.map(function(){return a(this).data("vutId")}).get();if(f=d=d.join())a.ajax({dataType:"json",url:b.permission_url,
cache:!1,data:{ids:d}}).done(l),y()}},r=null,G=function(){r||(r=a('<div id="vacancy-dialog" style="display:none;"></div>').appendTo(a("body")).dialog({autoOpen:!1,closeText:b.close_txt,title:b.history_title_txt,minWidth:500}));return r},z=function(b,c){var d=a('<p class="Alert"></p>').text(c);b.empty().append(d)},s=function(a){var b=G();a.success?b.empty().html(a.content):z(b,a.content);b.dialog("option","title",a.title)},x=function(a,c){var d=G();z(d,b.server_error_txt+("error"!==c?c:a.statusText))},
k=function(){a(document).on("click",".vacancy-edit",function(c){c.preventDefault();c.stopPropagation();c=a(this);var f=c.data("vutId"),g=c.parent(),h=e[f];h||(h=a('<span class="vacancy-incrementer-ui vacancy-buttonset" style="display: none;" id="vacancy-incrementer-'+f+'" data-vut-id="'+f+'"><button class="vacancy-incrementer-up" data-icon="ui-icon-plusthick">'+b.up_txt+'</button><button class="vacancy-incrementer-down" data-icon="ui-icon-minusthick">'+b.down_txt+'</button><button class="vacancy-incrementer-done" data-icon="ui-icon-check">'+
b.done_txt+"</button></span>").buttonset().insertAfter(g),h.find("button").each(m),d[f]=g);c.parent().hide();h.show()}).on("click",".vacancy-incrementer-done",function(b){b.preventDefault();b.stopPropagation();b=a(this).parent();var c=b.data("vutId"),c=d[c];b.hide();c.show();var e=b.parent().parent().find(".vacancy-notify-area");e.slideUp("fast",function(){e.remove()})}).on("click",".vacancy-incrementer-up",function(b){b.preventDefault();b.stopPropagation();C(1,a(this).parent())}).on("click",".vacancy-incrementer-down",
function(b){b.preventDefault();b.stopPropagation();C(-1,a(this).parent())}).on("click",".vacancy-history",function(c){c.preventDefault();c.stopPropagation();c=a(this).data("vutId");G().html('<p class="Info">'+b.loading_txt+"</p>").dialog("close").dialog("open").dialog("option","title",b.history_title_txt);a.ajax({dataType:"json",url:b.history_url,cache:!1,data:{BT_VUT_ID:c}}).done(s).fail(x)}).on("click",".close",function(b){b.preventDefault();b.stopPropagation();b=a(this);var c=b.parents("."+b.data("dismiss")).first();
c.slideUp("slow",function(){c.remove()})})};window.initialize_vacancy=function(a){b=a;v();k()};window.initialize_vacancy_options=function(a){b=a};window.initialize_vacancy_ui=v;window.initialize_vacancy_events=k})();
(function(){var b=jQuery,a=function(a){return function(b){a.after(b.join(""))}},c=function(c){c=b(this);var d=c.parents("tr").first();if(c.data("closed")){var e=c.data("url");b.ajax({success:a(d),data:{LV:c.data("level")+1},dataType:"json",url:e});c.data("closed",!1);c.find("img").prop("src",function(a,b){return b.replace("plus","minus")})}else{parent_classes=[".TaxRowLevel"+c.data("level")];for(e=1;e<c.data("level");e++)parent_classes.push(".TaxRowLevel"+e);d.nextUntil(parent_classes.join(",")).remove();
c.data("closed",!0);c.find("img").prop("src",function(a,b){return b.replace("minus","plus")})}},e=function(a){return function(b){b&&a.html('<div class="MoreTermInfo">'+b[0]+"</div>")}},d=function(a){a=b(this);var c=a.parents("td").first().find(".taxDetail");if(a.data("closed")){var d=a.data("url");b.ajax({success:e(c),dataType:"json",url:d});a.data("closed",!1)}else c.empty(),a.data("closed",!0)},f=function(a){a=b(this);var c=a.data("which"),d=1,e="up";"up"===a.data("state")&&(d=-1,e="down");a.parents("tr").first().find("img").prop("src",
function(a,b){var d=b.substring(0,b.lastIndexOf("/")+1),f=b.substring(b.lastIndexOf("."));return a===c?d+e+f:d+"noplusminus"+f});a.parents("tr").first().find(".taxHeaderSort").each(function(a,d){a===c?b(d).data("state",e):b(d).data("state","noplusminus")});var f=a.parents("table").first().find("tbody");a=f.find("tr").get();a.sort(function(a,e){var f=b(a).data("sortkey")[c].toUpperCase(),g=b(e).data("sortkey")[c].toUpperCase();return f<g?-1*d:f>g?1*d:0});b.each(a,function(a,b){f.append(b)})},m=null,
l={},h=function(a){null===m&&(m=b("#activations-table").data("url"),l=b("#activations-table").data("paramBase"));return function(){var a=b(this),c=a.parent().find("span:first"),d=c.data("taxcode");b.ajax({url:m,type:"POST",dataType:"json",data:b.extend({},l,{TC:d,action:a.data("action"),LV:c.data("level")+1}),success:function(a){a.buttonstates&&b.each(a.buttonstates,function(a,c){var d=b("#tax-code-"+c.code.replace(/\./,"-")),e=d.find(".taxExpandTerm").first();null===c.active?d.find(".rollup-indicator").removeClass("hidden"):
d.find(".rollup-indicator").addClass("hidden");c.active?(e.removeClass("TaxLinkInactive"),e.addClass("TaxLink")):(e.addClass("TaxLinkInactive"),e.removeClass("TaxLink"));c.activate?d.find(".activate").removeClass("hidden"):d.find(".activate").addClass("hidden");c.deactivate?d.find(".deactivate").removeClass("hidden"):d.find(".deactivate").addClass("hidden");c.rollup?d.find(".rollup").removeClass("hidden"):d.find(".rollup").addClass("hidden")})},failure:function(){}})}};b(function(){b("#page_content").on("click",
"span.taxPlusMinus",c).on("click","span.taxExpandTerm",d).on("click",".taxHeaderSort",f).on("click",".activate",h("activate")).on("click",".deactivate",h("deactivate")).on("click",".rollup",h("rollup"))});window.init_taxcode_autocomplete=function(a){b("#TC").autocomplete({focus:function(a,b){return!1},source:create_caching_source_fn(b,a,"value"),minLength:1}).data("autocomplete")._renderItem=function(a,c){return b("<li></li>").data("item.autocomplete",c).append(b("<a></a>").text(c.value+" - "+c.label)).appendTo(a)}}})();
