window.CIOC={};
(function(a,b){b.do_drop_down_navigation=function(){for(var e=a.getElementById("ActionList").options,g=0;g<e.length;g++)if(e[g].selected){var f=e[g].getAttribute("href");f&&("undefined"!=typeof e[g].attributes.newwindow?b.open(f):b.location.href=f);break}};jQuery(function(e){e("[data-toggle=dialog]").each(function(){var g=e(this),f=e(g.data("target")),m={autoOpen:!1,title:f.data("title"),modal:f.data("modal")};f.dialog(m);g.click(function(){f.dialog("isOpen")?f.dialog("close"):f.dialog("open")})})})})(document,window);
function CheckAll(a,b){a||="IDList";var e=b;b||(e=document.RecordList);b=e.elements.length;for(var g=0;g<b;g++){var f=e.elements[g];f.name===a&&(f.checked=!0)}}function ClearAll(a,b){a||="IDList";var e=b;b||(e=document.RecordList);b=e.elements.length;for(var g=0;g<b;g++){var f=e.elements[g];f.name===a&&(f.checked=!1)}}function add_class(a,b){a&&!(new RegExp("\\b"+b+"\\b")).test(a.className)&&(a.className&&(b=" "+b),a.className+=b)}
function remove_class(a,b){if(a){for(var e=a.className.split(" "),g=[],f=0;f<e.length;f++){var m=e[f];m!==b&&g.push(m)}a.className=g.join(" ")}}function hide(a){add_class(a,"NotVisible")}function show(a){remove_class(a,"NotVisible")}function openWin(a,b){window.open(a,b,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(a,b){window.open(a,b,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(a,b){window.open(a,b,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(a){var b={sm:openWin,lg:openWinL,xl:openWinXL};a(document).on("click","a.poplink",function(){var e=a(this).data("popargs");(b[e.size||"sm"]||openWin)(this.href,e.name||"popwin");return!1})});
(function(){var a=jQuery,b={},e=function(d){null!==d&&"undefined"!==typeof d?a("#myListCount").text(d):(d=a("#myListCount").text())&&(d=parseInt(d,10));d?b.myListLink.show():b.myListLink.hide()},g=function(d){a.each(d,function(p,q){a("#added_to_list_"+q).show();a("#add_to_list_"+q).hide()})},f=function(d){return function(p){p.fail?alert(p.errinfo):(p.ids?e(a.grep(p.ids,c[b.domain]).length):p.count?e(p.count):e(0),g([d]))}},m=function(d){d=a(d.currentTarget).data("id");a.ajax({success:f(d),dataType:"json",
error:function(){alert("Error")},data:{id:d},type:"POST",url:b.current_list_url})},t=function(d){return function(p){if(p.fail)alert(p.errinfo);else{p=!0;if(d){var q=a("#results_table #remove_from_list_"+d);q.length?q.parent().parent().remove():(p=!1,q=a("#results_container #remove_from_list_"+d),q.parents(".dlist-result").remove())}(p?1!==a("#results_table tr").length:0!==a("#results_container .dlist-result").length)&&d||(a("#records_ui").hide(),a("#no_records_message").show())}}},r=function(d){d=
a(d.currentTarget).data("id");a.ajax({success:t(d),dataType:"json",error:function(){alert("Error")},data:{ID:d,RemoveItem:b.domain},type:"POST",url:b.current_list_url})},k=function(d){a.ajax({success:t(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:b.domain},type:"POST",url:b.current_list_url})},c={CIC:function(d){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(d)},VOL:function(d){return/^[1-9][0-9]*$/.test(d)}},l=function(d){if(d.fail)n();else if(d.inrequest){var p=a.grep(d.ids,
c[b.domain]);g(p);e(p.length);(d=d.previous_ids)&&a.each(d,function(q,u){a("#ct_added_to_previous_request_"+u).show()});a(".ListUI img").prop("src",function(q,u){return u.replace("list","referral")});a("#list_header_text").hide();a("#ct_header_text").show();b.current_list_url=b.ct_update_url;h()}else n()},n=function(){var d=function(){b.list_view_mode||g(b.already_added||[]);b.current_list_url=b.list_view_mode&&"ct"===b.list_view_mode?b.ct_update_url:b.list_update_url;e((b.already_added||[]).length);
h()};b.list_view_mode||b.has_session?d():a.ajax({dataType:"json",error:null,url:b.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(p){p.has_session&&d()}})},h=function(){a(".HideListUI").delegate(".add_to_list","click",m).delegate(".remove_from_list","click",r).removeClass("HideListUI");a("#remove_all_from_list").click(k);a.browser.msie&&"8.0">a.browser.msie&&a(".ListUI").removeClass("FixIE")};window.init_list_adder=function(d){b=d;b.myListLink=a("#myListLink").parent(":hidden").add("#myListLink");
d.in_request?a.ajax({success:l,dataType:"json",error:null,type:"POST",url:d.in_request}):n()}})();this.JSON||(this.JSON={});
(function(){function a(c){return 10>c?"0"+c:c}function b(c){f.lastIndex=0;return f.test(c)?'"'+c.replace(f,function(l){var n=r[l];return"string"===typeof n?n:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function e(c,l){var n=m,h=l[c];h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(c));"function"===typeof k&&(h=k.call(l,c,h));switch(typeof h){case "string":return b(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";m+=t;var d=[];if("[object Array]"===Object.prototype.toString.apply(h)){var p=h.length;for(c=0;c<p;c+=1)d[c]=e(c,h)||"null";l=0===d.length?"[]":m?"[\n"+m+d.join(",\n"+m)+"\n"+n+"]":"["+d.join(",")+"]";m=n;return l}if(k&&"object"===typeof k)for(p=k.length,c=0;c<p;c+=1){var q=k[c];"string"===typeof q&&(l=e(q,h))&&d.push(b(q)+(m?": ":":")+l)}else for(q in h)Object.hasOwnProperty.call(h,q)&&(l=e(q,h))&&d.push(b(q)+(m?": ":":")+l);l=0===d.length?"{}":m?"{\n"+m+d.join(",\n"+
m)+"\n"+n+"}":"{"+d.join(",")+"}";m=n;return l}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(c){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,t,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(c,l,n){var h;t=m="";if("number"===typeof n)for(h=0;h<n;h+=1)t+=" ";else"string"===typeof n&&(t=n);if((k=l)&&"function"!==typeof l&&("object"!==typeof l||"number"!==typeof l.length))throw Error("JSON.stringify");return e("",{"":c})});
"function"!==typeof JSON.parse&&(JSON.parse=function(c,l){function n(h,d){var p,q=h[d];if(q&&"object"===typeof q)for(p in q)if(Object.hasOwnProperty.call(q,p)){var u=n(q,p);void 0!==u?q[p]=u:delete q[p]}return l.call(h,d,q)}c=String(c);g.lastIndex=0;g.test(c)&&(c=c.replace(g,function(h){return"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+c+")"),"function"===typeof l?n({"":c},""):c;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(a){var b={};jQuery(a).find("input,select,textarea").each(function(e){if(this.name)if(b[this.name]||(b[this.name]=[]),"select"===this.nodeName.toLowerCase()){var g=b[this.name];$(this).find("option").each(function(f){this.selected&&g.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&b[this.name].push(this.value||"")});return b};window.restore_form_values=function(a,b){var e=jQuery;e(a).find("input,select,textarea").each(function(g){if(this.name){var f=
b[this.name];"undefined"!=typeof f&&null!==f&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?e(this).find("option").each(function(m){this.selected=1<f.length?0<=e.inArray(this.value,f):0===f.length?!1:this.value===f[0]}):this.value=f.length?f[0]:"":this.checked=1<f.length?0<=e.inArray(this.value,f):0===f.length?!1:this.value===f[0])}})};window.init_cached_state=function(a){var b=jQuery;a=a||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];var e=function(){var g=document.getElementById("cache_form_values");if(g){var f={form_values:get_form_values(a)};b.each(onbeforeunload_fns,function(m,t){t(f)});g.value=JSON.stringify(f)}};document.addEventListener("visibilitychange",function(){"hidden"==document.visibilityState&&e()});document.addEventListener("freeze",e);window.addEventListener("pagehide",e);window.cache_register_onbeforeunload=function(g){onbeforeunload_fns.push(g)};window.cache_register_onbeforerestorevalues=
function(g){onbeforerestorevalues_fns.push(g)};window.restore_cached_state=function(){b(window).on("pageshow",function(g){if(!g.originalEvent.persisted&&(g=document.getElementById("cache_form_values"))&&g.value){var f=JSON.parse(g.value);b.each(onbeforerestorevalues_fns,function(m,t){t(f)});restore_form_values(a,f.form_values)}})}}})();
(function(){var a=jQuery,b={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},e={"en-CA":!0,"":!0},g={},f={"fr-CA":"fr","es-MX":"es"},m=function(){var r=a(this),k=r.data("culture"),c=b[k]||a.datepicker.regional[k].dateFormat,l={};r.hasClass("NoYear")&&(c=c.replace(/[\- .\/]*yy[\/]?/,""),l={beforeShow:function(n,
h){h.dpDiv.addClass("NoYearDatePicker")},onClose:function(n,h){h.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});l.dateFormat=c;r.datepicker(a.extend({},a.datepicker.regional[k],l)).prop("autocomplete","off")},t=function(r){a.getScript("https://ajax.googleapis.com/ajax/libs/jqueryui/"+a.ui.version+"/i18n/jquery.ui.datepicker-"+r+".min.js",function(){e[r]=!0;a.each(g[r],function(){m.call(this)});delete g[r]})};a.datepicker.regional["en-CA"]=a.extend({},a.datepicker.regional[""]);a.fn.extend({autodatepicker:function(){return this.each(function(){var r=
a(this);var k=r.parents("[lang]").first().prop("lang")||"en-CA";k=f[k]||k;r.data("culture",k);e[k]?m.call(this):(r=g[k],r||(r=g[k]=[],t(k)),r.push(this))})}});jQuery(function(){a("input.DatePicker").autodatepicker()})})();
CIOC.initFindAndReplaceCheckList=function(){CIOC.frChk={};var a=jQuery,b="",e="",g="",f=function(){document.getElementById("CheckListType").selectedIndex=0;document.getElementById("CheckListItem1Block").innerHTML="&nbsp;";document.getElementById("CheckListItem2Block").innerHTML="&nbsp;";document.getElementById("CheckListNoteBlock").innerHTML=e;t()},m=function(){for(var k=document.getElementById("CheckListType").value,c="ac cm fd ft ln scha sche sm toc".split(" "),l=!1,n=0;n<c.length;n++)if(c[n]==
k){l=!0;break}c=document.getElementById("CheckListItem1");n=document.getElementById("CheckListItem2");l&&(c&&0==c.selectedIndex&&n&&0!=n.selectedIndex||"sm"==k)?document.getElementById("CheckListNote")||(document.getElementById("CheckListNoteBlock").innerHTML=g):document.getElementById("CheckListNoteBlock").innerHTML=e},t=function(){var k=document.getElementById("CheckListItem1"),c=document.getElementById("CheckListItem2"),l=document.getElementById("CheckListType").value;m();r();"sm"==l&&(0!=k.selectedIndex?
(c.selectedIndex=0,a("#CheckListItem2Row").hide(),a("#CheckListNoteRow").hide()):0!=c.selectedIndex?a("#CheckListItem1Row").hide():(a("#CheckListItem1Row").show(),a("#CheckListItem2Row").show(),a("#CheckListNoteRow").show()))},r=function(){var k=document.getElementById("CheckListItem1"),c=document.getElementById("CheckListItem2"),l=document.getElementById("CheckListType").value;0==document.getElementById("CheckListType").selectedIndex?document.getElementById("ReplaceButton").disabled=!0:k&&c&&k.selectedIndex==
c.selectedIndex?document.getElementById("ReplaceButton").disabled=!0:k&&0!=k.selectedIndex||c&&0!=c.selectedIndex?"sm"==l&&c&&0!=c.selectedIndex&&(k&&0!=k.selectedIndex||!document.getElementById("CheckListNote").value)?document.getElementById("ReplaceButton").disabled=!0:document.getElementById("ReplaceButton").disabled=!1:document.getElementById("ReplaceButton").disabled=!0};return function(k,c,l){b=k;e=c;g=l;var n=a("#CheckListType").change(function(h){(h=n.find("option:selected").data("optui"))?
("sm"!=document.getElementById("CheckListType").value?(a("#CheckListItem1Row").show(),a("#CheckListItem2Row").show(),a("#CheckListNoteRow").show(),a("#LookForTextBlock").show(),a("#ReplaceWithTextBlock").show(),a("#NoteTextBlock").show(),a("#URLTextBlock").hide()):(a("#LookForTextBlock").hide(),a("#ReplaceWithTextBlock").hide(),a("#NoteTextBlock").hide(),a("#URLTextBlock").show()),a("#CheckListItem1Block").html(h),a("#CheckListItem2Block").html(b+h.replace(/CheckListItem1/g,"CheckListItem2")),m()):
f()});a(document).on("paste keyup","#CheckListNote",r);a(document).on("select change","#CheckListItem1Block, #CheckListItem2Block",t);f()}}();
CIOC.initFindAndReplaceName=function(){function a(){return 0==document.getElementById("NameField").selectedIndex?(alert(b),!1):document.getElementById("FindText").value==document.getElementById("ReplaceText").value?(alert(e),!1):!0}var b="",e="";return function(g,f){b=g;e=f;document.getElementById("NameField").selectedIndex=0;document.getElementById("ReplaceWith").innerHTML="&nbsp;";$("#NameForm").submit(a);var m=$("#NameField").change(function(){var t=m.find("option:selected").data("replacewithui")||
"&nbsp;";$("#ReplaceWith").html(t)})}}();
