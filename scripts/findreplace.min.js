window.CIOC={};
(function(a,b){b.do_drop_down_navigation=function(){for(var d=a.getElementById("ActionList").options,e=0;e<d.length;e++)if(d[e].selected){var c=d[e].getAttribute("href");c&&("undefined"!=typeof d[e].attributes.newwindow?b.open(c):b.location.href=c);break}};jQuery(function(a){a("[data-toggle=dialog]").each(function(){var b=a(this),c=a(b.data("target")),f={autoOpen:!1,title:c.data("title"),modal:c.data("modal")};c.dialog(f);b.click(function(){c.dialog("isOpen")?c.dialog("close"):c.dialog("open")})})})})(document,window);
function CheckAll(a,b){a||(a="IDList");var d=b;b||(d=document.RecordList);for(var e=d.elements.length,c=0;c<e;c++){var f=d.elements[c];f.name===a&&(f.checked=!0)}}function ClearAll(a,b){a||(a="IDList");var d=b;b||(d=document.RecordList);for(var e=d.elements.length,c=0;c<e;c++){var f=d.elements[c];f.name===a&&(f.checked=!1)}}function add_class(a,b){a&&!(new RegExp("\\b"+b+"\\b")).test(a.className)&&(a.className&&(b=" "+b),a.className+=b)}
function remove_class(a,b){if(a){for(var d=a.className.split(" "),e=[],c=0;c<d.length;c++){var f=d[c];f!==b&&e.push(f)}a.className=e.join(" ")}}function hide(a){add_class(a,"NotVisible")}function show(a){remove_class(a,"NotVisible")}function openWin(a,b){window.open(a,b,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(a,b){window.open(a,b,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(a,b){window.open(a,b,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(a){var b={sm:openWin,lg:openWinL,xl:openWinXL};a(document).on("click","a.poplink",function(){var d=a(this).data("popargs");(b[d.size||"sm"]||openWin)(this.href,d.name||"popwin");return!1})});
(function(){var a=jQuery,b={},d=function(h){null!==h&&"undefined"!==typeof h?a("#myListCount").text(h):(h=a("#myListCount").text())&&(h=parseInt(h,10));h?b.myListLink.show():b.myListLink.hide()},e=function(b){a.each(b,function(b,h){a("#added_to_list_"+h).show();a("#add_to_list_"+h).hide()})},c=function(h){return function(c){c.fail?alert(c.errinfo):(c.ids?d(a.grep(c.ids,s[b.domain]).length):c.count?d(c.count):d(0),e([h]))}},f=function(h){h=a(h.currentTarget).data("id");a.ajax({success:c(h),dataType:"json",
error:function(){alert("Error")},data:{id:h},type:"POST",url:b.current_list_url})},l=function(b){return function(c){if(c.fail)alert(c.errinfo);else{c=!0;if(b){var d=a("#results_table #remove_from_list_"+b);d.length?d.parent().parent().remove():(c=!1,d=a("#results_container #remove_from_list_"+b),d.parents(".dlist-result").remove())}d=!1;if((d=c?1===a("#results_table tr").length:0===a("#results_container .dlist-result").length)||!b)a("#records_ui").hide(),a("#no_records_message").show()}}},m=function(c){c=
a(c.currentTarget).data("id");a.ajax({success:l(c),dataType:"json",error:function(){alert("Error")},data:{ID:c,RemoveItem:b.domain},type:"POST",url:b.current_list_url})},g=function(c){a.ajax({success:l(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:b.domain},type:"POST",url:b.current_list_url})},s={CIC:function(a){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(a)},VOL:function(a){return/^[1-9][0-9]*$/.test(a)}},t=function(c){if(c.fail)q();else if(c.inrequest){var f=a.grep(c.ids,
s[b.domain]);e(f);d(f.length);(c=c.previous_ids)&&a.each(c,function(b,c){a("#ct_added_to_previous_request_"+c).show()});a(".ListUI img").prop("src",function(a,b){return b.replace("list","referral")});a("#list_header_text").hide();a("#ct_header_text").show();b.current_list_url=b.ct_update_url;n()}else q()},q=function(){var c=function(){b.list_view_mode||e(b.already_added||[]);b.current_list_url=b.list_view_mode&&"ct"===b.list_view_mode?b.ct_update_url:b.list_update_url;d((b.already_added||[]).length);
n()};b.list_view_mode||b.has_session?c():a.ajax({dataType:"json",error:null,url:b.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(a){a.has_session&&c()}})},n=function(){a(".HideListUI").delegate(".add_to_list","click",f).delegate(".remove_from_list","click",m).removeClass("HideListUI");a("#remove_all_from_list").click(g);a.browser.msie&&"8.0">a.browser.msie&&a(".ListUI").removeClass("FixIE")};window.init_list_adder=function(c){b=c;b.myListLink=a("#myListLink").parent(":hidden").add("#myListLink");
c.in_request?a.ajax({success:t,dataType:"json",error:null,type:"POST",url:c.in_request}):q()}})();this.JSON||(this.JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var b=m[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,c){var e,n,h,m,r=f,p,k=c[a];k&&"object"===typeof k&&"function"===typeof k.toJSON&&(k=k.toJSON(a));"function"===typeof g&&(k=g.call(c,a,k));switch(typeof k){case "string":return b(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);
case "object":if(!k)return"null";f+=l;p=[];if("[object Array]"===Object.prototype.toString.apply(k)){m=k.length;for(e=0;e<m;e+=1)p[e]=d(e,k)||"null";h=0===p.length?"[]":f?"[\n"+f+p.join(",\n"+f)+"\n"+r+"]":"["+p.join(",")+"]";f=r;return h}if(g&&"object"===typeof g)for(m=g.length,e=0;e<m;e+=1)n=g[e],"string"===typeof n&&(h=d(n,k))&&p.push(b(n)+(f?": ":":")+h);else for(n in k)Object.hasOwnProperty.call(k,n)&&(h=d(n,k))&&p.push(b(n)+(f?": ":":")+h);h=0===p.length?"{}":f?"{\n"+f+p.join(",\n"+f)+"\n"+
r+"}":"{"+p.join(",")+"}";f=r;return h}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,l,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},g;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var e;l=f="";if("number"===typeof c)for(e=0;e<c;e+=1)l+=" ";else"string"===typeof c&&(l=c);if((g=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return d("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var d;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(a){var b={};jQuery(a).find("input,select,textarea").each(function(a){if(this.name)if(b[this.name]||(b[this.name]=[]),"select"===this.nodeName.toLowerCase()){var e=b[this.name];$(this).find("option").each(function(a){this.selected&&e.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&b[this.name].push(this.value||"")});return b};window.restore_form_values=function(a,b){var d=jQuery;d(a).find("input,select,textarea").each(function(a){if(this.name){var c=
b[this.name];"undefined"!=typeof c&&null!==c&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?d(this).find("option").each(function(a){this.selected=1<c.length?0<=d.inArray(this.value,c):0===c.length?!1:this.value===c[0]}):this.value=c.length?c[0]:"":this.checked=1<c.length?0<=d.inArray(this.value,c):0===c.length?!1:this.value===c[0])}})};window.init_cached_state=function(a){var b=jQuery;a=a||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];b(window).on("beforeunload",function(){var d={form_values:get_form_values(a)};b.each(onbeforeunload_fns,function(a,b){b(d)});document.getElementById("cache_form_values").value=JSON.stringify(d)});window.cache_register_onbeforeunload=function(a){onbeforeunload_fns.push(a)};window.cache_register_onbeforerestorevalues=function(a){onbeforerestorevalues_fns.push(a)};window.restore_cached_state=function(){var d=document.getElementById("cache_form_values");if(d&&d.value){var e=
JSON.parse(d.value);b.each(onbeforerestorevalues_fns,function(a,b){b(e)});restore_form_values(a,e.form_values)}}}})();
(function(){var a=jQuery,b={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},d={"en-CA":!0,"":!0},e={},c={"fr-CA":"fr","es-MX":"es"},f=function(){var c=a(this),d=c.data("culture"),e=b[d]||a.datepicker.regional[d].dateFormat,f={};c.hasClass("NoYear")&&(e=e.replace(/[\- .\/]*yy[\/]?/,""),f={beforeShow:function(a,
b){b.dpDiv.addClass("NoYearDatePicker")},onClose:function(a,b){b.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});f.dateFormat=e;c.datepicker(a.extend({},a.datepicker.regional[d],f)).prop("autocomplete","off")},l=function(b){a.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+a.ui.version+"/i18n/jquery.ui.datepicker-"+b+".min.js",function(){d[b]=!0;a.each(e[b],function(){f.call(this)});delete e[b]})};a.datepicker.regional["en-CA"]=a.extend({},a.datepicker.regional[""]);a.fn.extend({autodatepicker:function(){return this.each(function(){var b=
a(this),g;g=b.parents("[lang]").first().prop("lang")||"en-CA";g=c[g]||g;b.data("culture",g);d[g]?f.call(this):(b=e[g],b||(b=e[g]=[],l(g)),b.push(this))})}});jQuery(function(){a("input.DatePicker").autodatepicker()})})();
CIOC.initFindAndReplaceCheckList=function(){CIOC.frChk={};var a=jQuery,b="",d="",e="",c=function(){document.getElementById("CheckListType").selectedIndex=0;document.getElementById("CheckListItem1Block").innerHTML="&nbsp;";document.getElementById("CheckListItem2Block").innerHTML="&nbsp;";document.getElementById("CheckListNoteBlock").innerHTML=d;l()},f=function(){for(var a=document.getElementById("CheckListType").value,b="ac cm fd ft ln scha sche sm toc".split(" "),c=!1,f=0;f<b.length;f++)if(b[f]==
a){c=!0;break}b=document.getElementById("CheckListItem1");f=document.getElementById("CheckListItem2");c&&(b&&0==b.selectedIndex&&f&&0!=f.selectedIndex||"sm"==a)?document.getElementById("CheckListNote")||(document.getElementById("CheckListNoteBlock").innerHTML=e):document.getElementById("CheckListNoteBlock").innerHTML=d},l=function(){var b=document.getElementById("CheckListItem1"),c=document.getElementById("CheckListItem2"),d=document.getElementById("CheckListType").value;f();m();"sm"==d&&(0!=b.selectedIndex?
(c.selectedIndex=0,a("#CheckListItem2Row").hide(),a("#CheckListNoteRow").hide()):0!=c.selectedIndex?a("#CheckListItem1Row").hide():(a("#CheckListItem1Row").show(),a("#CheckListItem2Row").show(),a("#CheckListNoteRow").show()))},m=function(){var a=document.getElementById("CheckListItem1"),b=document.getElementById("CheckListItem2"),c=document.getElementById("CheckListType").value;0==document.getElementById("CheckListType").selectedIndex?document.getElementById("ReplaceButton").disabled=!0:a&&b&&a.selectedIndex==
b.selectedIndex?document.getElementById("ReplaceButton").disabled=!0:a&&0!=a.selectedIndex||b&&0!=b.selectedIndex?"sm"==c&&b&&0!=b.selectedIndex&&(a&&0!=a.selectedIndex||!document.getElementById("CheckListNote").value)?document.getElementById("ReplaceButton").disabled=!0:document.getElementById("ReplaceButton").disabled=!1:document.getElementById("ReplaceButton").disabled=!0};return function(g,s,t){b=g;d=s;e=t;var q=a("#CheckListType").change(function(d){(d=q.find("option:selected").data("optui"))?
("sm"!=document.getElementById("CheckListType").value?(a("#CheckListItem1Row").show(),a("#CheckListItem2Row").show(),a("#CheckListNoteRow").show(),a("#LookForTextBlock").show(),a("#ReplaceWithTextBlock").show(),a("#NoteTextBlock").show(),a("#URLTextBlock").hide()):(a("#LookForTextBlock").hide(),a("#ReplaceWithTextBlock").hide(),a("#NoteTextBlock").hide(),a("#URLTextBlock").show()),a("#CheckListItem1Block").html(d),a("#CheckListItem2Block").html(b+d.replace(/CheckListItem1/g,"CheckListItem2")),f()):
c()});a(document).on("paste keyup","#CheckListNote",m);a(document).on("select change","#CheckListItem1Block, #CheckListItem2Block",l);c()}}();
CIOC.initFindAndReplaceName=function(){function a(){return 0==document.getElementById("NameField").selectedIndex?(alert(b),!1):document.getElementById("FindText").value==document.getElementById("ReplaceText").value?(alert(d),!1):!0}var b="",d="";return function(e,c){b=e;d=c;document.getElementById("NameField").selectedIndex=0;document.getElementById("ReplaceWith").innerHTML="&nbsp;";$("#NameForm").submit(a);var f=$("#NameField").change(function(){var a=f.find("option:selected").data("replacewithui")||
"&nbsp;";$("#ReplaceWith").html(a)})}}();
