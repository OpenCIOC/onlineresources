window.CIOC={};
(function(b,c){c.do_drop_down_navigation=function(){for(var a=b.getElementById("ActionList").options,e=0;e<a.length;e++)if(a[e].selected){var d=a[e].getAttribute("href");d&&("undefined"!=typeof a[e].attributes.newwindow?c.open(d):c.location.href=d);break}};jQuery(function(b){b("[data-toggle=dialog]").each(function(){var c=b(this),d=b(c.data("target")),g={autoOpen:!1,title:d.data("title"),modal:d.data("modal")};d.dialog(g);c.click(function(){d.dialog("isOpen")?d.dialog("close"):d.dialog("open")})})})})(document,window);
function CheckAll(b,c){b||(b="IDList");var a=c;c||(a=document.RecordList);for(var e=a.elements.length,d=0;d<e;d++){var g=a.elements[d];g.name===b&&(g.checked=!0)}}function ClearAll(b,c){b||(b="IDList");var a=c;c||(a=document.RecordList);for(var e=a.elements.length,d=0;d<e;d++){var g=a.elements[d];g.name===b&&(g.checked=!1)}}function add_class(b,c){b&&!(new RegExp("\\b"+c+"\\b")).test(b.className)&&(b.className&&(c=" "+c),b.className+=c)}
function remove_class(b,c){if(b){for(var a=b.className.split(" "),e=[],d=0;d<a.length;d++){var g=a[d];g!==c&&e.push(g)}b.className=e.join(" ")}}function hide(b){add_class(b,"NotVisible")}function show(b){remove_class(b,"NotVisible")}function openWin(b,c){window.open(b,c,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(b,c){window.open(b,c,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(b,c){window.open(b,c,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(b){var c={sm:openWin,lg:openWinL,xl:openWinXL};b(document).on("click","a.poplink",function(){var a=b(this).data("popargs");(c[a.size||"sm"]||openWin)(this.href,a.name||"popwin");return!1})});
(function(){var b=jQuery,c={},a=function(a){null!==a&&"undefined"!==typeof a?b("#myListCount").text(a):(a=b("#myListCount").text())&&(a=parseInt(a,10));a?c.myListLink.show():c.myListLink.hide()},e=function(a){b.each(a,function(a,c){b("#added_to_list_"+c).show();b("#add_to_list_"+c).hide()})},d=function(d){return function(g){g.fail?alert(g.errinfo):(g.ids?a(b.grep(g.ids,m[c.domain]).length):g.count?a(g.count):a(0),e([d]))}},g=function(a){a=b(a.currentTarget).data("id");b.ajax({success:d(a),dataType:"json",
error:function(){alert("Error")},data:{id:a},type:"POST",url:c.current_list_url})},l=function(a){return function(c){if(c.fail)alert(c.errinfo);else{c=!0;if(a){var d=b("#results_table #remove_from_list_"+a);d.length?d.parent().parent().remove():(c=!1,d=b("#results_container #remove_from_list_"+a),d.parents(".dlist-result").remove())}d=!1;if((d=c?1===b("#results_table tr").length:0===b("#results_container .dlist-result").length)||!a)b("#records_ui").hide(),b("#no_records_message").show()}}},f=function(a){a=
b(a.currentTarget).data("id");b.ajax({success:l(a),dataType:"json",error:function(){alert("Error")},data:{ID:a,RemoveItem:c.domain},type:"POST",url:c.current_list_url})},h=function(a){b.ajax({success:l(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:c.domain},type:"POST",url:c.current_list_url})},m={CIC:function(a){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(a)},VOL:function(a){return/^[1-9][0-9]*$/.test(a)}},p=function(d){if(d.fail)x();else if(d.inrequest){var g=b.grep(d.ids,
m[c.domain]);e(g);a(g.length);(d=d.previous_ids)&&b.each(d,function(a,c){b("#ct_added_to_previous_request_"+c).show()});b(".ListUI img").prop("src",function(a,b){return b.replace("list","referral")});b("#list_header_text").hide();b("#ct_header_text").show();c.current_list_url=c.ct_update_url;t()}else x()},x=function(){var d=function(){c.list_view_mode||e(c.already_added||[]);c.current_list_url=c.list_view_mode&&"ct"===c.list_view_mode?c.ct_update_url:c.list_update_url;a((c.already_added||[]).length);
t()};c.list_view_mode||c.has_session?d():b.ajax({dataType:"json",error:null,url:c.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(a){a.has_session&&d()}})},t=function(){b(".HideListUI").delegate(".add_to_list","click",g).delegate(".remove_from_list","click",f).removeClass("HideListUI");b("#remove_all_from_list").click(h);b.browser.msie&&"8.0">b.browser.msie&&b(".ListUI").removeClass("FixIE")};window.init_list_adder=function(a){c=a;c.myListLink=b("#myListLink").parent(":hidden").add("#myListLink");
a.in_request?b.ajax({success:p,dataType:"json",error:null,type:"POST",url:a.in_request}):x()}})();this.JSON||(this.JSON={});
(function(){function b(a){return 10>a?"0"+a:a}function c(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=f[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function a(b,d){var e,f,u,z,A=g,r,n=d[b];n&&"object"===typeof n&&"function"===typeof n.toJSON&&(n=n.toJSON(b));"function"===typeof h&&(n=h.call(d,b,n));switch(typeof n){case "string":return c(n);case "number":return isFinite(n)?String(n):"null";case "boolean":case "null":return String(n);
case "object":if(!n)return"null";g+=l;r=[];if("[object Array]"===Object.prototype.toString.apply(n)){z=n.length;for(e=0;e<z;e+=1)r[e]=a(e,n)||"null";u=0===r.length?"[]":g?"[\n"+g+r.join(",\n"+g)+"\n"+A+"]":"["+r.join(",")+"]";g=A;return u}if(h&&"object"===typeof h)for(z=h.length,e=0;e<z;e+=1)f=h[e],"string"===typeof f&&(u=a(f,n))&&r.push(c(f)+(g?": ":":")+u);else for(f in n)Object.hasOwnProperty.call(n,f)&&(u=a(f,n))&&r.push(c(f)+(g?": ":":")+u);u=0===r.length?"{}":g?"{\n"+g+r.join(",\n"+g)+"\n"+
A+"}":"{"+r.join(",")+"}";g=A;return u}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,l,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,c,d){var e;l=g="";if("number"===typeof d)for(e=0;e<d;e+=1)l+=" ";else"string"===typeof d&&(l=d);if((h=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return a("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,g,f=a[d];if(f&&"object"===typeof f)for(e in f)Object.hasOwnProperty.call(f,e)&&(g=c(f,e),void 0!==g?f[e]=g:delete f[e]);return b.call(a,d,f)}var d;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(b){var c={};jQuery(b).find("input,select,textarea").each(function(a){if(this.name)if(c[this.name]||(c[this.name]=[]),"select"===this.nodeName.toLowerCase()){var b=c[this.name];$(this).find("option").each(function(a){this.selected&&b.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&c[this.name].push(this.value||"")});return c};window.restore_form_values=function(b,c){var a=jQuery;a(b).find("input,select,textarea").each(function(b){if(this.name){var d=
c[this.name];"undefined"!=typeof d&&null!==d&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?a(this).find("option").each(function(b){this.selected=1<d.length?0<=a.inArray(this.value,d):0===d.length?!1:this.value===d[0]}):this.value=d.length?d[0]:"":this.checked=1<d.length?0<=a.inArray(this.value,d):0===d.length?!1:this.value===d[0])}})};window.init_cached_state=function(b){var c=jQuery;b=b||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];c(window).on("beforeunload",function(){var a={form_values:get_form_values(b)};c.each(onbeforeunload_fns,function(b,c){c(a)});document.getElementById("cache_form_values").value=JSON.stringify(a)});window.cache_register_onbeforeunload=function(a){onbeforeunload_fns.push(a)};window.cache_register_onbeforerestorevalues=function(a){onbeforerestorevalues_fns.push(a)};window.restore_cached_state=function(){var a=document.getElementById("cache_form_values");if(a&&a.value){var e=
JSON.parse(a.value);c.each(onbeforerestorevalues_fns,function(a,b){b(e)});restore_form_values(b,e.form_values)}}}})();
(function(){var b=jQuery,c={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},a={"en-CA":!0,"":!0},e={},d={"fr-CA":"fr","es-MX":"es"},g=function(){var a=b(this),d=a.data("culture"),e=c[d]||b.datepicker.regional[d].dateFormat,g={};a.hasClass("NoYear")&&(e=e.replace(/[\- .\/]*yy[\/]?/,""),g={beforeShow:function(a,
b){b.dpDiv.addClass("NoYearDatePicker")},onClose:function(a,b){b.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});g.dateFormat=e;a.datepicker(b.extend({},b.datepicker.regional[d],g)).prop("autocomplete","off")},l=function(c){b.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+b.ui.version+"/i18n/jquery.ui.datepicker-"+c+".min.js",function(){a[c]=!0;b.each(e[c],function(){g.call(this)});delete e[c]})};b.datepicker.regional["en-CA"]=b.extend({},b.datepicker.regional[""]);b.fn.extend({autodatepicker:function(){return this.each(function(){var c=
b(this),h;h=c.parents("[lang]").first().prop("lang")||"en-CA";h=d[h]||h;c.data("culture",h);a[h]?g.call(this):(c=e[h],c||(c=e[h]=[],l(h)),c.push(this))})}});jQuery(function(){b("input.DatePicker").autodatepicker()})})();
(function(b){function c(a){return a&&a.constructor===Number?a+"px":a}b.fn.bgiframe=b.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(a){a=b.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},a);var e='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+a.src+'"style="display:block;position:absolute;z-index:-1;'+(!1!==a.opacity?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==a.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":
c(a.top))+";left:"+("auto"==a.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":c(a.left))+";width:"+("auto"==a.width?"expression(this.parentNode.offsetWidth+'px')":c(a.width))+";height:"+("auto"==a.height?"expression(this.parentNode.offsetHeight+'px')":c(a.height))+';"/>';return this.each(function(){0===b(this).children("iframe.bgiframe").length&&this.insertBefore(document.createElement(e),this.firstChild)})}:function(){return this};b.fn.bgIframe=b.fn.bgiframe})(jQuery);
function formNewWindow(b){b.target=b.NewWindow.checked?"_blank":"_self"}
(function(){var b=function(a){a=a.toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("\u00e7","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("\u00f1","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6]","g"),"o");a=a.replace(RegExp("\u009c","g"),"oe");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc]","g"),
"u");return a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y")};window.string_ci_ai=b;var c=function(a,c,g,l,f){g=g||"value";l=l||"";f=f||"";return function(h,m){if(c.term&&(new RegExp(l+a.ui.autocomplete.escapeRegex(c.term)+f,"i")).test(h.term)&&c.content&&13>c.content.length){var p=new RegExp(l+a.ui.autocomplete.escapeRegex(h.term)+f,"i");m(a.grep(c.content,function(a){return p.test(b(a[g]))}));return!0}return!1}};window.default_cache_search_fn=c;var a=function(a,d,g,l,f){g=g||{};f=f||c(a,g,l||"value");
return function(c,m,p){c.term=b(c.term);g.term===c.term&&g.content?m(g.content):f(c,m)||a.ajax({url:p||d,dataType:"json",data:c,cache:!1,success:function(a){g.term=c.term;g.content=a;m(a)}})}};window.create_caching_source_fn=a;window.init_community_autocomplete=function(c,d,g,l,f){var h={};f&&(f=c(f));f&&!f.length&&(f=null);var m=c("#"+d).autocomplete({focus:function(a,b){return!1},select:function(a,b){m.data({chkid:b.item.chkid,display:b.item.value})},source:a(c,g,h),minLength:l}).keypress(function(a){"13"==
a.keyCode&&(a.preventDefault(),m.autocomplete("close"))});f&&(m.parents("form").on("submit",function(){var a=m.val();if(m.data("display")===a)f.val(m.data("chkid"));else{if(h.content){var d=b(a),a=c.grep(h.content,function(a){return b(a.value)===d});if(1===a.length){f.val(a[0].chkid);m.data({chkid:a[0].chkid,display:a[0].value}).val(a[0].value);return}}f.val("")}}),cache_register_onbeforerestorevalues(function(a){m.length&&(a=a["autocomplete_data_"+m[0].id])&&m.data(a)}),cache_register_onbeforeunload(function(a){if(m.length){var b=
m.data();b.display&&b.chkid&&(a["autocomplete_data_"+m[0].id]={display:b.display,chkid:b.chkid})}}))}})();
(function(){function b(a){return function(b,d){if(a.term&&(new RegExp(c.ui.autocomplete.escapeRegex(a.term),"i")).test(b.term)&&a.content&&13>a.content.length&&1<a.content.length){for(var g=[],l=b.term.split(/\s+/),f=0;f<l.length;f++)l[f]&&g.push(new RegExp(c.ui.autocomplete.escapeRegex(l[f]),"i"));d(c.grep(a.content,function(a){var b=!0;a=string_ci_ai(a.value);for(var c=0;c<g.length;c++)if(b=b&&g[c].test(a),!b)return!1;return b}));return!0}return!1}}var c=jQuery;window.init_find_box=function(a,e){var d=
{},g=/\?/,l=b(d),f=create_caching_source_fn(c,null,d,null,l),h=c("#STerms").autocomplete({focus:function(){return!1},source:function(b,g){var e=c("input[name=SType]:checked").prop("value"),h=a[e];h&&(d.type&&d.type!==e&&(delete d.type,delete d.term,delete d.content),f(b,function(a){d.type=e;g(a)},h))},minLength:4});e=e||c("#SearchForm");e.on("submit",function(){var a=null,b=null,a=null,f;if(d.content&&(f=string_ci_ai(h[0].value),b=c.grep(d.content,function(a){return string_ci_ai(a.value)===f}),1===
b.length&&b[0].quote))return a=h[0].value,h[0].value='"'+a+'"',b=e.serialize(),h[0].value=a,a=e.prop("action"),a+=(g.test(a)?"&":"?")+b,window.location.href=a,!1})}})();
(function(){var b=jQuery;window.init_pubs_dropdown=function(a){var c=b("#GHPBID");if(0!==c.length){var g={},l={},f=null,h=null,m=b("#general_heading_search_selection"),p=b("#publication_search_selection"),x=c[0],t=function(){h?(b("#GHID").parent().html('<select id="GHID" name="GHID" multiple>'+h+"</select>"),b("#GHIDx").parent().html('<select id="GHIDx" name="GHIDx" multiple>'+h+"</select>")):(b("GHID").empty(),b("GHIDx").empty())};c.change(function(c){var d=c.target;""===d.value?(m.addClass("NotVisible"),
p.removeClass("NotVisible"),restore_form_values(p,g),l=get_form_values(m),b("#GHID").empty(),b("#GHIDx").empty()):(m.removeClass("NotVisible"),p.addClass("NotVisible"),g=get_form_values(g),f===d.value?(t(),null!==h&&restore_form_values(m,l)):b.getJSON(a,{PBID:d.value},function(a){(a=a.innerHTML)?(f=d.value,h=a,t()):(h="",b("#GHID").empty(),b("#GHIDx").empty())}))});cache_register_onbeforeunload(function(a){a.pubsearch={last_gh_ui:h,pb_selection_state:g,gh_selection_state:l,last_non_pub_selection:f,
pubs_value:x.value}});cache_register_onbeforerestorevalues(function(a){if(a=a.pubsearch)h=a.last_gh_ui,f=a.last_non_pub_selection,g=a.pb_selection_state,l=a.gh_selection_state,a.pubs_value&&(m.removeClass("NotVisible"),p.addClass("NotVisible"),t())})}};var c,a=function(a,d,g){var l=b("#Chk"+d).remove().html();0===g[0].options.length&&b("#CheckListSourceContainer").addClass("NotVisible");return b.getJSON(a,{ChkType:d}).done(function(a){var d=a.innerHTML;if(d)return c.append(b("<p>").html('<div class="FieldLabelLeftClr">'+
l+"</div>"+d)),a})};window.init_checklist_search=function(e){c=b("#CheckListSourceContainer").parent();var d=c.html();c.delegate("#AddChecklistCriteria","click",function(c){c.preventDefault();c.stopPropagation();c=b("#CheckListSource");0!==c[0].options.length&&a(e,c[0].value,c)});b("#ResetForm").click(function(){c.html(d)});cache_register_onbeforeunload(function(a){a.checklist_ui=c.html()});cache_register_onbeforerestorevalues(function(a){(a=a.checklist_ui)&&c.html(a)})};window.get_advsrch_checklist=
a})();
(function(b,c){var a,e,d,g,l,f,h,m,p,x,t,u,z,A,r,n,I,J,v,C,F,D,N,K;a=function(b){return new a.prototype.init(b)};"undefined"!==typeof require&&"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=a:b.Globalize=a;a.cultures={};a.prototype={constructor:a,init:function(b){this.cultures=a.cultures;this.cultureSelector=b;return this}};a.prototype.init.prototype=a.prototype;a.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,
",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},
months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};
a.cultures["default"].calendar=a.cultures["default"].calendars.standard;a.cultures.en=a.cultures["default"];a.cultureSelector="en";e=/^0x[a-f0-9]+$/i;d=/^[+\-]?infinity$/i;g=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;l=/^\s+|\s+$/g;f=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1};h=function(a,b){return a.substr(a.length-b.length)===b};m=function(){var a,b,d,s,g,e=arguments[0]||{},f=1,k=arguments.length,G=!1;"boolean"===typeof e&&(G=e,e=arguments[1]||
{},f=2);for("object"===typeof e||x(e)||(e={});f<k;f++)if(null!=(a=arguments[f]))for(b in a)d=e[b],s=a[b],e!==s&&(G&&s&&(t(s)||(g=p(s)))?(g?(g=!1,d=d&&p(d)?d:[]):d=d&&t(d)?d:{},e[b]=m(G,d,s)):s!==c&&(e[b]=s));return e};p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};x=function(a){return"[object Function]"===Object.prototype.toString.call(a)};t=function(a){return"[object Object]"===Object.prototype.toString.call(a)};u=function(a,b){return 0===a.indexOf(b)};z=
function(a){return(a+"").replace(l,"")};A=function(a){return isNaN(a)?NaN:Math[0>a?"ceil":"floor"](a)};r=function(a,b,c){var d;for(d=a.length;d<b;d+=1)a=c?"0"+a:a+"0";return a};n=function(a,b){for(var c=0,d=!1,g=0,e=a.length;g<e;g++){var f=a.charAt(g);switch(f){case "'":d?b.push("'"):c++;d=!1;break;case "\\":d&&b.push("\\");d=!d;break;default:b.push(f),d=!1}}return c};I=function(a,b){b=b||"F";var c;c=a.patterns;var d=b.length;if(1===d){c=c[b];if(!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===
d&&"%"===b.charAt(0)&&(b=b.charAt(1));return b};J=function(a,b,c){function d(a,b){var c;c=a+"";return 1<b&&c.length<b?(c=v[b-2]+c,c.substr(c.length-b,b)):c}function g(){if(l||m)return l;l=r.test(b);m=!0;return l}function e(a,b){if(L)return L[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b;}}var f=c.calendar,k=f.convert;if(!b||!b.length||"i"===b){if(c&&c.name.length)if(k)c=J(a,f.patterns.F,c);else{c=new Date(a.getTime());
var G=F(a,f.eras);c.setFullYear(D(a,f,G));c=c.toLocaleString()}else c=a.toString();return c}var G=f.eras,h="s"===b;b=I(f,b);c=[];var q,v=["0","00","000"],l,m,r=/([^d]|^)(d|dd)([^d]|$)/g,p=0,P=C(),L;for(!h&&k&&(L=k.fromGregorian(a));;){q=P.lastIndex;k=P.exec(b);q=b.slice(q,k?k.index:b.length);p+=n(q,c);if(!k)break;if(p%2)c.push(k[0]);else switch(q=k[0],k=q.length,q){case "ddd":case "dddd":c.push((3===k?f.days.namesAbbr:f.days.names)[a.getDay()]);break;case "d":case "dd":l=!0;c.push(d(e(a,2),k));break;
case "MMM":case "MMMM":q=e(a,1);c.push(f.monthsGenitive&&g()?f.monthsGenitive[3===k?"namesAbbr":"names"][q]:f.months[3===k?"namesAbbr":"names"][q]);break;case "M":case "MM":c.push(d(e(a,1)+1,k));break;case "y":case "yy":case "yyyy":q=L?L[0]:D(a,f,F(a,G),h);4>k&&(q%=100);c.push(d(q,k));break;case "h":case "hh":q=a.getHours()%12;0===q&&(q=12);c.push(d(q,k));break;case "H":case "HH":c.push(d(a.getHours(),k));break;case "m":case "mm":c.push(d(a.getMinutes(),k));break;case "s":case "ss":c.push(d(a.getSeconds(),
k));break;case "t":case "tt":q=12>a.getHours()?f.AM?f.AM[0]:" ":f.PM?f.PM[0]:" ";c.push(1===k?q.charAt(0):q);break;case "f":case "ff":case "fff":c.push(d(a.getMilliseconds(),3).substr(0,k));break;case "z":case "zz":q=a.getTimezoneOffset()/60;c.push((0>=q?"+":"-")+d(Math.floor(Math.abs(q)),k));break;case "zzz":q=a.getTimezoneOffset()/60;c.push((0>=q?"+":"-")+d(Math.floor(Math.abs(q)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":f.eras&&c.push(f.eras[F(a,G)].name);break;
case "/":c.push(f["/"]);break;default:throw"Invalid date format pattern '"+q+"'.";}}return c.join("")};(function(){var a;a=function(a,b,c){var d=c.groupSizes,B=d[0],g=1,k=Math.pow(10,b),k=Math.round(a*k)/k;isFinite(k)||(k=a);a=k+"";var k="",k=a.split(/e/i),e=1<k.length?parseInt(k[1],10):0;a=k[0];k=a.split(".");a=k[0];k=1<k.length?k[1]:"";0<e?(k=r(k,e,!1),a+=k.slice(0,e),k=k.substr(e)):0>e&&(e=-e,a=r(a,e+1,!0),k=a.slice(-e,a.length)+k,a=a.slice(0,-e));k=0<b?c["."]+(k.length>b?k.slice(0,b):r(k,b)):
"";b=a.length-1;c=c[","];for(e="";0<=b;){if(0===B||B>b)return a.slice(0,b+1)+(e.length?c+e+k:k);e=a.slice(b-B+1,b+1)+(e.length?c+e:"");b-=B;g<d.length&&(B=d[g],g++)}return a.slice(0,b+1)+c+e+k};v=function(b,c,d){if(!isFinite(b))return Infinity===b?d.numberFormat.positiveInfinity:-Infinity===b?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||"i"===c)return d.name.length?b.toLocaleString():b.toString();c=c||"D";d=d.numberFormat;var e=Math.abs(b),g=-1;1<c.length&&(g=parseInt(c.slice(1),10));
var f=c.charAt(0).toUpperCase(),k;switch(f){case "D":c="n";e=A(e);-1!==g&&(e=r(""+e,g,!0));0>b&&(e="-"+e);break;case "N":k=d;case "C":k=k||d.currency;case "P":k=k||d.percent;c=0>b?k.pattern[0]:k.pattern[1]||"n";-1===g&&(g=k.decimals);e=a(e*("P"===f?100:1),g,k);break;default:throw"Bad number format specifier: "+f;}b=/n|\$|-|%/g;for(k="";;){g=b.lastIndex;f=b.exec(c);k+=c.slice(g,f?f.index:c.length);if(!f)break;switch(f[0]){case "n":k+=e;break;case "$":k+=d.currency.symbol;break;case "-":/[1-9]/.test(e)&&
(k+=d["-"]);break;case "%":k+=d.percent.symbol}}return k}})();C=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};F=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,g=b.length;e<g;e++)if(c=b[e].start,null===c||d>=c)return e;return 0};D=function(a,b,c,d){a=a.getFullYear();!d&&b.eras&&(a-=b.eras[c].offset);return a};(function(){var a,b,c,d,e,g,h;a=function(a,b){if(100>b){var c=new Date,d=F(c),c=D(c,a,d),d=a.twoDigitYearMax,d="string"===
typeof d?(new Date).getFullYear()%100+parseInt(d,10):d;b+=c-c%100;b>d&&(b-=100)}return b};b=function(a,b,c){var d=a.days,e=a._upperDays;e||(a._upperDays=e=[h(d.names),h(d.namesAbbr),h(d.namesShort)]);b=g(b);c?(a=f(e[1],b),-1===a&&(a=f(e[2],b))):a=f(e[0],b);return a};c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,B=a._upperMonths,H=a._upperMonthsGen;B||(a._upperMonths=B=[h(d.names),h(d.namesAbbr)],a._upperMonthsGen=H=[h(e.names),h(e.namesAbbr)]);b=g(b);a=f(c?B[1]:B[0],b);0>a&&(a=f(c?
H[1]:H[0],b));return a};d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var d=I(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),e=["^"],g=[],B=0,f=0,H=C(),h;null!==(h=H.exec(d));){var s=d.slice(B,h.index),B=H.lastIndex,f=f+n(s,e);if(f%2)e.push(h[0]);else{var s=h[0],l=s.length;switch(s){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":s="(\\D+)";break;case "tt":case "t":s="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":s=
"(\\d{"+l+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":s="(\\d\\d?)";break;case "zzz":s="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":s="([+-]?\\d\\d?)";break;case "/":s="(\\/)";break;default:throw"Invalid date format pattern '"+s+"'.";}s&&e.push(s);g.push(h[0])}}n(d.slice(B),e);e.push("$");d={regExp:e.join("").replace(/\s+/g,"\\s+"),groups:g};return c[b]=d};e=function(a,b,c){return a<b||a>c};g=function(a){return a.split("\u00a0").join(" ").toUpperCase()};
h=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=g(a[c]);return b};N=function(g,f,h){g=z(g);h=h.calendar;f=d(h,f);var l=(new RegExp(f.regExp)).exec(g);if(null===l)return null;var v=f.groups,m=f=g=null,C=null,M=null,n=0,p,r=0,F=0,x=0;p=null;for(var O=!1,t=0,A=v.length;t<A;t++){var w=l[t+1];if(w){var y=v[t],D=y.length,E=parseInt(w,10);switch(y){case "dd":case "d":C=E;if(e(C,1,31))return null;break;case "MMM":case "MMMM":m=c(h,w,3===D);if(e(m,0,11))return null;break;case "M":case "MM":m=E-1;if(e(m,
0,11))return null;break;case "y":case "yy":case "yyyy":f=4>D?a(h,E):E;if(e(f,0,9999))return null;break;case "h":case "hh":n=E;12===n&&(n=0);if(e(n,0,11))return null;break;case "H":case "HH":n=E;if(e(n,0,23))return null;break;case "m":case "mm":r=E;if(e(r,0,59))return null;break;case "s":case "ss":F=E;if(e(F,0,59))return null;break;case "tt":case "t":O=h.PM&&(w===h.PM[0]||w===h.PM[1]||w===h.PM[2]);if(!O&&(!h.AM||w!==h.AM[0]&&w!==h.AM[1]&&w!==h.AM[2]))return null;break;case "f":case "ff":case "fff":x=
E*Math.pow(10,3-D);if(e(x,0,999))return null;break;case "ddd":case "dddd":M=b(h,w,3===D);if(e(M,0,6))return null;break;case "zzz":y=w.split(/:/);if(2!==y.length)return null;p=parseInt(y[0],10);if(e(p,-12,13))return null;y=parseInt(y[1],10);if(e(y,0,59))return null;p=60*p+(u(w,"-")?-y:y);break;case "z":case "zz":p=E;if(e(p,-12,13))return null;p*=60;break;case "g":case "gg":if(!w||!h.eras)return null;w=z(w.toLowerCase());y=0;for(D=h.eras.length;y<D;y++)if(w===h.eras[y].name.toLowerCase()){g=y;break}if(null===
g)return null}}}l=new Date;v=(t=h.convert)?t.fromGregorian(l)[0]:l.getFullYear();null===f?f=v:h.eras&&(f+=h.eras[g||0].offset);null===m&&(m=0);null===C&&(C=1);if(t){if(l=t.toGregorian(f,m,C),null===l)return null}else if(l.setFullYear(f,m,C),l.getDate()!==C||null!==M&&l.getDay()!==M)return null;O&&12>n&&(n+=12);l.setHours(n,r,F,x);null!==p&&(h=l.getMinutes()-(p+l.getTimezoneOffset()),l.setHours(l.getHours()+parseInt(h/60,10),h%60));return l}})();K=function(a,b,c){var d=b["-"];b=b["+"];var e;switch(c){case "n -":d=
" "+d,b=" "+b;case "n-":h(a,d)?e=["-",a.substr(0,a.length-d.length)]:h(a,b)&&(e=["+",a.substr(0,a.length-b.length)]);break;case "- n":d+=" ",b+=" ";case "-n":u(a,d)?e=["-",a.substr(d.length)]:u(a,b)&&(e=["+",a.substr(b.length)]);break;case "(n)":u(a,"(")&&h(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]};a.prototype.findClosestCulture=function(b){return a.findClosestCulture.call(this,b)};a.prototype.format=function(b,c,d){return a.format.call(this,b,c,d)};a.prototype.localize=function(b,
c){return a.localize.call(this,b,c)};a.prototype.parseInt=function(b,c,d){return a.parseInt.call(this,b,c,d)};a.prototype.parseFloat=function(b,c,d){return a.parseFloat.call(this,b,c,d)};a.prototype.culture=function(b){return a.culture.call(this,b)};a.addCultureInfo=function(a,b,c){var d={},e=!1;"string"!==typeof a?(c=a,a=this.culture().name,d=this.cultures[a]):"string"!==typeof b?(c=b,e=null==this.cultures[a],d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]);this.cultures[a]=
m(!0,{},d,c);e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)};a.findClosestCulture=function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];"string"===typeof a&&(a=a.split(","));if(p(a)){var c,d=this.cultures,e=a,g,f=e.length,h=[];for(g=0;g<f;g++)a=z(e[g]),a=a.split(";"),c=z(a[0]),1===a.length?a=1:(a=z(a[1]),0===a.indexOf("q=")?(a=a.substr(2),a=parseFloat(a),a=isNaN(a)?0:a):a=1),h.push({lang:c,pri:a});h.sort(function(a,b){return a.pri<
b.pri?1:a.pri>b.pri?-1:0});for(g=0;g<f;g++)if(c=h[g].lang,b=d[c])return b;for(g=0;g<f;g++){c=h[g].lang;do{e=c.lastIndexOf("-");if(-1===e)break;c=c.substr(0,e);if(b=d[c])return b}while(1)}for(g=0;g<f;g++){c=h[g].lang;for(var l in d)if(e=d[l],e.language==c)return e}}else if("object"===typeof a)return a;return b||null};a.format=function(a,b,c){c=this.findClosestCulture(c);a instanceof Date?a=J(a,b,c):"number"===typeof a&&(a=v(a,b,c));return a};a.localize=function(a,b){return this.findClosestCulture(b).messages[a]||
this.cultures["default"].messages[a]};a.parseDate=function(a,b,c){c=this.findClosestCulture(c);var d,e;if(b){if("string"===typeof b&&(b=[b]),b.length){e=0;for(var g=b.length;e<g;e++){var f=b[e];if(f&&(d=N(a,f,c)))break}}}else for(e in b=c.calendar.patterns,b)if(d=N(a,b[e],c))break;return d||null};a.parseInt=function(b,c,d){return A(a.parseFloat(b,c,d))};a.parseFloat=function(a,b,c){"number"!==typeof b&&(c=b,b=10);var f=this.findClosestCulture(c);c=NaN;var h=f.numberFormat;-1<a.indexOf(f.numberFormat.currency.symbol)&&
(a=a.replace(f.numberFormat.currency.symbol,""),a=a.replace(f.numberFormat.currency["."],f.numberFormat["."]));a=z(a);if(d.test(a))c=parseFloat(a);else if(!b&&e.test(a))c=parseInt(a,16);else{f=K(a,h,h.pattern[0]);b=f[0];f=f[1];""===b&&"(n)"!==h.pattern[0]&&(f=K(a,h,"(n)"),b=f[0],f=f[1]);""===b&&"-n"!==h.pattern[0]&&(f=K(a,h,"-n"),b=f[0],f=f[1]);b=b||"+";var l;a=f.indexOf("e");0>a&&(a=f.indexOf("E"));0>a?(l=f,a=null):(l=f.substr(0,a),a=f.substr(a+1));var v=h["."],k=l.indexOf(v);0>k?(f=l,l=null):(f=
l.substr(0,k),l=l.substr(k+v.length));v=h[","];f=f.split(v).join("");k=v.replace(/\u00A0/g," ");v!==k&&(f=f.split(k).join(""));b+=f;null!==l&&(b+="."+l);null!==a&&(h=K(a,h,"-n"),b+="e"+(h[0]||"+")+h[1]);g.test(b)&&(c=parseFloat(b))}return c};a.culture=function(a){"undefined"!==typeof a&&(this.cultureSelector=a);return this.findClosestCulture(a)||this.cultures["default"]}})(this);
(function(){var b=null,c=null,a=[59.888937,-101.601562],e=null,d=null,g=!0,l=null,f=null,h=function(){d&&d.setMap(null);d=null;f&&(google.maps.event.removeListener(f),f=null)},m=function(a,b){document.getElementById("LATITUDE").value=Globalize.format(a,"n6");document.getElementById("LONGITUDE").value=Globalize.format(b,"n6")},p=function(a,b){var e=new google.maps.LatLng(a,b);g&&c.setZoom(14);c.setCenter(e);g=!1;e=new google.maps.Marker({position:e,map:c,clickable:!1});h();d=e},x=function(a){a&&(l=
pending_geocode_address,m(a.lat(),a.lng()),p(a.lat(),a.lng()))},t=function(a){var b=null;switch(a){case google.maps.GeocoderStatus.ZERO_RESULTS:b=pageconstants.txt_geocode_unknown_address;break;case google.maps.GeocoderStatus.REQUEST_DENIED:b=pageconstants.txt_geocode_map_key_fail;break;case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:b=pageconstants.txt_geocode_too_many_queries;break;default:b=pageconstants.txt_geocode_unknown_error+a}return b};window.get_response_message=t;var u=function(a){return function(b,
c){c!==google.maps.GeocoderStatus.OK?a(null,c):a(b[0].geometry.location,c)}};window.handle_geocode=u;var z=function(){var d={zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};b=document.getElementById("map_canvas");c=new google.maps.Map(b,d);c.setCenter(new google.maps.LatLng(a[0],a[1]),2);e||(e=new google.maps.Geocoder);var d=$("#LATITUDE")[0].value,f=$("#LONGITUDE")[0].value;d&&f&&p(Globalize.parseFloat(d),Globalize.parseFloat(f))},A=[],r=!1;window.maps_loaded=function(){r=!0;$.each(A,function(a,
b){b()});A=[]};window.add_maps_loaded_callback=function(a){r?a():A.push(a)};window.initialize_maps=function(a,b,c,d){if(!window.cioc_map_script_added){window.cioc_map_script_added=!0;Globalize.culture(a);var e="";d&&(e="&libraries=places");$.getScript("//maps.googleapis.com/maps/api/js?v=3&"+b+"&sensor=false&callback=maps_loaded&language="+a+e)}add_maps_loaded_callback(c)};var n=function(){return u(function(a,b){a?x(a):alert(t(b))})},I=function(){if(c){var a=document.getElementById("located_near_address").value;
if(l==a)return!1;l=a;var b=n();(pending_geocode_address=a)?e.geocode({address:a},b):(h(),m("",""))}return!1};window.searchform_map_loaded=function(){z();var a=$("#located_near_check_button").click(I),b=$("#located_near_address").keydown(J).blur(function(){a.click()});if(google.maps.places){var c=new google.maps.places.Autocomplete(b[0]);c.addListener("place_changed",function(){var a=c.getPlace();a.geometry&&a.geometry.location&&(pending_geocode_address=b.val(),x(a.geometry.location))})}};var J=function(a){null==
a&&(a=window.event);if(13==a.keyCode)return document.getElementById("located_near_check_button").click(),!1}})();
(function(){var b;(function(){var c,a=/\+/g,e=/([^&=]+)=?([^&]*)/g,d=window.location.search.substring(1);for(b={};null!==(c=e.exec(d));){var g=decodeURIComponent(c[1].replace(a," "));b[g]||(b[g]=[]);b[g].push(decodeURIComponent(c[2].replace(a," ")))}})();b.SearchParameterKey&&jQuery(function(b){var a=function(a){var e=a.find(".HighLight.SearchParamKey");e.length||(e=b('<div class="HighLight SearchParamKey"></div>').prependTo(a));a=a.find("input[name],textarea[name],select[name]").not(function(){return!this.value}).serialize()||
"";e.text(a)},e=function(){b("form > table > tbody > tr > td, .field-data-cell").has("input[name],textarea[name],select[name]").each(function(){a(b(this))})};b("form > table, .form-table").on("change keyup click","input[name],textarea[name],select[name]",function(){a(b(this).parents("form > table > tbody > tr > td, .field-data-cell"))});b(document).on("click","input[type=reset]",function(){setTimeout(e,1)});e()});window.init_pre_fill_search_parameters=function(c,a,e){var d=jQuery,g=document.getElementById("cache_form_values"),
l,f;if(!g||!g.value)if(g=function(){d("form").has("> table, .auto-fill-table").each(function(){restore_form_values(this,b)});a&&e&&(a=d(a),e=d(e),a.length&&e.length&&(l=b[a[0].name],f=b[e[0].name],l&&f&&a.data({chkid:f[0],display:l[0]})))},b){var h=[],m=d("#CheckListSource");b.CHKLOAD&&m.length&&window.get_advsrch_checklist?(d.each(b.CHKLOAD,function(a,b){d("#Chk"+b).length&&h.push(get_advsrch_checklist(c,b,m))}),d.when.apply(null,h).then(g)):g()}}})();
