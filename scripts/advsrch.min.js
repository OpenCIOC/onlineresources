/*
 Globalize

 http://github.com/jquery/globalize

 Copyright Software Freedom Conservancy, Inc.
 Dual licensed under the MIT or GPL Version 2 licenses.
 http://jquery.org/license
*/
window.CIOC={};
(function(c,k){k.do_drop_down_navigation=function(){for(var p=c.getElementById("ActionList").options,f=0;f<p.length;f++)if(p[f].selected){var d=p[f].getAttribute("href");d&&("undefined"!=typeof p[f].attributes.newwindow?k.open(d):k.location.href=d);break}};jQuery(function(p){p("[data-toggle=dialog]").each(function(){var f=p(this),d=p(f.data("target")),m={autoOpen:!1,title:d.data("title"),modal:d.data("modal")};d.dialog(m);f.click(function(){d.dialog("isOpen")?d.dialog("close"):d.dialog("open")})})})})(document,window);
function CheckAll(c,k){c||="IDList";var p=k;k||(p=document.RecordList);k=p.elements.length;for(var f=0;f<k;f++){var d=p.elements[f];d.name===c&&(d.checked=!0)}}function ClearAll(c,k){c||="IDList";var p=k;k||(p=document.RecordList);k=p.elements.length;for(var f=0;f<k;f++){var d=p.elements[f];d.name===c&&(d.checked=!1)}}function add_class(c,k){c&&!(new RegExp("\\b"+k+"\\b")).test(c.className)&&(c.className&&(k=" "+k),c.className+=k)}
function remove_class(c,k){if(c){for(var p=c.className.split(" "),f=[],d=0;d<p.length;d++){var m=p[d];m!==k&&f.push(m)}c.className=f.join(" ")}}function hide(c){add_class(c,"NotVisible")}function show(c){remove_class(c,"NotVisible")}function openWin(c,k){window.open(c,k,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(c,k){window.open(c,k,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(c,k){window.open(c,k,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(c){var k={sm:openWin,lg:openWinL,xl:openWinXL};c(document).on("click","a.poplink",function(){var p=c(this).data("popargs");(k[p.size||"sm"]||openWin)(this.href,p.name||"popwin");return!1})});
(function(){var c=jQuery,k={},p=function(q){null!==q&&"undefined"!==typeof q?c("#myListCount").text(q):(q=c("#myListCount").text())&&(q=parseInt(q,10));q?k.myListLink.show():k.myListLink.hide()},f=function(q){c.each(q,function(F,G){c("#added_to_list_"+G).show();c("#add_to_list_"+G).hide()})},d=function(q){return function(F){F.fail?alert(F.errinfo):(F.ids?p(c.grep(F.ids,l[k.domain]).length):F.count?p(F.count):p(0),f([q]))}},m=function(q){q=c(q.currentTarget).data("id");c.ajax({success:d(q),dataType:"json",
error:function(){alert("Error")},data:{id:q},type:"POST",url:k.current_list_url})},C=function(q){return function(F){if(F.fail)alert(F.errinfo);else{F=!0;if(q){var G=c("#results_table #remove_from_list_"+q);G.length?G.parent().parent().remove():(F=!1,G=c("#results_container #remove_from_list_"+q),G.parents(".dlist-result").remove())}(F?1!==c("#results_table tr").length:0!==c("#results_container .dlist-result").length)&&q||(c("#records_ui").hide(),c("#no_records_message").show())}}},w=function(q){q=
c(q.currentTarget).data("id");c.ajax({success:C(q),dataType:"json",error:function(){alert("Error")},data:{ID:q,RemoveItem:k.domain},type:"POST",url:k.current_list_url})},v=function(q){c.ajax({success:C(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:k.domain},type:"POST",url:k.current_list_url})},l={CIC:function(q){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(q)},VOL:function(q){return/^[1-9][0-9]*$/.test(q)}},r=function(q){if(q.fail)A();else if(q.inrequest){var F=c.grep(q.ids,
l[k.domain]);f(F);p(F.length);(q=q.previous_ids)&&c.each(q,function(G,M){c("#ct_added_to_previous_request_"+M).show()});c(".ListUI img").prop("src",function(G,M){return M.replace("list","referral")});c("#list_header_text").hide();c("#ct_header_text").show();k.current_list_url=k.ct_update_url;z()}else A()},A=function(){var q=function(){k.list_view_mode||f(k.already_added||[]);k.current_list_url=k.list_view_mode&&"ct"===k.list_view_mode?k.ct_update_url:k.list_update_url;p((k.already_added||[]).length);
z()};k.list_view_mode||k.has_session?q():c.ajax({dataType:"json",error:null,url:k.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(F){F.has_session&&q()}})},z=function(){c(".HideListUI").delegate(".add_to_list","click",m).delegate(".remove_from_list","click",w).removeClass("HideListUI");c("#remove_all_from_list").click(v);c.browser.msie&&"8.0">c.browser.msie&&c(".ListUI").removeClass("FixIE")};window.init_list_adder=function(q){k=q;k.myListLink=c("#myListLink").parent(":hidden").add("#myListLink");
q.in_request?c.ajax({success:r,dataType:"json",error:null,type:"POST",url:q.in_request}):A()}})();this.JSON||(this.JSON={});
(function(){function c(l){return 10>l?"0"+l:l}function k(l){d.lastIndex=0;return d.test(l)?'"'+l.replace(d,function(r){var A=w[r];return"string"===typeof A?A:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'}function p(l,r){var A=m,z=r[l];z&&"object"===typeof z&&"function"===typeof z.toJSON&&(z=z.toJSON(l));"function"===typeof v&&(z=v.call(r,l,z));switch(typeof z){case "string":return k(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);
case "object":if(!z)return"null";m+=C;var q=[];if("[object Array]"===Object.prototype.toString.apply(z)){var F=z.length;for(l=0;l<F;l+=1)q[l]=p(l,z)||"null";r=0===q.length?"[]":m?"[\n"+m+q.join(",\n"+m)+"\n"+A+"]":"["+q.join(",")+"]";m=A;return r}if(v&&"object"===typeof v)for(F=v.length,l=0;l<F;l+=1){var G=v[l];"string"===typeof G&&(r=p(G,z))&&q.push(k(G)+(m?": ":":")+r)}else for(G in z)Object.hasOwnProperty.call(z,G)&&(r=p(G,z))&&q.push(k(G)+(m?": ":":")+r);r=0===q.length?"{}":m?"{\n"+m+q.join(",\n"+
m)+"\n"+A+"}":"{"+q.join(",")+"}";m=A;return r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(l){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(l){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,C,w={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;"function"!==typeof JSON.stringify&&(JSON.stringify=function(l,r,A){var z;C=m="";if("number"===typeof A)for(z=0;z<A;z+=1)C+=" ";else"string"===typeof A&&(C=A);if((v=r)&&"function"!==typeof r&&("object"!==typeof r||"number"!==typeof r.length))throw Error("JSON.stringify");return p("",{"":l})});
"function"!==typeof JSON.parse&&(JSON.parse=function(l,r){function A(z,q){var F,G=z[q];if(G&&"object"===typeof G)for(F in G)if(Object.hasOwnProperty.call(G,F)){var M=A(G,F);void 0!==M?G[F]=M:delete G[F]}return r.call(z,q,G)}l=String(l);f.lastIndex=0;f.test(l)&&(l=l.replace(f,function(z){return"\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(l.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return l=eval("("+l+")"),"function"===typeof r?A({"":l},""):l;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(c){var k={};jQuery(c).find("input,select,textarea").each(function(p){if(this.name)if(k[this.name]||(k[this.name]=[]),"select"===this.nodeName.toLowerCase()){var f=k[this.name];$(this).find("option").each(function(d){this.selected&&f.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&k[this.name].push(this.value||"")});return k};window.restore_form_values=function(c,k){var p=jQuery;p(c).find("input,select,textarea").each(function(f){if(this.name){var d=
k[this.name];"undefined"!=typeof d&&null!==d&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?p(this).find("option").each(function(m){this.selected=1<d.length?0<=p.inArray(this.value,d):0===d.length?!1:this.value===d[0]}):this.value=d.length?d[0]:"":this.checked=1<d.length?0<=p.inArray(this.value,d):0===d.length?!1:this.value===d[0])}})};window.init_cached_state=function(c){var k=jQuery;c=c||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];var p=function(){var f={form_values:get_form_values(c)};k.each(onbeforeunload_fns,function(d,m){m(f)});document.getElementById("cache_form_values").value=JSON.stringify(f)};document.addEventListener("visibilitychange",function(){"hidden"==document.visibilityState&&p()});document.addEventListener("freeze",p);window.addEventListener("pagehide",p);window.cache_register_onbeforeunload=function(f){onbeforeunload_fns.push(f)};window.cache_register_onbeforerestorevalues=function(f){onbeforerestorevalues_fns.push(f)};
window.restore_cached_state=function(){k(window).on("pageshow",function(f){if(!f.originalEvent.persisted&&(f=document.getElementById("cache_form_values"))&&f.value){var d=JSON.parse(f.value);k.each(onbeforerestorevalues_fns,function(m,C){C(d)});restore_form_values(c,d.form_values)}})}}})();
(function(){var c=jQuery,k={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},p={"en-CA":!0,"":!0},f={},d={"fr-CA":"fr","es-MX":"es"},m=function(){var w=c(this),v=w.data("culture"),l=k[v]||c.datepicker.regional[v].dateFormat,r={};w.hasClass("NoYear")&&(l=l.replace(/[\- .\/]*yy[\/]?/,""),r={beforeShow:function(A,
z){z.dpDiv.addClass("NoYearDatePicker")},onClose:function(A,z){z.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});r.dateFormat=l;w.datepicker(c.extend({},c.datepicker.regional[v],r)).prop("autocomplete","off")},C=function(w){c.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+c.ui.version+"/i18n/jquery.ui.datepicker-"+w+".min.js",function(){p[w]=!0;c.each(f[w],function(){m.call(this)});delete f[w]})};c.datepicker.regional["en-CA"]=c.extend({},c.datepicker.regional[""]);c.fn.extend({autodatepicker:function(){return this.each(function(){var w=
c(this);var v=w.parents("[lang]").first().prop("lang")||"en-CA";v=d[v]||v;w.data("culture",v);p[v]?m.call(this):(w=f[v],w||(w=f[v]=[],C(v)),w.push(this))})}});jQuery(function(){c("input.DatePicker").autodatepicker()})})();function formNewWindow(c){c.target=c.NewWindow.checked?"_blank":"_self"}
(function(){var c=function(f){f=f.toLowerCase();f=f.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");f=f.replace(RegExp("\u00e6","g"),"ae");f=f.replace(RegExp("\u00e7","g"),"c");f=f.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb]","g"),"e");f=f.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");f=f.replace(RegExp("\u00f1","g"),"n");f=f.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6]","g"),"o");f=f.replace(RegExp("\u009c","g"),"oe");f=f.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc]","g"),
"u");return f=f.replace(RegExp("[\u00fd\u00ff]","g"),"y")};window.string_ci_ai=c;window.slugify=function(f){f=c(f);f=f.replace(/-/g," ").replace(/[^a-z0-9\s]/g,"");f=f.trim();return f.replace(/\s+/g,"-")};var k=function(f,d,m,C,w){m=m||"value";C=C||"";w=w||"";return function(v,l){if(d.term&&(new RegExp(C+f.ui.autocomplete.escapeRegex(d.term)+w,"i")).test(v.term)&&d.content&&13>d.content.length){var r=new RegExp(C+f.ui.autocomplete.escapeRegex(v.term)+w,"i");l(f.grep(d.content,function(A){return r.test(c(A[m]))}));
return!0}return!1}};window.default_cache_search_fn=k;var p=function(f,d,m,C,w){m=m||{};w=w||k(f,m,C||"value");return function(v,l,r){v.term=c(v.term);m.term===v.term&&m.content?l(m.content):w(v,l)||f.ajax({url:r||d,dataType:"json",data:v,cache:!1,success:function(A){m.term=v.term;m.content=A;l(A)}})}};window.create_caching_source_fn=p;window.init_community_autocomplete=function(f,d,m,C,w){var v={};w&&=f(w);w&&!w.length&&(w=null);var l=f("#"+d).autocomplete({focus:function(r,A){return!1},select:function(r,
A){l.data({chkid:A.item.chkid,display:A.item.value})},source:p(f,m,v),minLength:C}).keypress(function(r){"13"==r.keyCode&&(r.preventDefault(),l.autocomplete("close"))});w&&(l.parents("form").on("submit",function(){var r=l.val();if(l.data("display")===r)w.val(l.data("chkid"));else{if(v.content){var A=c(r);r=f.grep(v.content,function(z){return c(z.value)===A});if(1===r.length){w.val(r[0].chkid);l.data({chkid:r[0].chkid,display:r[0].value}).val(r[0].value);return}}w.val("")}}),cache_register_onbeforerestorevalues(function(r){l.length&&
(r=r["autocomplete_data_"+l[0].id])&&l.data(r)}),cache_register_onbeforeunload(function(r){if(l.length){var A=l.data();A.display&&A.chkid&&(r["autocomplete_data_"+l[0].id]={display:A.display,chkid:A.chkid})}}))}})();
(function(){function c(p){return function(f,d){if(p.term&&(new RegExp(k.ui.autocomplete.escapeRegex(p.term),"i")).test(f.term)&&p.content&&13>p.content.length&&1<p.content.length){var m=[];f=f.term.split(/\s+/);for(var C=0;C<f.length;C++)f[C]&&m.push(new RegExp(k.ui.autocomplete.escapeRegex(f[C]),"i"));d(k.grep(p.content,function(w){var v=!0;w=string_ci_ai(w.value);for(var l=0;l<m.length;l++)if(v=v&&m[l].test(w),!v)return!1;return v}));return!0}return!1}}var k=jQuery;window.init_find_box=function(p,
f){var d={},m=/\?/,C=c(d),w=create_caching_source_fn(k,null,d,null,C),v=k("#STerms").autocomplete({focus:function(){return!1},source:function(l,r){var A=k("input[name=SType]:checked").prop("value"),z=p[A];z&&(d.type&&d.type!==A&&(delete d.type,delete d.term,delete d.content),w(l,function(q){d.type=A;r(q)},z))},minLength:4});f=f||k("#SearchForm");f.on("submit",function(){var l=null,r=null;l=null;if(d.content){var A=string_ci_ai(v[0].value);r=k.grep(d.content,function(z){return string_ci_ai(z.value)===
A});if(1===r.length&&r[0].quote)return l=v[0].value,v[0].value='"'+l+'"',r=f.serialize(),v[0].value=l,l=f.prop("action"),l+=(m.test(l)?"&":"?")+r,window.location.href=l,!1}})}})();
(function(){var c=jQuery;window.init_pubs_dropdown=function(f){var d=c("#GHPBID");if(0!==d.length){var m={},C={},w=null,v=null,l=c("#general_heading_search_selection"),r=c("#publication_search_selection"),A=d[0],z=function(){v?(c("#GHID").parent().html('<select id="GHID" name="GHID" multiple class="form-control" size="6">'+v+"</select>"),c("#GHIDx").parent().html('<select id="GHIDx" name="GHIDx" multiple class="form-control" size="6">'+v+"</select>")):(c("GHID").empty(),c("GHIDx").empty())};d.change(function(q){var F=
q.target;""===F.value?(l.addClass("NotVisible"),r.removeClass("NotVisible"),restore_form_values(r,m),C=get_form_values(l),c("#GHID").empty(),c("#GHIDx").empty()):(l.removeClass("NotVisible"),r.addClass("NotVisible"),m=get_form_values(m),w===F.value?(z(),null!==v&&restore_form_values(l,C)):c.getJSON(f,{PBID:F.value},function(G){(G=G.innerHTML)?(w=F.value,v=G,z()):(v="",c("#GHID").empty(),c("#GHIDx").empty())}))});cache_register_onbeforeunload(function(q){q.pubsearch={last_gh_ui:v,pb_selection_state:m,
gh_selection_state:C,last_non_pub_selection:w,pubs_value:A.value}});cache_register_onbeforerestorevalues(function(q){if(q=q.pubsearch)v=q.last_gh_ui,w=q.last_non_pub_selection,m=q.pb_selection_state,C=q.gh_selection_state,q.pubs_value&&(l.removeClass("NotVisible"),r.addClass("NotVisible"),z())})}};var k,p=function(f,d,m){var C=c("#Chk"+d).remove().html();0===m[0].options.length&&c("#CheckListSourceContainer").addClass("NotVisible");return c.getJSON(f,{ChkType:d}).done(function(w){var v=w.innerHTML;
if(v)return k.append(c("<p>").html('<div class="FieldLabelLeftClr">'+C+"</div>"+v)),w})};window.init_checklist_search=function(f){k=c("#CheckListSourceContainer").parent();var d=k.html();k.delegate("#AddChecklistCriteria","click",function(m){m.preventDefault();m.stopPropagation();m=c("#CheckListSource");0!==m[0].options.length&&p(f,m[0].value,m)});c("#ResetForm").click(function(){k.html(d)});cache_register_onbeforeunload(function(m){m.checklist_ui=k.html()});cache_register_onbeforerestorevalues(function(m){(m=
m.checklist_ui)&&k.html(m)})};window.get_advsrch_checklist=p})();
(function(c,k){var p,f;var d=function(a){return new d.prototype.init(a)};"undefined"!==typeof require&&"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=d:c.Globalize=d;d.cultures={};d.prototype={constructor:d,init:function(a){this.cultures=d.cultures;this.cultureSelector=a;return this}};d.prototype.init.prototype=d.prototype;d.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",
groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},
months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};
d.cultures["default"].calendar=d.cultures["default"].calendars.standard;d.cultures.en=d.cultures["default"];d.cultureSelector="en";var m=/^0x[a-f0-9]+$/i;var C=/^[+\-]?infinity$/i;var w=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;var v=/^\s+|\s+$/g;var l=function(a,b){if(a.indexOf)return a.indexOf(b);for(var h=0,g=a.length;h<g;h++)if(a[h]===b)return h;return-1};var r=function(a,b){return a.substr(a.length-b.length)===b};var A=function(){var a,b,h,g=arguments[0]||{},n=1,x=arguments.length,u=!1;"boolean"===typeof g&&
(u=g,g=arguments[1]||{},n=2);for("object"===typeof g||q(g)||(g={});n<x;n++)if(null!=(a=arguments[n]))for(b in a){var e=g[b];var t=a[b];g!==t&&(u&&t&&(F(t)||(h=z(t)))?(h?(h=!1,e=e&&z(e)?e:[]):e=e&&F(e)?e:{},g[b]=A(u,e,t)):t!==k&&(g[b]=t))}return g};var z=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};var q=function(a){return"[object Function]"===Object.prototype.toString.call(a)};var F=function(a){return"[object Object]"===Object.prototype.toString.call(a)};
var G=function(a,b){return 0===a.indexOf(b)};var M=function(a){return(a+"").replace(v,"")};var ba=function(a){return isNaN(a)?NaN:Math[0>a?"ceil":"floor"](a)};var Z=function(a,b,h){var g;for(g=a.length;g<b;g+=1)a=h?"0"+a:a+"0";return a};var ca=function(a,b){for(var h=0,g=!1,n=0,x=a.length;n<x;n++){var u=a.charAt(n);switch(u){case "'":g?b.push("'"):h++;g=!1;break;case "\\":g&&b.push("\\");g=!g;break;default:b.push(u),g=!1}}return h};var da=function(a,b){b=b||"F";a=a.patterns;var h=b.length;if(1===
h){a=a[b];if(!a)throw"Invalid date format string '"+b+"'.";b=a}else 2===h&&"%"===b.charAt(0)&&(b=b.charAt(1));return b};var y=function(a,b,h){function g(P,K){P+="";return 1<K&&P.length<K?(P=D[K-2]+P,P.substr(P.length-K,K)):P}function n(P,K){if(R)return R[K];switch(K){case 0:return P.getFullYear();case 1:return P.getMonth();case 2:return P.getDate();default:throw"Invalid part value "+K;}}var x=h.calendar,u=x.convert;if(!b||!b.length||"i"===b){if(h&&h.name.length)if(u)h=y(a,x.patterns.F,h);else{b=new Date(a.getTime());
var e=S(a,x.eras);b.setFullYear(V(a,x,e));h=b.toLocaleString()}else h=a.toString();return h}var t=x.eras,B="s"===b;b=da(x,b);h=[];var D=["0","00","000"],L=/([^d]|^)(d|dd)([^d]|$)/g,J=0,N=H(),R;for(!B&&u&&(R=u.fromGregorian(a));;){var E=N.lastIndex;u=N.exec(b);E=b.slice(E,u?u.index:b.length);J+=ca(E,h);if(!u)break;if(J%2)h.push(u[0]);else switch(E=u[0],u=E.length,E){case "ddd":case "dddd":h.push((3===u?x.days.namesAbbr:x.days.names)[a.getDay()]);break;case "d":case "dd":e=!0;h.push(g(n(a,2),u));break;
case "MMM":case "MMMM":E=n(a,1);var I=h,W=I.push,X;if(X=x.monthsGenitive){if(!e&&!T){e=L.test(b);var T=!0}X=e}W.call(I,X?x.monthsGenitive[3===u?"namesAbbr":"names"][E]:x.months[3===u?"namesAbbr":"names"][E]);break;case "M":case "MM":h.push(g(n(a,1)+1,u));break;case "y":case "yy":case "yyyy":E=R?R[0]:V(a,x,S(a,t),B);4>u&&(E%=100);h.push(g(E,u));break;case "h":case "hh":E=a.getHours()%12;0===E&&(E=12);h.push(g(E,u));break;case "H":case "HH":h.push(g(a.getHours(),u));break;case "m":case "mm":h.push(g(a.getMinutes(),
u));break;case "s":case "ss":h.push(g(a.getSeconds(),u));break;case "t":case "tt":E=12>a.getHours()?x.AM?x.AM[0]:" ":x.PM?x.PM[0]:" ";h.push(1===u?E.charAt(0):E);break;case "f":case "ff":case "fff":h.push(g(a.getMilliseconds(),3).substr(0,u));break;case "z":case "zz":E=a.getTimezoneOffset()/60;h.push((0>=E?"+":"-")+g(Math.floor(Math.abs(E)),u));break;case "zzz":E=a.getTimezoneOffset()/60;h.push((0>=E?"+":"-")+g(Math.floor(Math.abs(E)),2)+":"+g(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":x.eras&&
h.push(x.eras[S(a,t)].name);break;case "/":h.push(x["/"]);break;default:throw"Invalid date format pattern '"+E+"'.";}}return h.join("")};(function(){var a=function(b,h,g){var n=g.groupSizes,x=n[0],u=1,e=Math.pow(10,h);e=Math.round(b*e)/e;isFinite(e)||(e=b);b=e;e=(b+"").split(/e/i);var t=1<e.length?parseInt(e[1],10):0;b=e[0];e=b.split(".");b=e[0];e=1<e.length?e[1]:"";0<t?(e=Z(e,t,!1),b+=e.slice(0,t),e=e.substr(t)):0>t&&(t=-t,b=Z(b,t+1,!0),e=b.slice(-t,b.length)+e,b=b.slice(0,-t));e=0<h?g["."]+(e.length>
h?e.slice(0,h):Z(e,h)):"";h=b.length-1;g=g[","];for(t="";0<=h;){if(0===x||x>h)return b.slice(0,h+1)+(t.length?g+t+e:e);t=b.slice(h-x+1,h+1)+(t.length?g+t:"");h-=x;u<n.length&&(x=n[u],u++)}return b.slice(0,h+1)+g+t+e};p=function(b,h,g){if(!isFinite(b))return Infinity===b?g.numberFormat.positiveInfinity:-Infinity===b?g.numberFormat.negativeInfinity:g.numberFormat.NaN;if(!h||"i"===h)return g.name.length?b.toLocaleString():b.toString();h=h||"D";g=g.numberFormat;var n=Math.abs(b),x=-1;1<h.length&&(x=parseInt(h.slice(1),
10));var u=h.charAt(0).toUpperCase();switch(u){case "D":h="n";n=ba(n);-1!==x&&(n=Z(""+n,x,!0));0>b&&(n="-"+n);break;case "N":var e=g;case "C":e=e||g.currency;case "P":e=e||g.percent;h=0>b?e.pattern[0]:e.pattern[1]||"n";-1===x&&(x=e.decimals);n=a(n*("P"===u?100:1),x,e);break;default:throw"Bad number format specifier: "+u;}b=/n|\$|-|%/g;for(e="";;){x=b.lastIndex;u=b.exec(h);e+=h.slice(x,u?u.index:h.length);if(!u)break;switch(u[0]){case "n":e+=n;break;case "$":e+=g.currency.symbol;break;case "-":/[1-9]/.test(n)&&
(e+=g["-"]);break;case "%":e+=g.percent.symbol}}return e}})();var H=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};var S=function(a,b){if(!b)return 0;for(var h=a.getTime(),g=0,n=b.length;g<n;g++)if(a=b[g].start,null===a||h>=a)return g;return 0};var V=function(a,b,h,g){a=a.getFullYear();!g&&b.eras&&(a-=b.eras[h].offset);return a};(function(){var a=function(e,t){if(100>t){var B=new Date,D=S(B);B=V(B,e,D);e=e.twoDigitYearMax;e="string"===
typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;t+=B-B%100;t>e&&(t-=100)}return t};var b=function(e,t,B){var D=e.days,L=e._upperDays;L||(e._upperDays=L=[u(D.names),u(D.namesAbbr),u(D.namesShort)]);t=x(t);B?(e=l(L[1],t),-1===e&&(e=l(L[2],t))):e=l(L[0],t);return e};var h=function(e,t,B){var D=e.months,L=e.monthsGenitive||e.months,J=e._upperMonths,N=e._upperMonthsGen;J||(e._upperMonths=J=[u(D.names),u(D.namesAbbr)],e._upperMonthsGen=N=[u(L.names),u(L.namesAbbr)]);t=x(t);e=l(B?J[1]:J[0],t);0>e&&
(e=l(B?N[1]:N[0],t));return e};var g=function(e,t){var B=e._parseRegExp;if(B){var D=B[t];if(D)return D}else e._parseRegExp=B={};e=da(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");D=["^"];for(var L=[],J=0,N=0,R=H(),E;null!==(E=R.exec(e));){var I=e.slice(J,E.index);J=R.lastIndex;N+=ca(I,D);if(N%2)D.push(E[0]);else{I=E[0];var W=I.length;switch(I){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":I="(\\D+)";break;case "tt":case "t":I="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":I=
"(\\d{"+W+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":I="(\\d\\d?)";break;case "zzz":I="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":I="([+-]?\\d\\d?)";break;case "/":I="(\\/)";break;default:throw"Invalid date format pattern '"+I+"'.";}I&&D.push(I);L.push(E[0])}}ca(e.slice(J),D);D.push("$");e={regExp:D.join("").replace(/\s+/g,"\\s+"),groups:L};return B[t]=e};var n=function(e,t,B){return e<t||e>B};
var x=function(e){return e.split("\u00a0").join(" ").toUpperCase()};var u=function(e){for(var t=[],B=0,D=e.length;B<D;B++)t[B]=x(e[B]);return t};f=function(e,t,B){e=M(e);B=B.calendar;t=g(B,t);var D=(new RegExp(t.regExp)).exec(e);if(null===D)return null;var L=t.groups,J=t=e=null,N=null,R=null,E=0,I=0,W=0,X=0;var T=null;for(var P=!1,K=0,ea=L.length;K<ea;K++){var O=D[K+1];if(O){var Q=L[K],aa=Q.length,U=parseInt(O,10);switch(Q){case "dd":case "d":N=U;if(n(N,1,31))return null;break;case "MMM":case "MMMM":J=
h(B,O,3===aa);if(n(J,0,11))return null;break;case "M":case "MM":J=U-1;if(n(J,0,11))return null;break;case "y":case "yy":case "yyyy":t=4>aa?a(B,U):U;if(n(t,0,9999))return null;break;case "h":case "hh":E=U;12===E&&(E=0);if(n(E,0,11))return null;break;case "H":case "HH":E=U;if(n(E,0,23))return null;break;case "m":case "mm":I=U;if(n(I,0,59))return null;break;case "s":case "ss":W=U;if(n(W,0,59))return null;break;case "tt":case "t":P=B.PM&&(O===B.PM[0]||O===B.PM[1]||O===B.PM[2]);if(!P&&(!B.AM||O!==B.AM[0]&&
O!==B.AM[1]&&O!==B.AM[2]))return null;break;case "f":case "ff":case "fff":X=U*Math.pow(10,3-aa);if(n(X,0,999))return null;break;case "ddd":case "dddd":R=b(B,O,3===aa);if(n(R,0,6))return null;break;case "zzz":Q=O.split(/:/);if(2!==Q.length)return null;T=parseInt(Q[0],10);if(n(T,-12,13))return null;Q=parseInt(Q[1],10);if(n(Q,0,59))return null;T=60*T+(G(O,"-")?-Q:Q);break;case "z":case "zz":T=U;if(n(T,-12,13))return null;T*=60;break;case "g":case "gg":if(!O||!B.eras)return null;O=M(O.toLowerCase());
Q=0;for(aa=B.eras.length;Q<aa;Q++)if(O===B.eras[Q].name.toLowerCase()){e=Q;break}if(null===e)return null}}}D=new Date;L=(K=B.convert)?K.fromGregorian(D)[0]:D.getFullYear();null===t?t=L:B.eras&&(t+=B.eras[e||0].offset);null===J&&(J=0);null===N&&(N=1);if(K){if(D=K.toGregorian(t,J,N),null===D)return null}else if(D.setFullYear(t,J,N),D.getDate()!==N||null!==R&&D.getDay()!==R)return null;P&&12>E&&(E+=12);D.setHours(E,I,W,X);null!==T&&(B=D.getMinutes()-(T+D.getTimezoneOffset()),D.setHours(D.getHours()+
parseInt(B/60,10),B%60));return D}})();var Y=function(a,b,h){var g=b["-"];b=b["+"];var n;switch(h){case "n -":g=" "+g,b=" "+b;case "n-":r(a,g)?n=["-",a.substr(0,a.length-g.length)]:r(a,b)&&(n=["+",a.substr(0,a.length-b.length)]);break;case "- n":g+=" ",b+=" ";case "-n":G(a,g)?n=["-",a.substr(g.length)]:G(a,b)&&(n=["+",a.substr(b.length)]);break;case "(n)":G(a,"(")&&r(a,")")&&(n=["-",a.substr(1,a.length-2)])}return n||["",a]};d.prototype.findClosestCulture=function(a){return d.findClosestCulture.call(this,
a)};d.prototype.format=function(a,b,h){return d.format.call(this,a,b,h)};d.prototype.localize=function(a,b){return d.localize.call(this,a,b)};d.prototype.parseInt=function(a,b,h){return d.parseInt.call(this,a,b,h)};d.prototype.parseFloat=function(a,b,h){return d.parseFloat.call(this,a,b,h)};d.prototype.culture=function(a){return d.culture.call(this,a)};d.addCultureInfo=function(a,b,h){var g=!1;"string"!==typeof a?(h=a,a=this.culture().name,b=this.cultures[a]):"string"!==typeof b?(h=b,g=null==this.cultures[a],
b=this.cultures[a]||this.cultures["default"]):(g=!0,b=this.cultures[b]);this.cultures[a]=A(!0,{},b,h);g&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)};d.findClosestCulture=function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];"string"===typeof a&&(a=a.split(","));if(z(a)){var h=this.cultures,g=a,n,x=g.length,u=[];for(n=0;n<x;n++){a=M(g[n]);a=a.split(";");var e=M(a[0]);1===a.length?a=1:(a=M(a[1]),0===a.indexOf("q=")?(a=a.substr(2),
a=parseFloat(a),a=isNaN(a)?0:a):a=1);u.push({lang:e,pri:a})}u.sort(function(B,D){return B.pri<D.pri?1:B.pri>D.pri?-1:0});for(n=0;n<x;n++)if(e=u[n].lang,b=h[e])return b;for(n=0;n<x;n++){e=u[n].lang;do{g=e.lastIndexOf("-");if(-1===g)break;e=e.substr(0,g);if(b=h[e])return b}while(1)}for(n=0;n<x;n++){e=u[n].lang;for(var t in h)if(g=h[t],g.language==e)return g}}else if("object"===typeof a)return a;return b||null};d.format=function(a,b,h){h=this.findClosestCulture(h);a instanceof Date?a=y(a,b,h):"number"===
typeof a&&(a=p(a,b,h));return a};d.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]};d.parseDate=function(a,b,h){h=this.findClosestCulture(h);var g;if(b){if("string"===typeof b&&(b=[b]),b.length){var n=0;for(var x=b.length;n<x;n++){var u=b[n];if(u&&(g=f(a,u,h)))break}}}else for(n in b=h.calendar.patterns,b)if(g=f(a,b[n],h))break;return g||null};d.parseInt=function(a,b,h){return ba(d.parseFloat(a,b,h))};d.parseFloat=function(a,b,h){"number"!==
typeof b&&(h=b,b=10);var g=this.findClosestCulture(h);h=NaN;var n=g.numberFormat;-1<a.indexOf(g.numberFormat.currency.symbol)&&(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."]));a=M(a);if(C.test(a))h=parseFloat(a);else if(!b&&m.test(a))h=parseInt(a,16);else{g=Y(a,n,n.pattern[0]);b=g[0];g=g[1];""===b&&"(n)"!==n.pattern[0]&&(g=Y(a,n,"(n)"),b=g[0],g=g[1]);""===b&&"-n"!==n.pattern[0]&&(g=Y(a,n,"-n"),b=g[0],g=g[1]);b=b||"+";a=g.indexOf("e");0>
a&&(a=g.indexOf("E"));if(0>a){var x=g;a=null}else x=g.substr(0,a),a=g.substr(a+1);var u=n["."],e=x.indexOf(u);0>e?(g=x,x=null):(g=x.substr(0,e),x=x.substr(e+u.length));u=n[","];g=g.split(u).join("");e=u.replace(/\u00A0/g," ");u!==e&&(g=g.split(e).join(""));b+=g;null!==x&&(b+="."+x);null!==a&&(n=Y(a,n,"-n"),b+="e"+(n[0]||"+")+n[1]);w.test(b)&&(h=parseFloat(b))}return h};d.culture=function(a){"undefined"!==typeof a&&(this.cultureSelector=a);return this.findClosestCulture(a)||this.cultures["default"]}})(this);
(function(){draggable=!1;var c=null,k=null,p=[59.888937,-101.601562],f=null,d=null,m=!0,C=null,w=null,v=function(){d&&d.setMap(null);d=null;w&&(google.maps.event.removeListener(w),w=null)},l=function(y,H){document.getElementById("LATITUDE").value=Globalize.format(y,"n6");document.getElementById("LONGITUDE").value=Globalize.format(H,"n6")},r=function(y,H){y=new google.maps.LatLng(y,H);m&&k.setZoom(14);k.setCenter(y);m=!1;y=new google.maps.Marker({position:y,map:k,clickable:!1,draggable});v();d=y;draggable&&
(w=google.maps.event.addListener(y,"dragend",A))},A=function(){$("#GEOCODE_TYPE_SITE_REFRESH, #GEOCODE_TYPE_INTERSECTION_REFRESH").addClass("NotVisible");$("#GEOCODE_TYPE_MANUAL").prop("checked",!0);var y=this.getPosition();l(y.lat(),y.lng())},z=function(y){y&&(C=pending_geocode_address,l(y.lat(),y.lng()),r(y.lat(),y.lng()))},q=function(y){switch(y){case google.maps.GeocoderStatus.ZERO_RESULTS:y=pageconstants.txt_geocode_unknown_address;break;case google.maps.GeocoderStatus.REQUEST_DENIED:y=pageconstants.txt_geocode_map_key_fail;
break;case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:y=pageconstants.txt_geocode_too_many_queries;break;default:y=pageconstants.txt_geocode_unknown_error+y}return y};window.get_response_message=q;var F=function(y){return function(H,S){S!==google.maps.GeocoderStatus.OK?y(null,S):y(H[0].geometry.location,S)}};window.handle_geocode=F;var G=function(){var y={zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};c=document.getElementById("map_canvas");k=new google.maps.Map(c,y);k.setCenter(new google.maps.LatLng(p[0],
p[1]),2);f||=new google.maps.Geocoder;y=$("#LATITUDE")[0].value;var H=$("#LONGITUDE")[0].value;y&&H&&r(Globalize.parseFloat(y),Globalize.parseFloat(H))},M=[],ba=!1;window.maps_loaded=function(){ba=!0;$.each(M,function(y,H){H()});M=[]};window.add_maps_loaded_callback=function(y){ba?y():M.push(y)};window.initialize_maps=function(y,H,S,V){if(!window.cioc_map_script_added){window.cioc_map_script_added=!0;Globalize.culture(y);var Y="";V&&(Y="&libraries=places");$.getScript("//maps.googleapis.com/maps/api/js?v=3&"+
H+"&sensor=false&callback=maps_loaded&language="+y+Y)}add_maps_loaded_callback(S)};var Z=function(){return F(function(y,H){y?z(y):alert(q(H))})},ca=function(){if(k){var y=document.getElementById("located_near_address").value;if(C==y)return!1;C=y;var H=Z();(pending_geocode_address=y)?f.geocode({address:y},H):(v(),l("",""))}return!1};window.searchform_map_loaded=function(){G();var y=$("#located_near_check_button").click(ca),H=$("#located_near_address").keydown(da).blur(function(){y.click()});if(google.maps.places){var S=
new google.maps.places.Autocomplete(H[0]);S.addListener("place_changed",function(){var V=S.getPlace();V.geometry&&V.geometry.location&&(pending_geocode_address=H.val(),z(V.geometry.location))})}};var da=function(y){null==y&&(y=window.event);if(13==y.keyCode)return document.getElementById("located_near_check_button").click(),!1}})();
(function(){var c;(function(){var k,p=/\+/g,f=/([^&=]+)=?([^&]*)/g,d=window.location.search.substring(1);for(c={};null!==(k=f.exec(d));){var m=decodeURIComponent(k[1].replace(p," "));c[m]||(c[m]=[]);c[m].push(decodeURIComponent(k[2].replace(p," ")))}})();c.SearchParameterKey&&jQuery(function(k){var p=function(d){var m=d.find(".HighLight.SearchParamKey");m.length||(m=k('<div class="HighLight SearchParamKey"></div>').prependTo(d));d=d.find("input[name],textarea[name],select[name]").not(function(){return!this.value}).serialize()||
"";m.text(d)},f=function(){k("form > table > tbody > tr > td, .field-data-cell").has("input[name],textarea[name],select[name]").each(function(){p(k(this))})};k("form > table, .form-table").on("change keyup click","input[name],textarea[name],select[name]",function(){p(k(this).parents("form > table > tbody > tr > td, .field-data-cell"))});k(document).on("click","input[type=reset]",function(){setTimeout(f,1)});f()});window.init_pre_fill_search_parameters=function(k,p,f){var d=jQuery,m=document.getElementById("cache_form_values"),
C,w;if(!m||!m.value)if(m=function(){d("form").has("> table, .auto-fill-table").each(function(){restore_form_values(this,c)});p&&f&&(p=d(p),f=d(f),p.length&&f.length&&(C=c[p[0].name],w=c[f[0].name],C&&w&&p.data({chkid:w[0],display:C[0]})))},c){var v=[],l=d("#CheckListSource");c.CHKLOAD&&l.length&&window.get_advsrch_checklist?(d.each(c.CHKLOAD,function(r,A){d("#Chk"+A).length&&v.push(get_advsrch_checklist(k,A,l))}),d.when.apply(null,v).then(m)):m()}}})();
