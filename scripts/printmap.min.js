window.CIOC={};
(function(a,c){c.do_drop_down_navigation=function(){for(var b=a.getElementById("ActionList").options,e=0;e<b.length;e++)if(b[e].selected){var d=b[e].getAttribute("href");d&&("undefined"!=typeof b[e].attributes.newwindow?c.open(d):c.location.href=d);break}};jQuery(function(a){a("[data-toggle=dialog]").each(function(){var c=a(this),d=a(c.data("target")),f={autoOpen:!1,title:d.data("title"),modal:d.data("modal")};d.dialog(f);c.click(function(){d.dialog("isOpen")?d.dialog("close"):d.dialog("open")})})})})(document,window);
function CheckAll(a,c){a||(a="IDList");var b=c;c||(b=document.RecordList);for(var e=b.elements.length,d=0;d<e;d++){var f=b.elements[d];f.name===a&&(f.checked=!0)}}function ClearAll(a,c){a||(a="IDList");var b=c;c||(b=document.RecordList);for(var e=b.elements.length,d=0;d<e;d++){var f=b.elements[d];f.name===a&&(f.checked=!1)}}function add_class(a,c){a&&!(new RegExp("\\b"+c+"\\b")).test(a.className)&&(a.className&&(c=" "+c),a.className+=c)}
function remove_class(a,c){if(a){for(var b=a.className.split(" "),e=[],d=0;d<b.length;d++){var f=b[d];f!==c&&e.push(f)}a.className=e.join(" ")}}function hide(a){add_class(a,"NotVisible")}function show(a){remove_class(a,"NotVisible")}function openWin(a,c){window.open(a,c,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(a,c){window.open(a,c,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(a,c){window.open(a,c,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(a){var c={sm:openWin,lg:openWinL,xl:openWinXL};a(document).on("click","a.poplink",function(){var b=a(this).data("popargs");(c[b.size||"sm"]||openWin)(this.href,b.name||"popwin");return!1})});
(function(){var a=jQuery,c={},b=function(b){null!==b&&"undefined"!==typeof b?a("#myListCount").text(b):(b=a("#myListCount").text())&&(b=parseInt(b,10));b?c.myListLink.show():c.myListLink.hide()},e=function(b){a.each(b,function(b,c){a("#added_to_list_"+c).show();a("#add_to_list_"+c).hide()})},d=function(d){return function(f){f.fail?alert(f.errinfo):(f.ids?b(a.grep(f.ids,s[c.domain]).length):f.count?b(f.count):b(0),e([d]))}},f=function(b){b=a(b.currentTarget).data("id");a.ajax({success:d(b),dataType:"json",
error:function(){alert("Error")},data:{id:b},type:"POST",url:c.current_list_url})},l=function(b){return function(c){if(c.fail)alert(c.errinfo);else{c=!0;if(b){var d=a("#results_table #remove_from_list_"+b);d.length?d.parent().parent().remove():(c=!1,d=a("#results_container #remove_from_list_"+b),d.parents(".dlist-result").remove())}d=!1;if((d=c?1===a("#results_table tr").length:0===a("#results_container .dlist-result").length)||!b)a("#records_ui").hide(),a("#no_records_message").show()}}},g=function(b){b=
a(b.currentTarget).data("id");a.ajax({success:l(b),dataType:"json",error:function(){alert("Error")},data:{ID:b,RemoveItem:c.domain},type:"POST",url:c.current_list_url})},m=function(b){a.ajax({success:l(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:c.domain},type:"POST",url:c.current_list_url})},s={CIC:function(a){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(a)},VOL:function(a){return/^[1-9][0-9]*$/.test(a)}},z=function(d){if(d.fail)B();else if(d.inrequest){var f=a.grep(d.ids,
s[c.domain]);e(f);b(f.length);(d=d.previous_ids)&&a.each(d,function(b,c){a("#ct_added_to_previous_request_"+c).show()});a(".ListUI img").prop("src",function(a,b){return b.replace("list","referral")});a("#list_header_text").hide();a("#ct_header_text").show();c.current_list_url=c.ct_update_url;C()}else B()},B=function(){var d=function(){c.list_view_mode||e(c.already_added||[]);c.current_list_url=c.list_view_mode&&"ct"===c.list_view_mode?c.ct_update_url:c.list_update_url;b((c.already_added||[]).length);
C()};c.list_view_mode||c.has_session?d():a.ajax({dataType:"json",error:null,url:c.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(a){a.has_session&&d()}})},C=function(){a(".HideListUI").delegate(".add_to_list","click",f).delegate(".remove_from_list","click",g).removeClass("HideListUI");a("#remove_all_from_list").click(m);a.browser.msie&&"8.0">a.browser.msie&&a(".ListUI").removeClass("FixIE")};window.init_list_adder=function(b){c=b;c.myListLink=a("#myListLink").parent(":hidden").add("#myListLink");
b.in_request?a.ajax({success:z,dataType:"json",error:null,type:"POST",url:b.in_request}):B()}})();this.JSON||(this.JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function c(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(a,d){var e,g,t,u,A=f,r,p=d[a];p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(a));"function"===typeof m&&(p=m.call(d,a,p));switch(typeof p){case "string":return c(p);case "number":return isFinite(p)?String(p):"null";case "boolean":case "null":return String(p);
case "object":if(!p)return"null";f+=l;r=[];if("[object Array]"===Object.prototype.toString.apply(p)){u=p.length;for(e=0;e<u;e+=1)r[e]=b(e,p)||"null";t=0===r.length?"[]":f?"[\n"+f+r.join(",\n"+f)+"\n"+A+"]":"["+r.join(",")+"]";f=A;return t}if(m&&"object"===typeof m)for(u=m.length,e=0;e<u;e+=1)g=m[e],"string"===typeof g&&(t=b(g,p))&&r.push(c(g)+(f?": ":":")+t);else for(g in p)Object.hasOwnProperty.call(p,g)&&(t=b(g,p))&&r.push(c(g)+(f?": ":":")+t);t=0===r.length?"{}":f?"{\n"+f+r.join(",\n"+f)+"\n"+
A+"}":"{"+r.join(",")+"}";f=A;return t}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,l,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,c,d){var e;l=f="";if("number"===typeof d)for(e=0;e<d;e+=1)l+=" ";else"string"===typeof d&&(l=d);if((m=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var d;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(a){var c={};jQuery(a).find("input,select,textarea").each(function(a){if(this.name)if(c[this.name]||(c[this.name]=[]),"select"===this.nodeName.toLowerCase()){var e=c[this.name];$(this).find("option").each(function(a){this.selected&&e.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&c[this.name].push(this.value||"")});return c};window.restore_form_values=function(a,c){var b=jQuery;b(a).find("input,select,textarea").each(function(a){if(this.name){var d=
c[this.name];"undefined"!=typeof d&&null!==d&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?b(this).find("option").each(function(a){this.selected=1<d.length?0<=b.inArray(this.value,d):0===d.length?!1:this.value===d[0]}):this.value=d.length?d[0]:"":this.checked=1<d.length?0<=b.inArray(this.value,d):0===d.length?!1:this.value===d[0])}})};window.init_cached_state=function(a){var c=jQuery;a=a||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];c(window).on("beforeunload",function(){var b={form_values:get_form_values(a)};c.each(onbeforeunload_fns,function(a,c){c(b)});document.getElementById("cache_form_values").value=JSON.stringify(b)});window.cache_register_onbeforeunload=function(a){onbeforeunload_fns.push(a)};window.cache_register_onbeforerestorevalues=function(a){onbeforerestorevalues_fns.push(a)};window.restore_cached_state=function(){var b=document.getElementById("cache_form_values");if(b&&b.value){var e=
JSON.parse(b.value);c.each(onbeforerestorevalues_fns,function(a,b){b(e)});restore_form_values(a,e.form_values)}}}})();
(function(){var a=jQuery,c={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},b={"en-CA":!0,"":!0},e={},d={"fr-CA":"fr","es-MX":"es"},f=function(){var b=a(this),d=b.data("culture"),e=c[d]||a.datepicker.regional[d].dateFormat,f={};b.hasClass("NoYear")&&(e=e.replace(/[\- .\/]*yy[\/]?/,""),f={beforeShow:function(a,
b){b.dpDiv.addClass("NoYearDatePicker")},onClose:function(a,b){b.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});f.dateFormat=e;b.datepicker(a.extend({},a.datepicker.regional[d],f)).prop("autocomplete","off")},l=function(c){a.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+a.ui.version+"/i18n/jquery.ui.datepicker-"+c+".min.js",function(){b[c]=!0;a.each(e[c],function(){f.call(this)});delete e[c]})};a.datepicker.regional["en-CA"]=a.extend({},a.datepicker.regional[""]);a.fn.extend({autodatepicker:function(){return this.each(function(){var c=
a(this),m;m=c.parents("[lang]").first().prop("lang")||"en-CA";m=d[m]||m;c.data("culture",m);b[m]?f.call(this):(c=e[m],c||(c=e[m]=[],l(m)),c.push(this))})}});jQuery(function(){a("input.DatePicker").autodatepicker()})})();function ClusterIcon(a,c){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.cluster_=a;this.className_=a.getMarkerClusterer().getClusterClass();this.styles_=c;this.sums_=this.div_=this.center_=null;this.visible_=!1;this.setMap(a.getMap())}
ClusterIcon.prototype.onAdd=function(){var a=this,c,b;this.div_=document.createElement("div");this.div_.className=this.className_;this.visible_&&this.show();this.getPanes().overlayMouseTarget.appendChild(this.div_);google.maps.event.addListener(this.getMap(),"bounds_changed",function(){b=c});google.maps.event.addDomListener(this.div_,"mousedown",function(){c=!0;b=!1});google.maps.event.addDomListener(this.div_,"click",function(e){c=!1;if(!b){var d,f,l=a.cluster_.getMarkerClusterer();google.maps.event.trigger(l,
"click",a.cluster_);google.maps.event.trigger(l,"clusterclick",a.cluster_);l.getZoomOnClick()&&(f=l.getMaxZoom(),d=a.cluster_.getBounds(),l.getMap().fitBounds(d),setTimeout(function(){l.getMap().fitBounds(d);null!==f&&l.getMap().getZoom()>f&&l.getMap().setZoom(f+1)},100));e.cancelBubble=!0;e.stopPropagation&&e.stopPropagation()}});google.maps.event.addDomListener(this.div_,"mouseover",function(){var b=a.cluster_.getMarkerClusterer();google.maps.event.trigger(b,"mouseover",a.cluster_)});google.maps.event.addDomListener(this.div_,
"mouseout",function(){var b=a.cluster_.getMarkerClusterer();google.maps.event.trigger(b,"mouseout",a.cluster_)})};ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)};ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px";this.div_.style.left=a.x+"px"}};
ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};
ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.innerHTML=this.cluster_.printable_?"<img src='"+this.url_+"'><div style='position: absolute; top: 0px; left: 0px; width: "+this.width_+"px;'>"+this.sums_.text+"</div>":this.sums_.text;this.div_.title="undefined"===typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title;this.div_.style.display=""}this.visible_=
!0};
ClusterIcon.prototype.useStyle=function(a){this.sums_=a;a=Math.max(0,a.index-1);a=Math.min(this.styles_.length-1,a);a=this.styles_[a];this.url_=a.url;this.height_=a.height;this.width_=a.width;this.anchor_=a.anchor;this.anchorIcon_=a.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)];this.textColor_=a.textColor||"black";this.textSize_=a.textSize||11;this.textDecoration_=a.textDecoration||"none";this.fontWeight_=a.fontWeight||"bold";this.fontStyle_=a.fontStyle||"normal";this.fontFamily_=a.fontFamily||
"Arial,sans-serif";this.backgroundPosition_=a.backgroundPosition||"0 0"};ClusterIcon.prototype.setCenter=function(a){this.center_=a};
ClusterIcon.prototype.createCss=function(a){var c=[];this.cluster_.printable_||(c.push("background-image:url("+this.url_+");"),c.push("background-position:"+this.backgroundPosition_+";"));"object"===typeof this.anchor_?("number"===typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?c.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):c.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"===typeof this.anchor_[1]&&0<this.anchor_[1]&&
this.anchor_[1]<this.width_?c.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):c.push("width:"+this.width_+"px; text-align:center;")):c.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");c.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+this.textColor_+"; position:absolute; font-size:"+this.textSize_+"px; font-family:"+this.fontFamily_+"; font-weight:"+this.fontWeight_+"; font-style:"+this.fontStyle_+
"; text-decoration:"+this.textDecoration_+";");return c.join("")};ClusterIcon.prototype.getPosFromLatLng_=function(a){a=this.getProjection().fromLatLngToDivPixel(a);a.x-=this.anchorIcon_[1];a.y-=this.anchorIcon_[0];return a};
function Cluster(a){this.markerClusterer_=a;this.map_=a.getMap();this.gridSize_=a.getGridSize();this.minClusterSize_=a.getMinimumClusterSize();this.averageCenter_=a.getAverageCenter();this.printable_=a.getPrintable();this.markers_=[];this.bounds_=this.center_=null;this.clusterIcon_=new ClusterIcon(this,a.getStyles())}Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getIcon=function(){return this.clusterIcon_};Cluster.prototype.getMarkers=function(){return this.markers_};
Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){var a,c=new google.maps.LatLngBounds(this.center_,this.center_),b=this.getMarkers();for(a=0;a<b.length;a++)c.extend(b[a].getPosition());return c};Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null);this.markers_=[];delete this.markers_};
Cluster.prototype.addMarker=function(a){var c,b;if(this.isMarkerAlreadyAdded_(a))return!1;this.center_?this.averageCenter_&&(b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b,b=(this.center_.lng()*(b-1)+a.getPosition().lng())/b,this.center_=new google.maps.LatLng(c,b),this.calculateBounds_()):(this.center_=a.getPosition(),this.calculateBounds_());a.isAdded=!0;this.markers_.push(a);c=this.markers_.length;b=this.markerClusterer_.getMaxZoom();if(null!==b&&this.map_.getZoom()>
b)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c<this.minClusterSize_)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c===this.minClusterSize_)for(a=0;a<c;a++)this.markers_[a].setMap(null);else a.setMap(null);this.updateIcon_();return!0};Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())};Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)};
Cluster.prototype.updateIcon_=function(){var a=this.markers_.length,c=this.markerClusterer_.getMaxZoom();null!==c&&this.map_.getZoom()>c?this.clusterIcon_.hide():a<this.minClusterSize_?this.clusterIcon_.hide():(a=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,a),this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(a),this.clusterIcon_.show())};
Cluster.prototype.isMarkerAlreadyAdded_=function(a){var c;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(a);for(c=0;c<this.markers_.length;c++)if(a===this.markers_[c])return!0;return!1};
function MarkerClusterer(a,c,b){this.extend(MarkerClusterer,google.maps.OverlayView);c=c||[];b=b||{};this.markers_=[];this.clusters_=[];this.listeners_=[];this.activeMap_=null;this.ready_=!1;this.gridSize_=b.gridSize||60;this.minClusterSize_=b.minimumClusterSize||2;this.maxZoom_=b.maxZoom||null;this.styles_=b.styles||[];this.title_=b.title||"";this.zoomOnClick_=!0;void 0!==b.zoomOnClick&&(this.zoomOnClick_=b.zoomOnClick);this.averageCenter_=!1;void 0!==b.averageCenter&&(this.averageCenter_=b.averageCenter);
this.ignoreHidden_=!1;void 0!==b.ignoreHidden&&(this.ignoreHidden_=b.ignoreHidden);this.printable_=!1;void 0!==b.printable&&(this.printable_=b.printable);this.imagePath_=b.imagePath||MarkerClusterer.IMAGE_PATH;this.imageExtension_=b.imageExtension||MarkerClusterer.IMAGE_EXTENSION;this.imageSizes_=b.imageSizes||MarkerClusterer.IMAGE_SIZES;this.calculator_=b.calculator||MarkerClusterer.CALCULATOR;this.batchSize_=b.batchSize||MarkerClusterer.BATCH_SIZE;this.batchSizeIE_=b.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE;
this.clusterClass_=b.clusterClass||"cluster";-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_);this.setupStyles_();this.addMarkers(c,!0);this.setMap(a)}
MarkerClusterer.prototype.onAdd=function(){var a=this;this.activeMap_=this.getMap();this.ready_=!0;this.repaint();this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){a.resetViewport_(!1);this.getZoom()!==(this.get("minZoom")||0)&&this.getZoom()!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){a.redraw_()})]};
MarkerClusterer.prototype.onRemove=function(){var a;for(a=0;a<this.markers_.length;a++)this.markers_[a].setMap(this.activeMap_);for(a=0;a<this.clusters_.length;a++)this.clusters_[a].remove();this.clusters_=[];for(a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a]);this.listeners_=[];this.activeMap_=null;this.ready_=!1};MarkerClusterer.prototype.draw=function(){};
MarkerClusterer.prototype.setupStyles_=function(){var a,c;if(!(0<this.styles_.length))for(a=0;a<this.imageSizes_.length;a++)c=this.imageSizes_[a],this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:c,width:c})};MarkerClusterer.prototype.fitMapToMarkers=function(){var a,c=this.getMarkers(),b=new google.maps.LatLngBounds;for(a=0;a<c.length;a++)b.extend(c[a].getPosition());this.getMap().fitBounds(b)};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};
MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a};MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinimumClusterSize=function(a){this.minClusterSize_=a};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a};MarkerClusterer.prototype.getStyles=function(){return this.styles_};
MarkerClusterer.prototype.setStyles=function(a){this.styles_=a};MarkerClusterer.prototype.getTitle=function(){return this.title_};MarkerClusterer.prototype.setTitle=function(a){this.title_=a};MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.setZoomOnClick=function(a){this.zoomOnClick_=a};MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_};
MarkerClusterer.prototype.setAverageCenter=function(a){this.averageCenter_=a};MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_};MarkerClusterer.prototype.setIgnoreHidden=function(a){this.ignoreHidden_=a};MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_};MarkerClusterer.prototype.setImageExtension=function(a){this.imageExtension_=a};MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_};
MarkerClusterer.prototype.setImagePath=function(a){this.imagePath_=a};MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_};MarkerClusterer.prototype.setImageSizes=function(a){this.imageSizes_=a};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a};MarkerClusterer.prototype.getPrintable=function(){return this.printable_};
MarkerClusterer.prototype.setPrintable=function(a){this.printable_=a};MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_};MarkerClusterer.prototype.setBatchSizeIE=function(a){this.batchSizeIE_=a};MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_};MarkerClusterer.prototype.setClusterClass=function(a){this.clusterClass_=a};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};
MarkerClusterer.prototype.getClusters=function(){return this.clusters_};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.addMarker=function(a,c){this.pushMarkerTo_(a);c||this.redraw_()};MarkerClusterer.prototype.addMarkers=function(a,c){var b;for(b=0;b<a.length;b++)this.pushMarkerTo_(a[b]);c||this.redraw_()};
MarkerClusterer.prototype.pushMarkerTo_=function(a){if(a.getDraggable()){var c=this;google.maps.event.addListener(a,"dragend",function(){c.ready_&&(this.isAdded=!1,c.repaint())})}a.isAdded=!1;this.markers_.push(a)};MarkerClusterer.prototype.removeMarker=function(a,c){var b=this.removeMarker_(a);!c&&b&&this.repaint();return b};MarkerClusterer.prototype.removeMarkers=function(a,c){var b,e,d=!1;for(b=0;b<a.length;b++)e=this.removeMarker_(a[b]),d=d||e;!c&&d&&this.repaint();return d};
MarkerClusterer.prototype.removeMarker_=function(a){var c,b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(c=0;c<this.markers_.length;c++)if(a===this.markers_[c]){b=c;break}if(-1===b)return!1;a.setMap(null);this.markers_.splice(b,1);return!0};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0);this.markers_=[]};
MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_=[];this.resetViewport_(!1);this.redraw_();setTimeout(function(){var c;for(c=0;c<a.length;c++)a[c].remove()},0)};
MarkerClusterer.prototype.getExtendedBounds=function(a){var c=this.getProjection(),b=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),e=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),b=c.fromLatLngToDivPixel(b);b.x+=this.gridSize_;b.y-=this.gridSize_;e=c.fromLatLngToDivPixel(e);e.x-=this.gridSize_;e.y+=this.gridSize_;b=c.fromDivPixelToLatLng(b);c=c.fromDivPixelToLatLng(e);a.extend(b);a.extend(c);return a};MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)};
MarkerClusterer.prototype.resetViewport_=function(a){var c,b;for(c=0;c<this.clusters_.length;c++)this.clusters_[c].remove();this.clusters_=[];for(c=0;c<this.markers_.length;c++)b=this.markers_[c],b.isAdded=!1,a&&b.setMap(null)};MarkerClusterer.prototype.pi_over_180=Math.PI/180;MarkerClusterer.prototype.pi_over_360=Math.PI/360;MarkerClusterer.prototype.distanceBetweenPoints_=function(a,c){var b=a.lat(),e=c.lat(),d=(c.lng()-a.lng())*Math.cos((b+e)/2),b=e-b;return 6371*Math.sqrt(d*d+b*b)};
MarkerClusterer.prototype.isMarkerInBounds_=function(a,c){return c.contains(a.getPosition())};MarkerClusterer.prototype.addToClosestCluster_=function(a){var c,b,e,d=4E4,f=null;for(c=0;c<this.clusters_.length;c++)if(e=this.clusters_[c],b=e.getCenter())b=this.distanceBetweenPoints_(b,a.getPosition()),b<d&&(d=b,f=e);f&&f.isMarkerInClusterBounds(a)?f.addMarker(a):(e=new Cluster(this),e.addMarker(a),this.clusters_.push(e))};
MarkerClusterer.prototype.createClusters_=function(a){var c,b,e=this;if(this.ready_){0===a&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!==typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic));b=3<this.getMap().getZoom()?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,
178.00048865625));b=this.getExtendedBounds(b);for(var d=Math.min(a+this.batchSize_,this.markers_.length);a<d;a++)c=this.markers_[a],!c.isAdded&&this.isMarkerInBounds_(c,b)&&(!this.ignoreHidden_||this.ignoreHidden_&&c.getVisible())&&this.addToClosestCluster_(c);d<this.markers_.length?this.timerRefStatic=setTimeout(function(){e.createClusters_(d)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}};
MarkerClusterer.prototype.extend=function(a,c){return function(a){for(var c in a.prototype)this.prototype[c]=a.prototype[c];return this}.apply(a,[c])};MarkerClusterer.CALCULATOR=function(a,c){for(var b=0,e=a.length.toString(),d=e;0!==d;)d=parseInt(d/10,10),b++;b=Math.min(b,c);return{text:e,index:b,title:""}};MarkerClusterer.BATCH_SIZE=2E3;MarkerClusterer.BATCH_SIZE_IE=500;MarkerClusterer.IMAGE_PATH="//google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m";
MarkerClusterer.IMAGE_EXTENSION="png";MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90];
(function(a,c){var b,e,d,f,l,g,m,s,z,B,C,t,u,A,r,p,M,N,Q,O,G,L,P,J;b=function(a){return new b.prototype.init(a)};"undefined"!==typeof require&&"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=b:a.Globalize=b;b.cultures={};b.prototype={constructor:b,init:function(a){this.cultures=b.cultures;this.cultureSelector=a;return this}};b.prototype.init.prototype=b.prototype;b.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],
decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",
S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};b.cultures["default"].calendar=b.cultures["default"].calendars.standard;b.cultures.en=b.cultures["default"];b.cultureSelector="en";e=/^0x[a-f0-9]+$/i;d=/^[+\-]?infinity$/i;f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;l=/^\s+|\s+$/g;g=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,q=a.length;c<q;c++)if(a[c]===b)return c;return-1};m=function(a,b){return a.substr(a.length-b.length)===b};s=function(){var a,b,v,q,d,e=arguments[0]||{},f=1,h=arguments.length,
E=!1;"boolean"===typeof e&&(E=e,e=arguments[1]||{},f=2);for("object"===typeof e||B(e)||(e={});f<h;f++)if(null!=(a=arguments[f]))for(b in a)v=e[b],q=a[b],e!==q&&(E&&q&&(C(q)||(d=z(q)))?(d?(d=!1,v=v&&z(v)?v:[]):v=v&&C(v)?v:{},e[b]=s(E,v,q)):q!==c&&(e[b]=q));return e};z=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};B=function(a){return"[object Function]"===Object.prototype.toString.call(a)};C=function(a){return"[object Object]"===Object.prototype.toString.call(a)};
t=function(a,b){return 0===a.indexOf(b)};u=function(a){return(a+"").replace(l,"")};A=function(a){return isNaN(a)?NaN:Math[0>a?"ceil":"floor"](a)};r=function(a,b,c){var q;for(q=a.length;q<b;q+=1)a=c?"0"+a:a+"0";return a};p=function(a,b){for(var c=0,q=!1,d=0,e=a.length;d<e;d++){var f=a.charAt(d);switch(f){case "'":q?b.push("'"):c++;q=!1;break;case "\\":q&&b.push("\\");q=!q;break;default:b.push(f),q=!1}}return c};M=function(a,b){b=b||"F";var c;c=a.patterns;var d=b.length;if(1===d){c=c[b];if(!c)throw"Invalid date format string '"+
b+"'.";b=c}else 2===d&&"%"===b.charAt(0)&&(b=b.charAt(1));return b};N=function(a,b,c){function d(a,b){var c;c=a+"";return 1<b&&c.length<b?(c=g[b-2]+c,c.substr(c.length-b,b)):c}function e(){if(m||l)return m;m=t.test(b);l=!0;return m}function f(a,b){if(K)return K[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b;}}var k=c.calendar,h=k.convert;if(!b||!b.length||"i"===b){if(c&&c.name.length)if(h)c=N(a,k.patterns.F,c);else{c=
new Date(a.getTime());var E=G(a,k.eras);c.setFullYear(L(a,k,E));c=c.toLocaleString()}else c=a.toString();return c}var E=k.eras,S="s"===b;b=M(k,b);c=[];var n,g=["0","00","000"],m,l,t=/([^d]|^)(d|dd)([^d]|$)/g,u=0,T=O(),K;for(!S&&h&&(K=h.fromGregorian(a));;){n=T.lastIndex;h=T.exec(b);n=b.slice(n,h?h.index:b.length);u+=p(n,c);if(!h)break;if(u%2)c.push(h[0]);else switch(n=h[0],h=n.length,n){case "ddd":case "dddd":c.push((3===h?k.days.namesAbbr:k.days.names)[a.getDay()]);break;case "d":case "dd":m=!0;
c.push(d(f(a,2),h));break;case "MMM":case "MMMM":n=f(a,1);c.push(k.monthsGenitive&&e()?k.monthsGenitive[3===h?"namesAbbr":"names"][n]:k.months[3===h?"namesAbbr":"names"][n]);break;case "M":case "MM":c.push(d(f(a,1)+1,h));break;case "y":case "yy":case "yyyy":n=K?K[0]:L(a,k,G(a,E),S);4>h&&(n%=100);c.push(d(n,h));break;case "h":case "hh":n=a.getHours()%12;0===n&&(n=12);c.push(d(n,h));break;case "H":case "HH":c.push(d(a.getHours(),h));break;case "m":case "mm":c.push(d(a.getMinutes(),h));break;case "s":case "ss":c.push(d(a.getSeconds(),
h));break;case "t":case "tt":n=12>a.getHours()?k.AM?k.AM[0]:" ":k.PM?k.PM[0]:" ";c.push(1===h?n.charAt(0):n);break;case "f":case "ff":case "fff":c.push(d(a.getMilliseconds(),3).substr(0,h));break;case "z":case "zz":n=a.getTimezoneOffset()/60;c.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),h));break;case "zzz":n=a.getTimezoneOffset()/60;c.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":k.eras&&c.push(k.eras[G(a,E)].name);break;
case "/":c.push(k["/"]);break;default:throw"Invalid date format pattern '"+n+"'.";}}return c.join("")};(function(){var a;a=function(a,b,c){var d=c.groupSizes,y=d[0],e=1,h=Math.pow(10,b),h=Math.round(a*h)/h;isFinite(h)||(h=a);a=h+"";var h="",h=a.split(/e/i),f=1<h.length?parseInt(h[1],10):0;a=h[0];h=a.split(".");a=h[0];h=1<h.length?h[1]:"";0<f?(h=r(h,f,!1),a+=h.slice(0,f),h=h.substr(f)):0>f&&(f=-f,a=r(a,f+1,!0),h=a.slice(-f,a.length)+h,a=a.slice(0,-f));h=0<b?c["."]+(h.length>b?h.slice(0,b):r(h,b)):
"";b=a.length-1;c=c[","];for(f="";0<=b;){if(0===y||y>b)return a.slice(0,b+1)+(f.length?c+f+h:h);f=a.slice(b-y+1,b+1)+(f.length?c+f:"");b-=y;e<d.length&&(y=d[e],e++)}return a.slice(0,b+1)+c+f+h};Q=function(b,c,d){if(!isFinite(b))return Infinity===b?d.numberFormat.positiveInfinity:-Infinity===b?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||"i"===c)return d.name.length?b.toLocaleString():b.toString();c=c||"D";d=d.numberFormat;var e=Math.abs(b),f=-1;1<c.length&&(f=parseInt(c.slice(1),10));
var k=c.charAt(0).toUpperCase(),h;switch(k){case "D":c="n";e=A(e);-1!==f&&(e=r(""+e,f,!0));0>b&&(e="-"+e);break;case "N":h=d;case "C":h=h||d.currency;case "P":h=h||d.percent;c=0>b?h.pattern[0]:h.pattern[1]||"n";-1===f&&(f=h.decimals);e=a(e*("P"===k?100:1),f,h);break;default:throw"Bad number format specifier: "+k;}b=/n|\$|-|%/g;for(h="";;){f=b.lastIndex;k=b.exec(c);h+=c.slice(f,k?k.index:c.length);if(!k)break;switch(k[0]){case "n":h+=e;break;case "$":h+=d.currency.symbol;break;case "-":/[1-9]/.test(e)&&
(h+=d["-"]);break;case "%":h+=d.percent.symbol}}return h}})();O=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};G=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,f=b.length;e<f;e++)if(c=b[e].start,null===c||d>=c)return e;return 0};L=function(a,b,c,d){a=a.getFullYear();!d&&b.eras&&(a-=b.eras[c].offset);return a};(function(){var a,b,c,d,e,f,k;a=function(a,b){if(100>b){var c=new Date,d=G(c),c=L(c,a,d),d=a.twoDigitYearMax,d="string"===
typeof d?(new Date).getFullYear()%100+parseInt(d,10):d;b+=c-c%100;b>d&&(b-=100)}return b};b=function(a,b,c){var d=a.days,e=a._upperDays;e||(a._upperDays=e=[k(d.names),k(d.namesAbbr),k(d.namesShort)]);b=f(b);c?(a=g(e[1],b),-1===a&&(a=g(e[2],b))):a=g(e[0],b);return a};c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,y=a._upperMonths,q=a._upperMonthsGen;y||(a._upperMonths=y=[k(d.names),k(d.namesAbbr)],a._upperMonthsGen=q=[k(e.names),k(e.namesAbbr)]);b=f(b);a=g(c?y[1]:y[0],b);0>a&&(a=g(c?
q[1]:q[0],b));return a};d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var d=M(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),e=["^"],f=[],y=0,q=0,R=O(),v;null!==(v=R.exec(d));){var k=d.slice(y,v.index),y=R.lastIndex,q=q+p(k,e);if(q%2)e.push(v[0]);else{var k=v[0],g=k.length;switch(k){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":k="(\\D+)";break;case "tt":case "t":k="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":k=
"(\\d{"+g+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":k="(\\d\\d?)";break;case "zzz":k="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":k="([+-]?\\d\\d?)";break;case "/":k="(\\/)";break;default:throw"Invalid date format pattern '"+k+"'.";}k&&e.push(k);f.push(v[0])}}p(d.slice(y),e);e.push("$");d={regExp:e.join("").replace(/\s+/g,"\\s+"),groups:f};return c[b]=d};e=function(a,b,c){return a<b||a>c};f=function(a){return a.split("\u00a0").join(" ").toUpperCase()};
k=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=f(a[c]);return b};P=function(f,k,g){f=u(f);g=g.calendar;k=d(g,k);var n=(new RegExp(k.regExp)).exec(f);if(null===n)return null;var m=k.groups,l=k=f=null,H=null,p=null,s=0,r,C=0,B=0,z=0;r=null;for(var A=!1,F=0,G=m.length;F<G;F++){var w=n[F+1];if(w){var x=m[F],I=x.length,D=parseInt(w,10);switch(x){case "dd":case "d":H=D;if(e(H,1,31))return null;break;case "MMM":case "MMMM":l=c(g,w,3===I);if(e(l,0,11))return null;break;case "M":case "MM":l=D-1;if(e(l,
0,11))return null;break;case "y":case "yy":case "yyyy":k=4>I?a(g,D):D;if(e(k,0,9999))return null;break;case "h":case "hh":s=D;12===s&&(s=0);if(e(s,0,11))return null;break;case "H":case "HH":s=D;if(e(s,0,23))return null;break;case "m":case "mm":C=D;if(e(C,0,59))return null;break;case "s":case "ss":B=D;if(e(B,0,59))return null;break;case "tt":case "t":A=g.PM&&(w===g.PM[0]||w===g.PM[1]||w===g.PM[2]);if(!A&&(!g.AM||w!==g.AM[0]&&w!==g.AM[1]&&w!==g.AM[2]))return null;break;case "f":case "ff":case "fff":z=
D*Math.pow(10,3-I);if(e(z,0,999))return null;break;case "ddd":case "dddd":p=b(g,w,3===I);if(e(p,0,6))return null;break;case "zzz":x=w.split(/:/);if(2!==x.length)return null;r=parseInt(x[0],10);if(e(r,-12,13))return null;x=parseInt(x[1],10);if(e(x,0,59))return null;r=60*r+(t(w,"-")?-x:x);break;case "z":case "zz":r=D;if(e(r,-12,13))return null;r*=60;break;case "g":case "gg":if(!w||!g.eras)return null;w=u(w.toLowerCase());x=0;for(I=g.eras.length;x<I;x++)if(w===g.eras[x].name.toLowerCase()){f=x;break}if(null===
f)return null}}}n=new Date;m=(F=g.convert)?F.fromGregorian(n)[0]:n.getFullYear();null===k?k=m:g.eras&&(k+=g.eras[f||0].offset);null===l&&(l=0);null===H&&(H=1);if(F){if(n=F.toGregorian(k,l,H),null===n)return null}else if(n.setFullYear(k,l,H),n.getDate()!==H||null!==p&&n.getDay()!==p)return null;A&&12>s&&(s+=12);n.setHours(s,C,B,z);null!==r&&(g=n.getMinutes()-(r+n.getTimezoneOffset()),n.setHours(n.getHours()+parseInt(g/60,10),g%60));return n}})();J=function(a,b,c){var d=b["-"];b=b["+"];var e;switch(c){case "n -":d=
" "+d,b=" "+b;case "n-":m(a,d)?e=["-",a.substr(0,a.length-d.length)]:m(a,b)&&(e=["+",a.substr(0,a.length-b.length)]);break;case "- n":d+=" ",b+=" ";case "-n":t(a,d)?e=["-",a.substr(d.length)]:t(a,b)&&(e=["+",a.substr(b.length)]);break;case "(n)":t(a,"(")&&m(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]};b.prototype.findClosestCulture=function(a){return b.findClosestCulture.call(this,a)};b.prototype.format=function(a,c,d){return b.format.call(this,a,c,d)};b.prototype.localize=function(a,
c){return b.localize.call(this,a,c)};b.prototype.parseInt=function(a,c,d){return b.parseInt.call(this,a,c,d)};b.prototype.parseFloat=function(a,c,d){return b.parseFloat.call(this,a,c,d)};b.prototype.culture=function(a){return b.culture.call(this,a)};b.addCultureInfo=function(a,b,c){var d={},e=!1;"string"!==typeof a?(c=a,a=this.culture().name,d=this.cultures[a]):"string"!==typeof b?(c=b,e=null==this.cultures[a],d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]);this.cultures[a]=
s(!0,{},d,c);e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)};b.findClosestCulture=function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];"string"===typeof a&&(a=a.split(","));if(z(a)){var c,d=this.cultures,e=a,f,k=e.length,h=[];for(f=0;f<k;f++)a=u(e[f]),a=a.split(";"),c=u(a[0]),1===a.length?a=1:(a=u(a[1]),0===a.indexOf("q=")?(a=a.substr(2),a=parseFloat(a),a=isNaN(a)?0:a):a=1),h.push({lang:c,pri:a});h.sort(function(a,b){return a.pri<
b.pri?1:a.pri>b.pri?-1:0});for(f=0;f<k;f++)if(c=h[f].lang,b=d[c])return b;for(f=0;f<k;f++){c=h[f].lang;do{e=c.lastIndexOf("-");if(-1===e)break;c=c.substr(0,e);if(b=d[c])return b}while(1)}for(f=0;f<k;f++){c=h[f].lang;for(var g in d)if(e=d[g],e.language==c)return e}}else if("object"===typeof a)return a;return b||null};b.format=function(a,b,c){c=this.findClosestCulture(c);a instanceof Date?a=N(a,b,c):"number"===typeof a&&(a=Q(a,b,c));return a};b.localize=function(a,b){return this.findClosestCulture(b).messages[a]||
this.cultures["default"].messages[a]};b.parseDate=function(a,b,c){c=this.findClosestCulture(c);var d,e;if(b){if("string"===typeof b&&(b=[b]),b.length){e=0;for(var f=b.length;e<f;e++){var k=b[e];if(k&&(d=P(a,k,c)))break}}}else for(e in b=c.calendar.patterns,b)if(d=P(a,b[e],c))break;return d||null};b.parseInt=function(a,c,d){return A(b.parseFloat(a,c,d))};b.parseFloat=function(a,b,c){"number"!==typeof b&&(c=b,b=10);var g=this.findClosestCulture(c);c=NaN;var l=g.numberFormat;-1<a.indexOf(g.numberFormat.currency.symbol)&&
(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."]));a=u(a);if(d.test(a))c=parseFloat(a);else if(!b&&e.test(a))c=parseInt(a,16);else{g=J(a,l,l.pattern[0]);b=g[0];g=g[1];""===b&&"(n)"!==l.pattern[0]&&(g=J(a,l,"(n)"),b=g[0],g=g[1]);""===b&&"-n"!==l.pattern[0]&&(g=J(a,l,"-n"),b=g[0],g=g[1]);b=b||"+";var m;a=g.indexOf("e");0>a&&(a=g.indexOf("E"));0>a?(m=g,a=null):(m=g.substr(0,a),a=g.substr(a+1));var k=l["."],h=m.indexOf(k);0>h?(g=m,m=null):(g=
m.substr(0,h),m=m.substr(h+k.length));k=l[","];g=g.split(k).join("");h=k.replace(/\u00A0/g," ");k!==h&&(g=g.split(h).join(""));b+=g;null!==m&&(b+="."+m);null!==a&&(l=J(a,l,"-n"),b+="e"+(l[0]||"+")+l[1]);f.test(b)&&(c=parseFloat(b))}return c};b.culture=function(a){"undefined"!==typeof a&&(this.cultureSelector=a);return this.findClosestCulture(a)||this.cultures["default"]}})(this);
(function(){var a=null,c=null,b=null,e=function(b){$.each(b,function(b,c){var e=c.getMarkers(),f;$.each(e,function(a,c){f=c.num;document.getElementById("map_pin_number_"+f).innerHTML=b+1});c.getIcon().useStyle({text:b+1,index:a[1<e.length?0:d[f]].order_index+1})})},d={};window.start_map=function(){var f=[59.888937,-101.601562],f={center:new google.maps.LatLng(f[0],f[1]),zoom:2,mapTypeId:google.maps.MapTypeId.ROADMAP};c=new google.maps.Map(document.getElementById("map_canvas"),f);for(var f=[],l=0;l<
map_pins_order.length;l++){var g=map_pins_order[l],m=a[g];f.push({url:"images/mapping/"+m.image,height:0!=g?25:30,width:0!=g?25:30,textColor:"#"+m.textColour})}b=new MarkerClusterer(c,[],{gridSize:21,maxZoom:99,minimumClusterSize:1,styles:f});google.maps.event.addListener(b,"clusteringend",function(){e(b.getClusters())});var s=new google.maps.LatLngBounds,z=[],f=$("#page_content tr.MapRow").each(function(a){var b=$(this).data("mapinfo"),c=Globalize.parseFloat(b.latitude),e=Globalize.parseFloat(b.longitude);
a=b.num;b=b.mappin;c=new google.maps.LatLng(c,e);e=new google.maps.Marker({position:c,clickable:!1});e.num=a;z.push(e);d[a]=parseInt(b,10);s.extend(c)});b.addMarkers(z);f.length?c.fitBounds(s):(c.setCenter(new google.maps.LatLng(59.888937,-101.601562)),c.setZoom(2))};window.init=function(b){var c=a=b.map_pins,d=[],e=0,s;for(s in c)c[s].order_index=e,d.push(s),e++;map_pins_order=d;$.getScript("//maps.googleapis.com/maps/api/js?v=3&"+b.key_arg+"&sensor=false&callback=start_map&language="+b.culture);
b=prompt("Please enter a Title for the map","");""!=b&&null!=b&&$("#PrintMapPageTitle").text(b).show()}})();
