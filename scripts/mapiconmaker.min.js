/*
 (c) 2008 Pamela Fox
 @fileoverview This gives you static functions for creating dynamically
     sized and colored marker icons using the Charts API marker output.
*/
var MapIconMaker={createMarkerIcon:function(a){var b=a.width||32,c=a.height||32,d=a.primaryColor||"#ff0000",e=a.strokeColor||"#000000",g=a.cornerColor||"#ffffff",f="//chart.apis.google.com/chart?cht=mm&chs="+b+"x"+c+"&chco="+g.replace("#","")+","+d.replace("#","")+","+e.replace("#","")+"&ext=.png";a=new GIcon(G_DEFAULT_ICON);a.image=f;a.iconSize=new GSize(b,c);a.shadowSize=new GSize(Math.floor(1.6*b),c);a.iconAnchor=new GPoint(b/2,c);a.infoWindowAnchor=new GPoint(b/2,Math.floor(c/12));a.printImage=
f+"&chof=gif";a.mozPrintImage=f+"&chf=bg,s,ECECD8&chof=gif";f="//chart.apis.google.com/chart?cht=mm&chs="+b+"x"+c+"&chco="+g.replace("#","")+","+d.replace("#","")+","+e.replace("#","");a.transparent=f+"&chf=a,s,ffffff11&ext=.png";a.imageMap=[b/2,c,.4375*b,.625*c,.3125*b,.4375*c,.21875*b,.3125*c,.3125*b,.125*c,.5*b,0,.6875*b,.125*c,.78125*b,.3125*c,.6875*b,.4375*c,.5625*b,.625*c];for(b=0;b<a.imageMap.length;b++)a.imageMap[b]=parseInt(a.imageMap[b]);return a},createFlatIcon:function(a){var b=a.width||
32,c=a.height||32,d=a.primaryColor||"#ff0000",e=a.shadowColor||"#000000",g=MapIconMaker.escapeUserText_(a.label)||"",f=a.labelColor||"#000000",h=a.labelSize||0;a="circle"===(a.shape||"circle")?"it":"itr";e="//chart.apis.google.com/chart?cht="+a+"&chs="+b+"x"+c+"&chco="+d.replace("#","")+","+e.replace("#","")+"ff,ffffff01&chl="+g+"&chx="+f.replace("#","")+","+h;d=new GIcon(G_DEFAULT_ICON);d.image=e+"&chf=bg,s,00000000&ext=.png";d.iconSize=new GSize(b,c);d.shadowSize=new GSize(0,0);d.iconAnchor=new GPoint(b/
2,c/2);d.infoWindowAnchor=new GPoint(b/2,c/2);d.printImage=e+"&chof=gif";d.mozPrintImage=e+"&chf=bg,s,ECECD8&chof=gif";d.transparent=e+"&chf=a,s,ffffff01&ext=.png";d.imageMap=[];if("itr"===a)d.imageMap=[0,0,b,0,b,c,0,c];else for(b=Math.min(b,c)/2,c=0;9>c;c++)e=Math.PI/180*c*45,a=b+b*Math.cos(e),e=b+b*Math.sin(e),d.imageMap.push(parseInt(a),parseInt(e));return d},createLabeledMarkerIcon:function(a){var b=a.primaryColor||"#DA7187",c=a.strokeColor||"#000000",d=a.starPrimaryColor||"#FFFF00",e=a.starStrokeColor||
"#0000FF",g=MapIconMaker.escapeUserText_(a.label)||"",f=a.labelColor||"#000000";a=a.addStar||!1;b="//chart.apis.google.com/chart?cht=d&chdp=mapsapi&chl="+(a?"pin_star":"pin")+"'i\\'["+g+"'-2'f\\hv'a\\]h\\]o\\"+b.replace("#","")+"'fC\\"+f.replace("#","")+"'tC\\"+c.replace("#","")+"'eC\\";a&&(b+=d.replace("#","")+"'1C\\"+e.replace("#","")+"'0C\\");b+="Lauto'f\\";d=new GIcon(G_DEFAULT_ICON);d.image=b+"&ext=.png";d.iconSize=a?new GSize(23,39):new GSize(21,34);d.printImage=b+"&ext=.gif";d.mozPrintImage=
b+"&ext=.gif";d.printShadow="";return d},escapeUserText_:function(a){if(void 0===a)return null;a=a.replace(/@/,"@@");a=a.replace(/\\/,"@\\");a=a.replace(/'/,"@'");a=a.replace(/\[/,"@[");a=a.replace(/\]/,"@]");return encodeURIComponent(a)}};
