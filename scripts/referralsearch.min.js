window.CIOC={};
(function(b,a){a.do_drop_down_navigation=function(){for(var c=b.getElementById("ActionList").options,f=0;f<c.length;f++)if(c[f].selected){var d=c[f].getAttribute("href");d&&("undefined"!=typeof c[f].attributes.newwindow?a.open(d):a.location.href=d);break}};jQuery(function(b){b("[data-toggle=dialog]").each(function(){var a=b(this),d=b(a.data("target")),e={autoOpen:!1,title:d.data("title"),modal:d.data("modal")};d.dialog(e);a.click(function(){d.dialog("isOpen")?d.dialog("close"):d.dialog("open")})})})})(document,window);
function CheckAll(b,a){b||(b="IDList");var c=a;a||(c=document.RecordList);for(var f=c.elements.length,d=0;d<f;d++){var e=c.elements[d];e.name===b&&(e.checked=!0)}}function ClearAll(b,a){b||(b="IDList");var c=a;a||(c=document.RecordList);for(var f=c.elements.length,d=0;d<f;d++){var e=c.elements[d];e.name===b&&(e.checked=!1)}}function add_class(b,a){b&&!(new RegExp("\\b"+a+"\\b")).test(b.className)&&(b.className&&(a=" "+a),b.className+=a)}
function remove_class(b,a){if(b){for(var c=b.className.split(" "),f=[],d=0;d<c.length;d++){var e=c[d];e!==a&&f.push(e)}b.className=f.join(" ")}}function hide(b){add_class(b,"NotVisible")}function show(b){remove_class(b,"NotVisible")}function openWin(b,a){window.open(b,a,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(b,a){window.open(b,a,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(b,a){window.open(b,a,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(b){var a={sm:openWin,lg:openWinL,xl:openWinXL};b(document).on("click","a.poplink",function(){var c=b(this).data("popargs");(a[c.size||"sm"]||openWin)(this.href,c.name||"popwin");return!1})});
(function(){var b=jQuery,a={},c=function(c){null!==c&&"undefined"!==typeof c?b("#myListCount").text(c):(c=b("#myListCount").text())&&(c=parseInt(c,10));c?a.myListLink.show():a.myListLink.hide()},f=function(c){b.each(c,function(c,a){b("#added_to_list_"+a).show();b("#add_to_list_"+a).hide()})},d=function(d){return function(e){e.fail?alert(e.errinfo):(e.ids?c(b.grep(e.ids,z[a.domain]).length):e.count?c(e.count):c(0),f([d]))}},e=function(c){c=b(c.currentTarget).data("id");b.ajax({success:d(c),dataType:"json",
error:function(){alert("Error")},data:{id:c},type:"POST",url:a.current_list_url})},g=function(c){return function(a){if(a.fail)alert(a.errinfo);else{a=!0;if(c){var d=b("#results_table #remove_from_list_"+c);d.length?d.parent().parent().remove():(a=!1,d=b("#results_container #remove_from_list_"+c),d.parents(".dlist-result").remove())}d=!1;if((d=a?1===b("#results_table tr").length:0===b("#results_container .dlist-result").length)||!c)b("#records_ui").hide(),b("#no_records_message").show()}}},k=function(c){c=
b(c.currentTarget).data("id");b.ajax({success:g(c),dataType:"json",error:function(){alert("Error")},data:{ID:c,RemoveItem:a.domain},type:"POST",url:a.current_list_url})},l=function(c){b.ajax({success:g(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:a.domain},type:"POST",url:a.current_list_url})},z={CIC:function(b){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(b)},VOL:function(b){return/^[1-9][0-9]*$/.test(b)}},C=function(d){if(d.fail)x();else if(d.inrequest){var e=b.grep(d.ids,
z[a.domain]);f(e);c(e.length);(d=d.previous_ids)&&b.each(d,function(c,a){b("#ct_added_to_previous_request_"+a).show()});b(".ListUI img").prop("src",function(b,c){return c.replace("list","referral")});b("#list_header_text").hide();b("#ct_header_text").show();a.current_list_url=a.ct_update_url;q()}else x()},x=function(){var d=function(){a.list_view_mode||f(a.already_added||[]);a.current_list_url=a.list_view_mode&&"ct"===a.list_view_mode?a.ct_update_url:a.list_update_url;c((a.already_added||[]).length);
q()};a.list_view_mode||a.has_session?d():b.ajax({dataType:"json",error:null,url:a.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(b){b.has_session&&d()}})},q=function(){b(".HideListUI").delegate(".add_to_list","click",e).delegate(".remove_from_list","click",k).removeClass("HideListUI");b("#remove_all_from_list").click(l);b.browser.msie&&"8.0">b.browser.msie&&b(".ListUI").removeClass("FixIE")};window.init_list_adder=function(c){a=c;a.myListLink=b("#myListLink").parent(":hidden").add("#myListLink");
c.in_request?b.ajax({success:C,dataType:"json",error:null,type:"POST",url:c.in_request}):x()}})();this.JSON||(this.JSON={});
(function(){function b(b){return 10>b?"0"+b:b}function a(b){d.lastIndex=0;return d.test(b)?'"'+b.replace(d,function(b){var c=k[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(b,d){var f,q,k,w,v=e,r,h=d[b];h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(b));"function"===typeof l&&(h=l.call(d,b,h));switch(typeof h){case "string":return a(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";e+=g;r=[];if("[object Array]"===Object.prototype.toString.apply(h)){w=h.length;for(f=0;f<w;f+=1)r[f]=c(f,h)||"null";k=0===r.length?"[]":e?"[\n"+e+r.join(",\n"+e)+"\n"+v+"]":"["+r.join(",")+"]";e=v;return k}if(l&&"object"===typeof l)for(w=l.length,f=0;f<w;f+=1)q=l[f],"string"===typeof q&&(k=c(q,h))&&r.push(a(q)+(e?": ":":")+k);else for(q in h)Object.hasOwnProperty.call(h,q)&&(k=c(q,h))&&r.push(a(q)+(e?": ":":")+k);k=0===r.length?"{}":e?"{\n"+e+r.join(",\n"+e)+"\n"+
v+"}":"{"+r.join(",")+"}";e=v;return k}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,g,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,a,d){var f;g=e="";if("number"===typeof d)for(f=0;f<d;f+=1)g+=" ";else"string"===typeof d&&(g=d);if((l=a)&&"function"!==typeof a&&("object"!==typeof a||"number"!==typeof a.length))throw Error("JSON.stringify");return c("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,c){function a(b,d){var f,e,k=b[d];if(k&&"object"===typeof k)for(f in k)Object.hasOwnProperty.call(k,f)&&(e=a(k,f),void 0!==e?k[f]=e:delete k[f]);return c.call(b,d,k)}var d;b=String(b);f.lastIndex=0;f.test(b)&&(b=b.replace(f,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+b+")"),"function"===typeof c?a({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(b){var a={};jQuery(b).find("input,select,textarea").each(function(b){if(this.name)if(a[this.name]||(a[this.name]=[]),"select"===this.nodeName.toLowerCase()){var f=a[this.name];$(this).find("option").each(function(b){this.selected&&f.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&a[this.name].push(this.value||"")});return a};window.restore_form_values=function(b,a){var c=jQuery;c(b).find("input,select,textarea").each(function(b){if(this.name){var d=
a[this.name];"undefined"!=typeof d&&null!==d&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?c(this).find("option").each(function(b){this.selected=1<d.length?0<=c.inArray(this.value,d):0===d.length?!1:this.value===d[0]}):this.value=d.length?d[0]:"":this.checked=1<d.length?0<=c.inArray(this.value,d):0===d.length?!1:this.value===d[0])}})};window.init_cached_state=function(b){var a=jQuery;b=b||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];a(window).on("beforeunload",function(){var c={form_values:get_form_values(b)};a.each(onbeforeunload_fns,function(b,a){a(c)});document.getElementById("cache_form_values").value=JSON.stringify(c)});window.cache_register_onbeforeunload=function(b){onbeforeunload_fns.push(b)};window.cache_register_onbeforerestorevalues=function(b){onbeforerestorevalues_fns.push(b)};window.restore_cached_state=function(){var c=document.getElementById("cache_form_values");if(c&&c.value){var f=
JSON.parse(c.value);a.each(onbeforerestorevalues_fns,function(b,c){c(f)});restore_form_values(b,f.form_values)}}}})();
(function(){var b=jQuery,a={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},c={"en-CA":!0,"":!0},f={},d={"fr-CA":"fr","es-MX":"es"},e=function(){var c=b(this),d=c.data("culture"),f=a[d]||b.datepicker.regional[d].dateFormat,e={};c.hasClass("NoYear")&&(f=f.replace(/[\- .\/]*yy[\/]?/,""),e={beforeShow:function(b,
c){c.dpDiv.addClass("NoYearDatePicker")},onClose:function(b,c){c.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});e.dateFormat=f;c.datepicker(b.extend({},b.datepicker.regional[d],e)).prop("autocomplete","off")},g=function(a){b.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+b.ui.version+"/i18n/jquery.ui.datepicker-"+a+".min.js",function(){c[a]=!0;b.each(f[a],function(){e.call(this)});delete f[a]})};b.datepicker.regional["en-CA"]=b.extend({},b.datepicker.regional[""]);b.fn.extend({autodatepicker:function(){return this.each(function(){var a=
b(this),l;l=a.parents("[lang]").first().prop("lang")||"en-CA";l=d[l]||l;a.data("culture",l);c[l]?e.call(this):(a=f[l],a||(a=f[l]=[],g(l)),a.push(this))})}});jQuery(function(){b("input.DatePicker").autodatepicker()})})();
(function(b){b.extend({tablesorter:new function(){function c(b,c){a(b+","+((new Date).getTime()-c.getTime())+"ms")}function a(b){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(b):alert(b)}function d(c,d){if(c.config.debug)var y="";if(0!=c.tBodies.length){var D=c.tBodies[0].rows;if(D[0])for(var p=[],g=D[0].cells.length,m=0;m<g;m++){var n=!1;b.metadata&&b(d[m]).metadata()&&b(d[m]).metadata().sorter?n=e(b(d[m]).metadata().sorter):c.config.headers[m]&&c.config.headers[m].sorter&&
(n=e(c.config.headers[m].sorter));if(!n)a:{for(var n=c,s=D,t=-1,l=m,h=u.length,q=!1,r=!1,v=!0;""==r&&v;)t++,s[t]?(q=s[t].cells[l],r=b.trim(k(n.config,q)),n.config.debug&&a("Checking if value was empty on row:"+t)):v=!1;for(s=1;s<h;s++)if(u[s].is(r,n,q)){n=u[s];break a}n=u[0]}c.config.debug&&(y+="column:"+m+" parser:"+n.id+"\n");p.push(n)}c.config.debug&&a(y);return p}}function e(b){for(var c=u.length,a=0;a<c;a++)if(u[a].id.toLowerCase()==b.toLowerCase())return u[a];return!1}function g(a){if(a.config.debug)var d=
new Date;for(var f=a.tBodies[0]&&a.tBodies[0].rows.length||0,e=a.tBodies[0].rows[0]&&a.tBodies[0].rows[0].cells.length||0,p=a.config.parsers,g={row:[],normalized:[]},m=0;m<f;++m){var n=b(a.tBodies[0].rows[m]),s=[];if(n.hasClass(a.config.cssChildRow))g.row[g.row.length-1]=g.row[g.row.length-1].add(n);else{g.row.push(n);for(var t=0;t<e;++t)s.push(p[t].format(k(a.config,n[0].cells[t]),a,n[0].cells[t]));s.push(g.normalized.length);g.normalized.push(s)}}a.config.debug&&c("Building cache for "+f+" rows:",
d);return g}function k(c,a){var d="";if(!a)return"";c.supportsTextContent||(c.supportsTextContent=a.textContent||!1);return d="simple"==c.textExtraction?c.supportsTextContent?a.textContent:a.childNodes[0]&&a.childNodes[0].hasChildNodes()?a.childNodes[0].innerHTML:a.innerHTML:"function"==typeof c.textExtraction?c.textExtraction(a):b(a).text()}function l(a,d){if(a.config.debug)var f=new Date;for(var e=d.row,p=d.normalized,g=p.length,m=p[0].length-1,n=b(a.tBodies[0]),s=[],t=0;t<g;t++){var k=p[t][m];
s.push(e[k]);if(!a.config.appender)for(var l=e[k].length,h=0;h<l;h++)n[0].appendChild(e[k][h])}a.config.appender&&a.config.appender(a,s);s=null;a.config.debug&&c("Rebuilt table:",f);q(a);setTimeout(function(){b(a).trigger("sortEnd")},0)}function z(d){if(d.config.debug)var e=new Date;var y=C(d);$tableHeaders=b(d.config.selectorHeaders,d).each(function(c){this.column=y[this.parentNode.rowIndex+"-"+this.cellIndex];var a;a=d.config.sortInitialOrder;a="Number"!=typeof a?"desc"==a.toLowerCase()?1:0:1==
a?1:0;this.count=this.order=a;a=b.metadata&&!1===b(this).metadata().sorter?!0:!1;a||(a=d.config.headers[c]&&!1===d.config.headers[c].sorter?!0:!1);a&&(this.sortDisabled=!0);x(d,c)&&(this.order=this.lockedOrder=x(d,c));this.sortDisabled||(a=b(this).addClass(d.config.cssHeader),d.config.onRenderHeader&&d.config.onRenderHeader.apply(a));d.config.headerList[c]=this});d.config.debug&&(c("Built headers:",e),a($tableHeaders));return $tableHeaders}function C(b){var c=[],a={};b=b.getElementsByTagName("THEAD")[0].getElementsByTagName("TR");
for(var d=0;d<b.length;d++)for(var f=b[d].cells,e=0;e<f.length;e++){var m=f[e],n=m.parentNode.rowIndex,g=n+"-"+m.cellIndex,k=m.rowSpan||1,m=m.colSpan||1,l;"undefined"==typeof c[n]&&(c[n]=[]);for(var h=0;h<c[n].length+1;h++)if("undefined"==typeof c[n][h]){l=h;break}a[g]=l;for(h=n;h<n+k;h++){"undefined"==typeof c[h]&&(c[h]=[]);for(var g=c[h],q=l;q<l+m;q++)g[q]="x"}}return a}function x(b,c){return b.config.headers[c]&&b.config.headers[c].lockedOrder?b.config.headers[c].lockedOrder:!1}function q(b){for(var c=
b.config.widgets,a=c.length,d=0;d<a;d++)E(c[d]).format(b)}function E(b){for(var c=A.length,a=0;a<c;a++)if(A[a].id.toLowerCase()==b.toLowerCase())return A[a]}function w(b,c){for(var a=c.length,d=0;d<a;d++)if(c[d][0]==b)return!0;return!1}function v(c,a,d,f){a.removeClass(f[0]).removeClass(f[1]);var e=[];a.each(function(c){this.sortDisabled||(e[this.column]=b(this))});c=d.length;for(a=0;a<c;a++)e[d[a][0]].addClass(f[d[a][1]])}function r(c,a){if(c.config.widthFixed){var d=b("<colgroup>");b("tr:first td",
c.tBodies[0]).each(function(){d.append(b("<col>").css("width",b(this).width()))});b(c).prepend(d)}}function h(b,a,d){if(b.config.debug)var f=new Date;for(var e="var sortWrapper = function(a,b) {",g=a.length,m=0;m<g;m++)var n=a[m][0],h=a[m][1],n="text"==b.config.parsers[n].type?0==h?B("text","asc",n):B("text","desc",n):0==h?B("numeric","asc",n):B("numeric","desc",n),l="e"+m,e=e+("var "+l+" = "+n),e=e+("if("+l+") { return "+l+"; } "),e=e+"else { ";m=d.normalized[0].length-1;e+="return a["+m+"]-b["+
m+"];";for(m=0;m<g;m++)e+="}; ";e+="return 0; }; ";b.config.debug&&c("Evaling expression:"+e,new Date);eval(e);d.normalized.sort(sortWrapper);b.config.debug&&c("Sorting on "+a.toString()+" and dir "+h+" time:",f);return d}function B(b,c,a){var d="a["+a+"]";a="b["+a+"]";if("text"==b&&"asc"==c)return"("+d+" == "+a+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+d+" < "+a+") ? -1 : 1 )));";if("text"==b&&"desc"==c)return"("+d+" == "+a+" ? 0 : ("+d+
" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+d+") ? -1 : 1 )));";if("numeric"==b&&"asc"==c)return"("+d+" === null && "+a+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+d+" - "+a+"));";if("numeric"==b&&"desc"==c)return"("+d+" === null && "+a+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+d+"));"}var u=[],A=[];this.defaults=
{cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1};this.benchmark=c;this.construct=function(a){return this.each(function(){if(this.tHead&&
this.tBodies){var c,e,f,p;this.config={};p=b.extend(this.config,b.tablesorter.defaults,a);c=b(this);b.data(this,"tablesorter",p);e=z(this);this.config.parsers=d(this,e);f=g(this);var u=[p.cssDesc,p.cssAsc];r(this);e.click(function(a){var d=c[0].tBodies[0]&&c[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&0<d){c.trigger("sortStart");b(this);d=this.column;this.order=this.count++%2;this.lockedOrder&&(this.order=this.lockedOrder);if(a[p.sortMultiSortKey])if(w(d,p.sortList))for(a=0;a<p.sortList.length;a++){var g=
p.sortList[a],k=p.headerList[g[0]];g[0]==d&&(k.count=g[1],k.count++,g[1]=k.count%2)}else p.sortList.push([d,this.order]);else{p.sortList=[];if(null!=p.sortForce)for(g=p.sortForce,a=0;a<g.length;a++)g[a][0]!=d&&p.sortList.push(g[a]);p.sortList.push([d,this.order])}setTimeout(function(){v(c[0],e,p.sortList,u);l(c[0],h(c[0],p.sortList,f))},1);return!1}}).mousedown(function(){if(p.cancelSelection)return this.onselectstart=function(){return!1},!1});c.bind("update",function(){var a=this;setTimeout(function(){a.config.parsers=
d(a,e);f=g(a)},1)}).bind("updateCell",function(a,c){var b=this.config,d=[c.parentNode.rowIndex-1,c.cellIndex];f.normalized[d[0]][d[1]]=b.parsers[d[1]].format(k(b,c),c)}).bind("sorton",function(a,c){b(this).trigger("sortStart");p.sortList=c;for(var d=p.sortList,g=this.config,k=d.length,q=0;q<k;q++){var F=d[q],r=g.headerList[F[0]];r.count=F[1];r.count++}v(this,e,d,u);l(this,h(this,d,f))}).bind("appendCache",function(){l(this,f)}).bind("applyWidgetId",function(a,c){E(c).format(this)}).bind("applyWidgets",
function(){q(this)});b.metadata&&b(this).metadata()&&b(this).metadata().sortlist&&(p.sortList=b(this).metadata().sortlist);0<p.sortList.length&&c.trigger("sorton",[p.sortList]);q(this)}})};this.addParser=function(a){for(var c=u.length,b=!0,d=0;d<c;d++)u[d].id.toLowerCase()==a.id.toLowerCase()&&(b=!1);b&&u.push(a)};this.addWidget=function(a){A.push(a)};this.formatFloat=function(a){a=parseFloat(a);return isNaN(a)?0:a};this.formatInt=function(a){a=parseInt(a);return isNaN(a)?0:a};this.isDigit=function(a,
c){return/^[-+]?\d*$/.test(b.trim(a.replace(/[,.']/g,"")))};this.clearTableBody=function(a){b.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(a.tBodies[0]):a.tBodies[0].innerHTML=""}}});b.fn.extend({tablesorter:b.tablesorter.construct});var a=b.tablesorter;a.addParser({id:"text",is:function(a){return!0},format:function(a){return b.trim(a.toLocaleLowerCase())},type:"text"});a.addParser({id:"digit",is:function(a,f){return b.tablesorter.isDigit(a,f.config)},format:function(a){return b.tablesorter.formatFloat(a)},
type:"numeric"});a.addParser({id:"currency",is:function(a){return/^[\u00a3$\u20ac?.]/.test(a)},format:function(a){return b.tablesorter.formatFloat(a.replace(new RegExp(/[\u00a3$\u20ac]/g),""))},type:"numeric"});a.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(a){a=a.split(".");for(var f="",d=a.length,e=0;e<d;e++)var g=a[e],f=2==g.length?f+("0"+g):f+g;return b.tablesorter.formatFloat(f)},type:"numeric"});a.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},
format:function(a){return jQuery.trim(a.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});a.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},format:function(a){return b.tablesorter.formatFloat(""!=a?(new Date(a.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});a.addParser({id:"percent",is:function(a){return/\%$/.test(b.trim(a))},format:function(a){return b.tablesorter.formatFloat(a.replace(new RegExp(/%/g),""))},type:"numeric"});
a.addParser({id:"usLongDate",is:function(a){return a.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(a){return b.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"});a.addParser({id:"shortDate",is:function(a){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(a)},format:function(a,f){var d=f.config;a=a.replace(/\-/g,"/");if("us"==d.dateFormat)a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,
"$3/$1/$2");else if("uk"==d.dateFormat)a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if("dd/mm/yy"==d.dateFormat||"dd-mm-yy"==d.dateFormat)a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return b.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"});a.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(a){return b.tablesorter.formatFloat((new Date("2000/01/01 "+a)).getTime())},
type:"numeric"});a.addParser({id:"metadata",is:function(a){return!1},format:function(a,f,d){a=f.config;a=a.parserMetadataName?a.parserMetadataName:"sortValue";return b(d).metadata()[a]},type:"numeric"});a.addWidget({id:"zebra",format:function(a){if(a.config.debug)var f=new Date;var d,e=-1,g;b("tr:visible",a.tBodies[0]).each(function(f){d=b(this);d.hasClass(a.config.cssChildRow)||e++;g=0==e%2;d.removeClass(a.config.widgetZebra.css[g?0:1]).addClass(a.config.widgetZebra.css[g?1:0])});a.config.debug&&
b.tablesorter.benchmark("Applying Zebra widget",f)}})})(jQuery);(function(b){var a=jQuery,c=function(c){c=a(c);var d=c.data("tblKey");return d!==b?d:c.text()};a(function(){a(".sortable_table").each(function(){var b={textExtraction:c},d=a(this),e=d.data("sortdisabled");if(e){var g={};b.headers=g;jQuery.each(e,function(a,b){g[b]={sorter:!1}})}if(e=d.data("defaultSort"))b.sortList=[e];d.tablesorter(b)})})})();
(function(){function b(b,c){return function(){a(b).removeClass("NotVisible");a(c).addClass("NotVisible")}}var a=jQuery,c=function(b){a("#the_form").prop("action",b)},f=function(b){return function(){a("input.FollowUpUIChecks").prop("checked",b)}};a(function(){var d=a("#options_ui");if(d.length){var e=b("",".FollowUpUI, .FollowUpEmailUI, .FollowUpUIChecks");a("#ToggleUINone").click(e);var e=b(".FollowUpUI, .FollowUpUIChecks",".FollowUpEmailUI"),g=a("#ToggleUIFollowUpFlag").click(e);g[0].checked&&e();
e=b(".FollowUpEmailUI, .FollowUpUIChecks",".FollowUpUI");g=a("#ToggleUIEmailFollowUp").click(e);g[0].checked&&e();a("#FollowUpCheckAll, #FollowUpEmailCheckAll").click(f(!0));a("#FollowUpUnCheckAll, #FollowUpEmailUnCheckAll").click(f(!1));a("#FollowUpSubmitCheck, #FollowUpSumbitUnCheck").click(function(){c("")});a("#FollowUpEmailOrg").click(function(){c("referral_email_prep.asp");a("#EmailTo").prop("value","O")});a("#FollowUpEmailVol").click(function(){c("referral_email_prep.asp");a("#EmailTo").prop("value",
"V")});d.removeClass("NotVisible")}})})();
