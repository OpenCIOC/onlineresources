function diff_match_patch(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Diff_DualThreshold=32;this.Match_Threshold=0.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=0.5;this.Patch_Margin=4;for(var a=0,b=1,d=2;b!=d;)a++,b=d,d<<=1;this.Match_MaxBits=a}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;
diff_match_patch.prototype.diff_main=function(a,b,d){if(a==b)return[[DIFF_EQUAL,a]];"undefined"==typeof d&&(d=!0);var c=d,e=this.diff_commonPrefix(a,b),d=a.substring(0,e),a=a.substring(e),b=b.substring(e),e=this.diff_commonSuffix(a,b),g=a.substring(a.length-e),a=a.substring(0,a.length-e),b=b.substring(0,b.length-e),a=this.diff_compute(a,b,c);d&&a.unshift([DIFF_EQUAL,d]);g&&a.push([DIFF_EQUAL,g]);this.diff_cleanupMerge(a);return a};
diff_match_patch.prototype.diff_compute=function(a,b,d){var c;if(!a)return[[DIFF_INSERT,b]];if(!b)return[[DIFF_DELETE,a]];c=a.length>b.length?a:b;var e=a.length>b.length?b:a,g=c.indexOf(e);if(-1!=g)return c=[[DIFF_INSERT,c.substring(0,g)],[DIFF_EQUAL,e],[DIFF_INSERT,c.substring(g+e.length)]],a.length>b.length&&(c[0][0]=c[2][0]=DIFF_DELETE),c;if(c=this.diff_halfMatch(a,b)){var b=c[1],f=c[3],a=c[4];c=this.diff_main(c[0],c[2],d);d=this.diff_main(b,f,d);return c.concat([[DIFF_EQUAL,a]],d)}if(d&&(100>
a.length||100>b.length))d=!1;d&&(f=this.diff_linesToChars(a,b),a=f[0],b=f[1],f=f[2]);(c=this.diff_map(a,b))||(c=[[DIFF_DELETE,a],[DIFF_INSERT,b]]);if(d){this.diff_charsToLines(c,f);this.diff_cleanupSemantic(c);c.push([DIFF_EQUAL,""]);b=a=d=0;for(e=f="";d<c.length;){switch(c[d][0]){case DIFF_INSERT:b++;e+=c[d][1];break;case DIFF_DELETE:a++;f+=c[d][1];break;case DIFF_EQUAL:if(1<=a&&1<=b){f=this.diff_main(f,e,!1);c.splice(d-a-b,a+b);d=d-a-b;for(a=f.length-1;0<=a;a--)c.splice(d,0,f[a]);d+=f.length}a=
b=0;e=f=""}d++}c.pop()}return c};diff_match_patch.prototype.diff_linesToChars=function(a,b){function d(a){for(var b="",d=0,g=-1,f=c.length;g<a.length-1;){g=a.indexOf("\n",d);-1==g&&(g=a.length-1);var m=a.substring(d,g+1),d=g+1;(e.hasOwnProperty?e.hasOwnProperty(m):void 0!==e[m])?b+=String.fromCharCode(e[m]):(b+=String.fromCharCode(f),e[m]=f,c[f++]=m)}return b}var c=[],e={};c[0]="";var g=d(a),f=d(b);return[g,f,c]};
diff_match_patch.prototype.diff_charsToLines=function(a,b){for(var d=0;d<a.length;d++){for(var c=a[d][1],e=[],g=0;g<c.length;g++)e[g]=b[c.charCodeAt(g)];a[d][1]=e.join("")}};
diff_match_patch.prototype.diff_map=function(a,b){var d=(new Date).getTime()+1E3*this.Diff_Timeout,c=a.length,e=b.length,g=c+e-1,f=2*this.Diff_DualThreshold<g,h=[],j=[],i={},k={};i[1]=0;k[1]=0;for(var l,m,o,n={},r=!1,t=!!n.hasOwnProperty,s=(c+e)%2,q=0;q<g&&!(0<this.Diff_Timeout&&(new Date).getTime()>d);q++){h[q]={};for(var p=-q;p<=q;p+=2){l=p==-q||p!=q&&i[p-1]<i[p+1]?i[p+1]:i[p-1]+1;m=l-p;if(f){o=l+","+m;if(s&&(t?n.hasOwnProperty(o):void 0!==n[o]))r=!0;s||(n[o]=q)}for(;!r&&l<c&&m<e&&a.charAt(l)==
b.charAt(m);)if(l++,m++,f){o=l+","+m;if(s&&(t?n.hasOwnProperty(o):void 0!==n[o]))r=!0;s||(n[o]=q)}i[p]=l;h[q][l+","+m]=!0;if(l==c&&m==e)return this.diff_path1(h,a,b);if(r)return j=j.slice(0,n[o]+1),d=this.diff_path1(h,a.substring(0,l),b.substring(0,m)),d.concat(this.diff_path2(j,a.substring(l),b.substring(m)))}if(f){j[q]={};for(p=-q;p<=q;p+=2){l=p==-q||p!=q&&k[p-1]<k[p+1]?k[p+1]:k[p-1]+1;m=l-p;o=c-l+","+(e-m);if(!s&&(t?n.hasOwnProperty(o):void 0!==n[o]))r=!0;for(s&&(n[o]=q);!r&&l<c&&m<e&&a.charAt(c-
l-1)==b.charAt(e-m-1);){l++;m++;o=c-l+","+(e-m);if(!s&&(t?n.hasOwnProperty(o):void 0!==n[o]))r=!0;s&&(n[o]=q)}k[p]=l;j[q][l+","+m]=!0;if(r)return h=h.slice(0,n[o]+1),d=this.diff_path1(h,a.substring(0,c-l),b.substring(0,e-m)),d.concat(this.diff_path2(j,a.substring(c-l),b.substring(e-m)))}}}return null};
diff_match_patch.prototype.diff_path1=function(a,b,d){for(var c=[],e=b.length,g=d.length,f=null,h=a.length-2;0<=h;h--)for(;;)if(a[h].hasOwnProperty?a[h].hasOwnProperty(e-1+","+g):void 0!==a[h][e-1+","+g]){e--;f===DIFF_DELETE?c[0][1]=b.charAt(e)+c[0][1]:c.unshift([DIFF_DELETE,b.charAt(e)]);f=DIFF_DELETE;break}else if(a[h].hasOwnProperty?a[h].hasOwnProperty(e+","+(g-1)):void 0!==a[h][e+","+(g-1)]){g--;f===DIFF_INSERT?c[0][1]=d.charAt(g)+c[0][1]:c.unshift([DIFF_INSERT,d.charAt(g)]);f=DIFF_INSERT;break}else e--,
g--,f===DIFF_EQUAL?c[0][1]=b.charAt(e)+c[0][1]:c.unshift([DIFF_EQUAL,b.charAt(e)]),f=DIFF_EQUAL;return c};
diff_match_patch.prototype.diff_path2=function(a,b,d){for(var c=[],e=0,g=b.length,f=d.length,h=null,j=a.length-2;0<=j;j--)for(;;)if(a[j].hasOwnProperty?a[j].hasOwnProperty(g-1+","+f):void 0!==a[j][g-1+","+f]){g--;h===DIFF_DELETE?c[e-1][1]+=b.charAt(b.length-g-1):c[e++]=[DIFF_DELETE,b.charAt(b.length-g-1)];h=DIFF_DELETE;break}else if(a[j].hasOwnProperty?a[j].hasOwnProperty(g+","+(f-1)):void 0!==a[j][g+","+(f-1)]){f--;h===DIFF_INSERT?c[e-1][1]+=d.charAt(d.length-f-1):c[e++]=[DIFF_INSERT,d.charAt(d.length-
f-1)];h=DIFF_INSERT;break}else g--,f--,h===DIFF_EQUAL?c[e-1][1]+=b.charAt(b.length-g-1):c[e++]=[DIFF_EQUAL,b.charAt(b.length-g-1)],h=DIFF_EQUAL;return c};diff_match_patch.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charCodeAt(0)!==b.charCodeAt(0))return 0;for(var d=0,c=Math.min(a.length,b.length),e=c,g=0;d<e;)a.substring(g,e)==b.substring(g,e)?g=d=e:c=e,e=Math.floor((c-d)/2+d);return e};
diff_match_patch.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charCodeAt(a.length-1)!==b.charCodeAt(b.length-1))return 0;for(var d=0,c=Math.min(a.length,b.length),e=c,g=0;d<e;)a.substring(a.length-e,a.length-g)==b.substring(b.length-e,b.length-g)?g=d=e:c=e,e=Math.floor((c-d)/2+d);return e};
diff_match_patch.prototype.diff_halfMatch=function(a,b){function d(a,b,c){for(var d=a.substring(c,c+Math.floor(a.length/4)),e=-1,f="",h,j,s,q;-1!=(e=b.indexOf(d,e+1));){var p=g.diff_commonPrefix(a.substring(c),b.substring(e)),u=g.diff_commonSuffix(a.substring(0,c),b.substring(0,e));f.length<u+p&&(f=b.substring(e-u,e)+b.substring(e,e+p),h=a.substring(0,c-u),j=a.substring(c+p),s=b.substring(0,e-u),q=b.substring(e+p))}return f.length>=a.length/2?[h,j,s,q,f]:null}var c=a.length>b.length?a:b,e=a.length>
b.length?b:a;if(10>c.length||1>e.length)return null;var g=this,f=d(c,e,Math.ceil(c.length/4)),c=d(c,e,Math.ceil(c.length/2));if(!f&&!c)return null;var f=c?f?f[4].length>c[4].length?f:c:c:f,h,j;a.length>b.length?(c=f[0],e=f[1],h=f[2],j=f[3]):(h=f[0],j=f[1],c=f[2],e=f[3]);return[c,e,h,j,f[4]]};
diff_match_patch.prototype.diff_cleanupSemantic=function(a){for(var b=!1,d=[],c=0,e=null,g=0,f=0,h=0;g<a.length;)a[g][0]==DIFF_EQUAL?(d[c++]=g,f=h,h=0,e=a[g][1]):(h+=a[g][1].length,null!==e&&e.length<=f&&e.length<=h&&(a.splice(d[c-1],0,[DIFF_DELETE,e]),a[d[c-1]+1][0]=DIFF_INSERT,c--,c--,g=0<c?d[c-1]:-1,h=f=0,e=null,b=!0)),g++;b&&this.diff_cleanupMerge(a);this.diff_cleanupSemanticLossless(a)};
diff_match_patch.prototype.diff_cleanupSemanticLossless=function(a){function b(a,b){if(!a||!b)return 5;var h=0;if(a.charAt(a.length-1).match(d)||b.charAt(0).match(d))if(h++,a.charAt(a.length-1).match(c)||b.charAt(0).match(c))if(h++,a.charAt(a.length-1).match(e)||b.charAt(0).match(e))h++,(a.match(g)||b.match(f))&&h++;return h}for(var d=/[^a-zA-Z0-9]/,c=/\s/,e=/[\r\n]/,g=/\n\r?\n$/,f=/^\r?\n\r?\n/,h=1;h<a.length-1;){if(a[h-1][0]==DIFF_EQUAL&&a[h+1][0]==DIFF_EQUAL){var j=a[h-1][1],i=a[h][1],k=a[h+1][1],
l=this.diff_commonSuffix(j,i);if(l)var m=i.substring(i.length-l),j=j.substring(0,j.length-l),i=m+i.substring(0,i.length-l),k=m+k;for(var l=j,m=i,o=k,n=b(j,i)+b(i,k);i.charAt(0)===k.charAt(0);){var j=j+i.charAt(0),i=i.substring(1)+k.charAt(0),k=k.substring(1),r=b(j,i)+b(i,k);r>=n&&(n=r,l=j,m=i,o=k)}a[h-1][1]!=l&&((l?a[h-1][1]=l:(a.splice(h-1,1),h--),a[h][1]=m,o)?a[h+1][1]=o:(a.splice(h+1,1),h--))}h++}};
diff_match_patch.prototype.diff_cleanupEfficiency=function(a){for(var b=!1,d=[],c=0,e="",g=0,f=!1,h=!1,j=!1,i=!1;g<a.length;){if(a[g][0]==DIFF_EQUAL)a[g][1].length<this.Diff_EditCost&&(j||i)?(d[c++]=g,f=j,h=i,e=a[g][1]):(c=0,e=""),j=i=!1;else if(a[g][0]==DIFF_DELETE?i=!0:j=!0,e&&(f&&h&&j&&i||e.length<this.Diff_EditCost/2&&3==f+h+j+i))a.splice(d[c-1],0,[DIFF_DELETE,e]),a[d[c-1]+1][0]=DIFF_INSERT,c--,e="",f&&h?(j=i=!0,c=0):(c--,g=0<c?d[c-1]:-1,j=i=!1),b=!0;g++}b&&this.diff_cleanupMerge(a)};
diff_match_patch.prototype.diff_cleanupMerge=function(a){a.push([DIFF_EQUAL,""]);for(var b=0,d=0,c=0,e="",g="",f;b<a.length;)switch(a[b][0]){case DIFF_INSERT:c++;g+=a[b][1];b++;break;case DIFF_DELETE:d++;e+=a[b][1];b++;break;case DIFF_EQUAL:if(0!==d||0!==c){if(0!==d&&0!==c&&(f=this.diff_commonPrefix(g,e),0!==f&&(0<b-d-c&&a[b-d-c-1][0]==DIFF_EQUAL?a[b-d-c-1][1]+=g.substring(0,f):(a.splice(0,0,[DIFF_EQUAL,g.substring(0,f)]),b++),g=g.substring(f),e=e.substring(f)),f=this.diff_commonSuffix(g,e),0!==f))a[b][1]=
g.substring(g.length-f)+a[b][1],g=g.substring(0,g.length-f),e=e.substring(0,e.length-f);0===d?a.splice(b-d-c,d+c,[DIFF_INSERT,g]):0===c?a.splice(b-d-c,d+c,[DIFF_DELETE,e]):a.splice(b-d-c,d+c,[DIFF_DELETE,e],[DIFF_INSERT,g]);b=b-d-c+(d?1:0)+(c?1:0)+1}else 0!==b&&a[b-1][0]==DIFF_EQUAL?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++;d=c=0;g=e=""}""===a[a.length-1][1]&&a.pop();d=!1;for(b=1;b<a.length-1;)a[b-1][0]==DIFF_EQUAL&&a[b+1][0]==DIFF_EQUAL&&(a[b][1].substring(a[b][1].length-a[b-1][1].length)==a[b-1][1]?
(a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),d=!0):a[b][1].substring(0,a[b+1][1].length)==a[b+1][1]&&(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),d=!0)),b++;d&&this.diff_cleanupMerge(a)};
diff_match_patch.prototype.diff_xIndex=function(a,b){var d=0,c=0,e=0,g=0,f;for(f=0;f<a.length;f++){a[f][0]!==DIFF_INSERT&&(d+=a[f][1].length);a[f][0]!==DIFF_DELETE&&(c+=a[f][1].length);if(d>b)break;e=d;g=c}return a.length!=f&&a[f][0]===DIFF_DELETE?g:g+(b-e)};
diff_match_patch.prototype.diff_prettyHtml=function(a){for(var b=[],d=0,c=0;c<a.length;c++){var e=a[c][0],g=a[c][1],f=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"&para;<BR>");switch(e){case DIFF_INSERT:b[c]='<INS STYLE="background:#E6FFE6;" TITLE="i='+d+'">'+f+"</INS>";break;case DIFF_DELETE:b[c]='<DEL STYLE="background:#FFE6E6;" TITLE="i='+d+'">'+f+"</DEL>";break;case DIFF_EQUAL:b[c]='<SPAN TITLE="i='+d+'">'+f+"</SPAN>"}e!==DIFF_DELETE&&(d+=g.length)}return b.join("")};
diff_match_patch.prototype.diff_text1=function(a){for(var b=[],d=0;d<a.length;d++)a[d][0]!==DIFF_INSERT&&(b[d]=a[d][1]);return b.join("")};diff_match_patch.prototype.diff_text2=function(a){for(var b=[],d=0;d<a.length;d++)a[d][0]!==DIFF_DELETE&&(b[d]=a[d][1]);return b.join("")};
diff_match_patch.prototype.diff_levenshtein=function(a){for(var b=0,d=0,c=0,e=0;e<a.length;e++){var g=a[e][1];switch(a[e][0]){case DIFF_INSERT:d+=g.length;break;case DIFF_DELETE:c+=g.length;break;case DIFF_EQUAL:b+=Math.max(d,c),c=d=0}}return b+=Math.max(d,c)};
diff_match_patch.prototype.diff_toDelta=function(a){for(var b=[],d=0;d<a.length;d++)switch(a[d][0]){case DIFF_INSERT:b[d]="+"+encodeURI(a[d][1]);break;case DIFF_DELETE:b[d]="-"+a[d][1].length;break;case DIFF_EQUAL:b[d]="="+a[d][1].length}return b.join("\t").replace(/\x00/g,"%00").replace(/%20/g," ")};
diff_match_patch.prototype.diff_fromDelta=function(a,b){for(var d=[],c=0,e=0,b=b.replace(/%00/g,"\x00"),g=b.split(/\t/g),f=0;f<g.length;f++){var h=g[f].substring(1);switch(g[f].charAt(0)){case "+":try{d[c++]=[DIFF_INSERT,decodeURI(h)]}catch(j){throw Error("Illegal escape in diff_fromDelta: "+h);}break;case "-":case "=":var i=parseInt(h,10);if(isNaN(i)||0>i)throw Error("Invalid number in diff_fromDelta: "+h);h=a.substring(e,e+=i);"="==g[f].charAt(0)?d[c++]=[DIFF_EQUAL,h]:d[c++]=[DIFF_DELETE,h];break;
default:if(g[f])throw Error("Invalid diff operation in diff_fromDelta: "+g[f]);}}if(e!=a.length)throw Error("Delta length ("+e+") does not equal source text length ("+a.length+").");return d};diff_match_patch.prototype.match_main=function(a,b,d){d=Math.max(0,Math.min(d,a.length));return a==b?0:a.length?a.substring(d,d+b.length)==b?d:this.match_bitap(a,b,d):-1};
diff_match_patch.prototype.match_bitap=function(a,b,d){function c(a,c){var e=a/b.length,f=Math.abs(d-c);return!g.Match_Distance?f?1:e:e+f/g.Match_Distance}if(b.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var e=this.match_alphabet(b),g=this,f=this.Match_Threshold,h=a.indexOf(b,d);-1!=h&&(f=Math.min(c(0,h),f));h=a.lastIndexOf(b,d+b.length);-1!=h&&(f=Math.min(c(0,h),f));for(var j=1<<b.length-1,h=-1,i,k,l=b.length+a.length,m,o=0;o<b.length;o++){i=0;for(k=l;i<k;)c(o,d+k)<=
f?i=k:l=k,k=Math.floor((l-i)/2+i);l=k;i=Math.max(1,d-k+1);var n=Math.min(d+k,a.length)+b.length;k=Array(n+2);for(k[n+1]=(1<<o)-1;n>=i;n--){var r=e[a.charAt(n-1)];k[n]=0===o?(k[n+1]<<1|1)&r:(k[n+1]<<1|1)&r|(m[n+1]|m[n])<<1|1|m[n+1];if(k[n]&j&&(r=c(o,n-1),r<=f))if(f=r,h=n-1,h>d)i=Math.max(1,2*d-h);else break}if(c(o+1,d)>f)break;m=k}return h};diff_match_patch.prototype.match_alphabet=function(a){for(var b={},d=0;d<a.length;d++)b[a.charAt(d)]=0;for(d=0;d<a.length;d++)b[a.charAt(d)]|=1<<a.length-d-1;return b};
diff_match_patch.prototype.patch_addContext=function(a,b){for(var d=b.substring(a.start2,a.start2+a.length1),c=0;b.indexOf(d)!=b.lastIndexOf(d)&&d.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)c+=this.Patch_Margin,d=b.substring(a.start2-c,a.start2+a.length1+c);c+=this.Patch_Margin;(d=b.substring(a.start2-c,a.start2))&&a.diffs.unshift([DIFF_EQUAL,d]);(c=b.substring(a.start2+a.length1,a.start2+a.length1+c))&&a.diffs.push([DIFF_EQUAL,c]);a.start1-=d.length;a.start2-=d.length;a.length1+=
d.length+c.length;a.length2+=d.length+c.length};
diff_match_patch.prototype.patch_make=function(a,b,d){var c;if("string"==typeof a&&"string"==typeof b&&"undefined"==typeof d)c=a,b=this.diff_main(c,b,!0),2<b.length&&(this.diff_cleanupSemantic(b),this.diff_cleanupEfficiency(b));else if("object"==typeof a&&"undefined"==typeof b&&"undefined"==typeof d)b=a,c=this.diff_text1(b);else if("string"==typeof a&&"object"==typeof b&&"undefined"==typeof d)c=a;else if("string"==typeof a&&"string"==typeof b&&"object"==typeof d)c=a,b=d;else throw Error("Unknown call format to patch_make.");
if(0===b.length)return[];for(var d=[],a=new patch_obj,e=0,g=0,f=0,h=c,j=0;j<b.length;j++){var i=b[j][0],k=b[j][1];!e&&i!==DIFF_EQUAL&&(a.start1=g,a.start2=f);switch(i){case DIFF_INSERT:a.diffs[e++]=b[j];a.length2+=k.length;c=c.substring(0,f)+k+c.substring(f);break;case DIFF_DELETE:a.length1+=k.length;a.diffs[e++]=b[j];c=c.substring(0,f)+c.substring(f+k.length);break;case DIFF_EQUAL:k.length<=2*this.Patch_Margin&&e&&b.length!=j+1?(a.diffs[e++]=b[j],a.length1+=k.length,a.length2+=k.length):k.length>=
2*this.Patch_Margin&&e&&(this.patch_addContext(a,h),d.push(a),a=new patch_obj,e=0,h=c,g=f)}i!==DIFF_INSERT&&(g+=k.length);i!==DIFF_DELETE&&(f+=k.length)}e&&(this.patch_addContext(a,h),d.push(a));return d};diff_match_patch.prototype.patch_deepCopy=function(a){for(var b=[],d=0;d<a.length;d++){var c=a[d],e=new patch_obj;e.diffs=[];for(var g=0;g<c.diffs.length;g++)e.diffs[g]=c.diffs[g].slice();e.start1=c.start1;e.start2=c.start2;e.length1=c.length1;e.length2=c.length2;b[d]=e}return b};
diff_match_patch.prototype.patch_apply=function(a,b){if(0==a.length)return[b,[]];var a=this.patch_deepCopy(a),d=this.patch_addPadding(a),b=d+b+d;this.patch_splitMax(a);for(var c=0,e=[],g=0;g<a.length;g++){var f=a[g].start2+c,h=this.diff_text1(a[g].diffs),j,i=-1;if(h.length>this.Match_MaxBits){if(j=this.match_main(b,h.substring(0,this.Match_MaxBits),f),-1!=j&&(i=this.match_main(b,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits),-1==i||j>=i))j=-1}else j=this.match_main(b,h,f);
if(-1==j)e[g]=!1,c-=a[g].length2-a[g].length1;else if(e[g]=!0,c=j-f,f=-1==i?b.substring(j,j+h.length):b.substring(j,i+this.Match_MaxBits),h==f)b=b.substring(0,j)+this.diff_text2(a[g].diffs)+b.substring(j+h.length);else if(f=this.diff_main(h,f,!1),h.length>this.Match_MaxBits&&this.diff_levenshtein(f)/h.length>this.Patch_DeleteThreshold)e[g]=!1;else{this.diff_cleanupSemanticLossless(f);for(var h=0,k,i=0;i<a[g].diffs.length;i++){var l=a[g].diffs[i];l[0]!==DIFF_EQUAL&&(k=this.diff_xIndex(f,h));l[0]===
DIFF_INSERT?b=b.substring(0,j+k)+l[1]+b.substring(j+k):l[0]===DIFF_DELETE&&(b=b.substring(0,j+k)+b.substring(j+this.diff_xIndex(f,h+l[1].length)));l[0]!==DIFF_DELETE&&(h+=l[1].length)}}}b=b.substring(d.length,b.length-d.length);return[b,e]};
diff_match_patch.prototype.patch_addPadding=function(a){for(var b=this.Patch_Margin,d="",c=1;c<=b;c++)d+=String.fromCharCode(c);for(c=0;c<a.length;c++)a[c].start1+=b,a[c].start2+=b;var c=a[0],e=c.diffs;if(0==e.length||e[0][0]!=DIFF_EQUAL)e.unshift([DIFF_EQUAL,d]),c.start1-=b,c.start2-=b,c.length1+=b,c.length2+=b;else if(b>e[0][1].length){var g=b-e[0][1].length;e[0][1]=d.substring(e[0][1].length)+e[0][1];c.start1-=g;c.start2-=g;c.length1+=g;c.length2+=g}c=a[a.length-1];e=c.diffs;0==e.length||e[e.length-
1][0]!=DIFF_EQUAL?(e.push([DIFF_EQUAL,d]),c.length1+=b,c.length2+=b):b>e[e.length-1][1].length&&(g=b-e[e.length-1][1].length,e[e.length-1][1]+=d.substring(0,g),c.length1+=g,c.length2+=g);return d};
diff_match_patch.prototype.patch_splitMax=function(a){for(var b=0;b<a.length;b++)if(a[b].length1>this.Match_MaxBits){var d=a[b];a.splice(b--,1);for(var c=this.Match_MaxBits,e=d.start1,g=d.start2,f="";0!==d.diffs.length;){var h=new patch_obj,j=!0;h.start1=e-f.length;h.start2=g-f.length;""!==f&&(h.length1=h.length2=f.length,h.diffs.push([DIFF_EQUAL,f]));for(;0!==d.diffs.length&&h.length1<c-this.Patch_Margin;){var f=d.diffs[0][0],i=d.diffs[0][1];f===DIFF_INSERT?(h.length2+=i.length,g+=i.length,h.diffs.push(d.diffs.shift()),
j=!1):f===DIFF_DELETE&&1==h.diffs.length&&h.diffs[0][0]==DIFF_EQUAL&&i.length>2*c?(h.length1+=i.length,e+=i.length,j=!1,h.diffs.push([f,i]),d.diffs.shift()):(i=i.substring(0,c-h.length1-this.Patch_Margin),h.length1+=i.length,e+=i.length,f===DIFF_EQUAL?(h.length2+=i.length,g+=i.length):j=!1,h.diffs.push([f,i]),i==d.diffs[0][1]?d.diffs.shift():d.diffs[0][1]=d.diffs[0][1].substring(i.length))}f=this.diff_text2(h.diffs);f=f.substring(f.length-this.Patch_Margin);i=this.diff_text1(d.diffs).substring(0,
this.Patch_Margin);""!==i&&(h.length1+=i.length,h.length2+=i.length,0!==h.diffs.length&&h.diffs[h.diffs.length-1][0]===DIFF_EQUAL?h.diffs[h.diffs.length-1][1]+=i:h.diffs.push([DIFF_EQUAL,i]));j||a.splice(++b,0,h)}}};diff_match_patch.prototype.patch_toText=function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d];return b.join("")};
diff_match_patch.prototype.patch_fromText=function(a){var b=[];if(!a)return b;for(var a=a.replace(/%00/g,"\x00"),a=a.split("\n"),d=0;d<a.length;){var c=a[d].match(/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/);if(!c)throw Error("Invalid patch string: "+a[d]);var e=new patch_obj;b.push(e);e.start1=parseInt(c[1],10);""===c[2]?(e.start1--,e.length1=1):"0"==c[2]?e.length1=0:(e.start1--,e.length1=parseInt(c[2],10));e.start2=parseInt(c[3],10);""===c[4]?(e.start2--,e.length2=1):"0"==c[4]?e.length2=0:(e.start2--,
e.length2=parseInt(c[4],10));for(d++;d<a.length;){c=a[d].charAt(0);try{var g=decodeURI(a[d].substring(1))}catch(f){throw Error("Illegal escape in patch_fromText: "+g);}if("-"==c)e.diffs.push([DIFF_DELETE,g]);else if("+"==c)e.diffs.push([DIFF_INSERT,g]);else if(" "==c)e.diffs.push([DIFF_EQUAL,g]);else if("@"==c)break;else if(""!==c)throw Error('Invalid patch mode "'+c+'" in: '+g);d++}}return b};function patch_obj(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0}
patch_obj.prototype.toString=function(){for(var a=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],b,d=0;d<this.diffs.length;d++){switch(this.diffs[d][0]){case DIFF_INSERT:b="+";break;case DIFF_DELETE:b="-";break;case DIFF_EQUAL:b=" "}a[d+1]=b+encodeURI(this.diffs[d][1])+"\n"}return a.join("").replace(/\x00/g,"%00").replace(/%20/g," ")};
window.diff_match_patch=diff_match_patch;window.patch_obj=patch_obj;window.DIFF_DELETE=DIFF_DELETE;window.DIFF_INSERT=DIFF_INSERT;window.DIFF_EQUAL=DIFF_EQUAL;
