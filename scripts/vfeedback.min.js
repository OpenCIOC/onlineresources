/*
 jQuery Validation Plugin v1.20.0

 https://jqueryvalidation.org/

 Copyright (c) 2023 J?rn Zaefferer
 Released under the MIT license
 Globalize

 http://github.com/jquery/globalize

 Copyright Software Freedom Conservancy, Inc.
 Dual licensed under the MIT or GPL Version 2 licenses.
 http://jquery.org/license
*/
window.CIOC={};
(function(c,n){n.do_drop_down_navigation=function(){for(var l=c.getElementById("ActionList").options,f=0;f<l.length;f++)if(l[f].selected){var a=l[f].getAttribute("href");a&&("undefined"!=typeof l[f].attributes.newwindow?n.open(a):n.location.href=a);break}};jQuery(function(l){l("[data-toggle=dialog]").each(function(){var f=l(this),a=l(f.data("target")),b={autoOpen:!1,title:a.data("title"),modal:a.data("modal")};a.dialog(b);f.click(function(){a.dialog("isOpen")?a.dialog("close"):a.dialog("open")})})})})(document,window);
function CheckAll(c,n){c||="IDList";var l=n;n||(l=document.RecordList);n=l.elements.length;for(var f=0;f<n;f++){var a=l.elements[f];a.name===c&&(a.checked=!0)}}function ClearAll(c,n){c||="IDList";var l=n;n||(l=document.RecordList);n=l.elements.length;for(var f=0;f<n;f++){var a=l.elements[f];a.name===c&&(a.checked=!1)}}function add_class(c,n){c&&!(new RegExp("\\b"+n+"\\b")).test(c.className)&&(c.className&&(n=" "+n),c.className+=n)}
function remove_class(c,n){if(c){for(var l=c.className.split(" "),f=[],a=0;a<l.length;a++){var b=l[a];b!==n&&f.push(b)}c.className=f.join(" ")}}function hide(c){add_class(c,"NotVisible")}function show(c){remove_class(c,"NotVisible")}function openWin(c,n){window.open(c,n,"toolbar=no,width=490,height=485,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}
function openWinL(c,n){window.open(c,n,"toolbar=no,width=650,height=520,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}function openWinXL(c,n){window.open(c,n,"toolbar=no,width=755,height=550,location=no,scrollBars=yes,resizable=no,titlebar=yes").focus()}jQuery(function(c){var n={sm:openWin,lg:openWinL,xl:openWinXL};c(document).on("click","a.poplink",function(){var l=c(this).data("popargs");(n[l.size||"sm"]||openWin)(this.href,l.name||"popwin");return!1})});
(function(){var c=jQuery,n={},l=function(u){null!==u&&"undefined"!==typeof u?c("#myListCount").text(u):(u=c("#myListCount").text())&&(u=parseInt(u,10));u?n.myListLink.show():n.myListLink.hide()},f=function(u){c.each(u,function(B,D){c("#added_to_list_"+D).show();c("#add_to_list_"+D).hide()})},a=function(u){return function(B){B.fail?alert(B.errinfo):(B.ids?l(c.grep(B.ids,h[n.domain]).length):B.count?l(B.count):l(0),f([u]))}},b=function(u){u=c(u.currentTarget).data("id");c.ajax({success:a(u),dataType:"json",
error:function(){alert("Error")},data:{id:u},type:"POST",url:n.current_list_url})},d=function(u){return function(B){if(B.fail)alert(B.errinfo);else{B=!0;if(u){var D=c("#results_table #remove_from_list_"+u);D.length?D.parent().parent().remove():(B=!1,D=c("#results_container #remove_from_list_"+u),D.parents(".dlist-result").remove())}(B?1!==c("#results_table tr").length:0!==c("#results_container .dlist-result").length)&&u||(c("#records_ui").hide(),c("#no_records_message").show())}}},g=function(u){u=
c(u.currentTarget).data("id");c.ajax({success:d(u),dataType:"json",error:function(){alert("Error")},data:{ID:u,RemoveItem:n.domain},type:"POST",url:n.current_list_url})},p=function(u){c.ajax({success:d(),dataType:"json",error:function(){alert("Error")},data:{ID:"all",RemoveItem:n.domain},type:"POST",url:n.current_list_url})},h={CIC:function(u){return/^[A-Za-z]{3}[0-9]{4,5}$/.test(u)},VOL:function(u){return/^[1-9][0-9]*$/.test(u)}},r=function(u){if(u.fail)w();else if(u.inrequest){var B=c.grep(u.ids,
h[n.domain]);f(B);l(B.length);(u=u.previous_ids)&&c.each(u,function(D,I){c("#ct_added_to_previous_request_"+I).show()});c(".ListUI img").prop("src",function(D,I){return I.replace("list","referral")});c("#list_header_text").hide();c("#ct_header_text").show();n.current_list_url=n.ct_update_url;x()}else w()},w=function(){var u=function(){n.list_view_mode||f(n.already_added||[]);n.current_list_url=n.list_view_mode&&"ct"===n.list_view_mode?n.ct_update_url:n.list_update_url;l((n.already_added||[]).length);
x()};n.list_view_mode||n.has_session?u():c.ajax({dataType:"json",error:null,url:n.list_update_url,data:{SessionTest:"on"},type:"POST",success:function(B){B.has_session&&u()}})},x=function(){c(".HideListUI").delegate(".add_to_list","click",b).delegate(".remove_from_list","click",g).removeClass("HideListUI");c("#remove_all_from_list").click(p);c.browser.msie&&"8.0">c.browser.msie&&c(".ListUI").removeClass("FixIE")};window.init_list_adder=function(u){n=u;n.myListLink=c("#myListLink").parent(":hidden").add("#myListLink");
u.in_request?c.ajax({success:r,dataType:"json",error:null,type:"POST",url:u.in_request}):w()}})();this.JSON||(this.JSON={});
(function(){function c(h){return 10>h?"0"+h:h}function n(h){a.lastIndex=0;return a.test(h)?'"'+h.replace(a,function(r){var w=g[r];return"string"===typeof w?w:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function l(h,r){var w=b,x=r[h];x&&"object"===typeof x&&"function"===typeof x.toJSON&&(x=x.toJSON(h));"function"===typeof p&&(x=p.call(r,h,x));switch(typeof x){case "string":return n(x);case "number":return isFinite(x)?String(x):"null";case "boolean":case "null":return String(x);
case "object":if(!x)return"null";b+=d;var u=[];if("[object Array]"===Object.prototype.toString.apply(x)){var B=x.length;for(h=0;h<B;h+=1)u[h]=l(h,x)||"null";r=0===u.length?"[]":b?"[\n"+b+u.join(",\n"+b)+"\n"+w+"]":"["+u.join(",")+"]";b=w;return r}if(p&&"object"===typeof p)for(B=p.length,h=0;h<B;h+=1){var D=p[h];"string"===typeof D&&(r=l(D,x))&&u.push(n(D)+(b?": ":":")+r)}else for(D in x)Object.hasOwnProperty.call(x,D)&&(r=l(D,x))&&u.push(n(D)+(b?": ":":")+r);r=0===u.length?"{}":b?"{\n"+b+u.join(",\n"+
b)+"\n"+w+"}":"{"+u.join(",")+"}";b=w;return r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(h){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(h){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,d,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;"function"!==typeof JSON.stringify&&(JSON.stringify=function(h,r,w){var x;d=b="";if("number"===typeof w)for(x=0;x<w;x+=1)d+=" ";else"string"===typeof w&&(d=w);if((p=r)&&"function"!==typeof r&&("object"!==typeof r||"number"!==typeof r.length))throw Error("JSON.stringify");return l("",{"":h})});
"function"!==typeof JSON.parse&&(JSON.parse=function(h,r){function w(x,u){var B,D=x[u];if(D&&"object"===typeof D)for(B in D)if(Object.hasOwnProperty.call(D,B)){var I=w(D,B);void 0!==I?D[B]=I:delete D[B]}return r.call(x,u,D)}h=String(h);f.lastIndex=0;f.test(h)&&(h=h.replace(f,function(x){return"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+h+")"),"function"===typeof r?w({"":h},""):h;throw new SyntaxError("JSON.parse");})})();
(function(){window.get_form_values=function(c){var n={};jQuery(c).find("input,select,textarea").each(function(l){if(this.name)if(n[this.name]||(n[this.name]=[]),"select"===this.nodeName.toLowerCase()){var f=n[this.name];$(this).find("option").each(function(a){this.selected&&f.push(this.value)})}else("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type||this.checked)&&n[this.name].push(this.value||"")});return n};window.restore_form_values=function(c,n){var l=jQuery;l(c).find("input,select,textarea").each(function(f){if(this.name){var a=
n[this.name];"undefined"!=typeof a&&null!==a&&("input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?"select"===this.nodeName.toLowerCase()?l(this).find("option").each(function(b){this.selected=1<a.length?0<=l.inArray(this.value,a):0===a.length?!1:this.value===a[0]}):this.value=a.length?a[0]:"":this.checked=1<a.length?0<=l.inArray(this.value,a):0===a.length?!1:this.value===a[0])}})};window.init_cached_state=function(c){var n=jQuery;c=c||"#EntryForm";onbeforeunload_fns=
[];onbeforerestorevalues_fns=[];var l=function(){var f=document.getElementById("cache_form_values");if(f){var a={form_values:get_form_values(c)};n.each(onbeforeunload_fns,function(b,d){d(a)});f.value=JSON.stringify(a)}};document.addEventListener("visibilitychange",function(){"hidden"==document.visibilityState&&l()});document.addEventListener("freeze",l);window.addEventListener("pagehide",l);window.cache_register_onbeforeunload=function(f){onbeforeunload_fns.push(f)};window.cache_register_onbeforerestorevalues=
function(f){onbeforerestorevalues_fns.push(f)};window.restore_cached_state=function(){n(window).on("pageshow",function(f){if(!f.originalEvent.persisted&&(f=document.getElementById("cache_form_values"))&&f.value){var a=JSON.parse(f.value);n.each(onbeforerestorevalues_fns,function(b,d){d(a)});restore_form_values(c,a.form_values)}})}}})();
(function(){var c=jQuery,n={"en-CA":"d M yy",de:"dd.mm.yy",fr:"d M yy",it:"d M yy",nl:"d M yy",no:"d M yy",pt:"d-mm-yy",sv:"d M yy",hu:"M d. yy",ro:"d M yy",hr:"d M yy",sl:"d M yy",bg:"d MM yy",ru:"d M yy",tr:"d M yy",lv:"d M yy",lt:"d M yy",ko:"yy/mm/dd","zh-CN":"yy/mm/dd",th:"d M yy"},l={"en-CA":!0,"":!0},f={},a={"fr-CA":"fr","es-MX":"es"},b=function(){var g=c(this),p=g.data("culture"),h=n[p]||c.datepicker.regional[p].dateFormat,r={};g.hasClass("NoYear")&&(h=h.replace(/[\- .\/]*yy[\/]?/,""),r={beforeShow:function(w,
x){x.dpDiv.addClass("NoYearDatePicker")},onClose:function(w,x){x.dpDiv.removeClass("NoYearDatePicker")},changeYear:!1});r.dateFormat=h;g.datepicker(c.extend({},c.datepicker.regional[p],r)).prop("autocomplete","off")},d=function(g){c.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/"+c.ui.version+"/i18n/jquery.ui.datepicker-"+g+".min.js",function(){l[g]=!0;c.each(f[g],function(){b.call(this)});delete f[g]})};c.datepicker.regional["en-CA"]=c.extend({},c.datepicker.regional[""]);c.fn.extend({autodatepicker:function(){return this.each(function(){var g=
c(this);var p=g.parents("[lang]").first().prop("lang")||"en-CA";p=a[p]||p;g.data("culture",p);l[p]?b.call(this):(g=f[p],g||(g=f[p]=[],d(p)),g.push(this))})}});jQuery(function(){c("input.DatePicker").autodatepicker()})})();
(function(c){c.widget("ui.combobox",{options:{source:null},_create:function(){var n=this.element;this.options.source&&(c(n).autocomplete({focus:function(l,f){return!1},source:this.options.source,delay:0,minLength:0}),c("<span>").insertAfter(n).addClass("SmallButton DownButton").css("margin-left","1px").click(function(l){n.autocomplete("widget").is(":visible")?n.autocomplete("close"):(n.autocomplete("search",""),n.focus())}))}})})(jQuery);
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof module&&module.exports?module.exports=c(require("jquery")):c(jQuery)})(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;this.attr("novalidate","novalidate");b=new c.validator(a,this[0]);c.data(this[0],"validator",b);b.settings.onsubmit&&(this.on("click.validate",":submit",function(d){b.submitButton=d.currentTarget;c(this).hasClass("cancel")&&(b.cancelSubmit=
!0);void 0!==c(this).attr("formnovalidate")&&(b.cancelSubmit=!0)}),this.on("submit.validate",function(d){function g(){var p;b.submitButton&&(b.settings.submitHandler||b.formSubmitted)&&(p=c("<input type='hidden'/>").attr("name",b.submitButton.name).val(c(b.submitButton).val()).appendTo(b.currentForm));if(b.settings.submitHandler&&!b.settings.debug){var h=b.settings.submitHandler.call(b,b.currentForm,d);p&&p.remove();return void 0!==h?h:!1}return!0}b.settings.debug&&d.preventDefault();if(b.cancelSubmit)return b.cancelSubmit=
!1,g();if(b.form())return b.pendingRequest?(b.formSubmitted=!0,!1):g();b.focusInvalid();return!1}));return b}a&&a.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){if(c(this[0]).is("form"))var a=this.validate().form();else{var b=[];a=!0;var d=c(this[0].form).validate();this.each(function(){(a=d.element(this)&&a)||(b=b.concat(d.errorList))});d.errorList=b}return a},rules:function(a,b){var d=this[0],g="undefined"!==typeof this.attr("contenteditable")&&
"false"!==this.attr("contenteditable");if(null!=d&&(!d.form&&g&&(d.form=this.closest("form")[0],d.name=this.attr("name")),null!=d.form)){if(a){g=c.data(d.form,"validator").settings;var p=g.rules;var h=c.validator.staticRules(d);switch(a){case "add":c.extend(h,c.validator.normalizeRule(b));delete h.messages;p[d.name]=h;b.messages&&(g.messages[d.name]=c.extend(g.messages[d.name],b.messages));break;case "remove":if(!b)return delete p[d.name],h;var r={};c.each(b.split(/\s/),function(w,x){r[x]=h[x];delete h[x]});
return r}}a=c.validator.normalizeRules(c.extend({},c.validator.classRules(d),c.validator.attributeRules(d),c.validator.dataRules(d),c.validator.staticRules(d)),d);a.required&&(b=a.required,delete a.required,a=c.extend({required:b},a));a.remote&&(b=a.remote,delete a.remote,a=c.extend(a,{remote:b}));return a}}});var n=function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};c.extend(c.expr.pseudos||c.expr[":"],{blank:function(a){return!n(""+c(a).val())},filled:function(a){a=c(a).val();
return null!==a&&!!n(""+a)},unchecked:function(a){return!c(a).prop("checked")}});c.validator=function(a,b){this.settings=c.extend(!0,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(1===arguments.length)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(void 0===b)return a;2<arguments.length&&b.constructor!==Array&&(b=c.makeArray(arguments).slice(1));b.constructor!==Array&&(b=[b]);c.each(b,function(d,
g){a=a.replace(new RegExp("\\{"+d+"\\}","g"),function(){return g})});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,
this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===b.which&&""===this.elementValue(a)||-1!==c.inArray(b.keyCode,d)||(a.name in this.submitted||a.name in this.invalid)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},
highlight:function(a,b,d){"radio"===a.type?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){"radio"===a.type?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",
dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),
min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function a(p){var h="undefined"!==typeof c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");!this.form&&h&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name"));if(b===this.form){h=c.data(this.form,"validator");var r="on"+p.type.replace(/^validate/,""),w=h.settings;w[r]&&!c(this).is(w.ignore)&&
w[r].call(h,this,p)}}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.currentForm,d=this.groups={};c.each(this.settings.groups,function(p,h){"string"===typeof h&&(h=h.split(/\s/));c.each(h,function(r,w){d[w]=
p})});var g=this.settings.rules;c.each(g,function(p,h){g[p]=c.validator.normalizeRule(h)});c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",
a).on("click.validate","select, option, [type='radio'], [type='checkbox']",a);if(this.settings.invalidHandler)c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);
return this.valid()},element:function(a){var b=this.clean(a),d=this.validationTargetFor(b),g=this,p=!0,h;if(void 0===d)delete this.invalid[b.name];else{this.prepareElement(d);this.currentElements=c(d);(h=this.groups[d.name])&&c.each(this.groups,function(w,x){x===h&&w!==d.name&&(b=g.validationTargetFor(g.clean(g.findByName(w))))&&b.name in g.invalid&&(g.currentElements.push(b),p=g.check(b)&&p)});var r=!1!==this.check(d);p=p&&r;this.invalid[d.name]=r?!1:!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));
this.showErrors();c(a).attr("aria-invalid",!r)}return p},showErrors:function(a){if(a){var b=this;c.extend(this.errorMap,a);this.errorList=c.map(this.errorMap,function(d,g){return{message:d,element:b.findByName(g)[0]}});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.invalid={};this.submitted=
{};this.prepareForm();this.hideErrors();var a=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(a)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},
objectLength:function(a){var b=0,d;for(d in a)void 0!==a[d]&&null!==a[d]&&!1!==a[d]&&b++;return b},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text("");this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(a){}},
findLastActive:function(){var a=this.lastActive;return a&&1===c.grep(this.errorList,function(b){return b.element.name===a.name}).length&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||c(this).attr("name"),g="undefined"!==typeof c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");!d&&a.settings.debug&&window.console&&
console.error("%o has no name assigned",this);g&&(this.form=c(this).closest("form")[0],this.name=d);return this.form!==a.currentForm||d in b||!a.objectLength(c(this).rules())?!1:b[d]=!0})},clean:function(a){return c(a)[0]},errors:function(){var a=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+a,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([])},reset:function(){this.resetInternals();
this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},elementValue:function(a){var b=c(a),d=a.type,g="undefined"!==typeof b.attr("contenteditable")&&"false"!==b.attr("contenteditable");if("radio"===d||"checkbox"===d)return this.findByName(a.name).filter(":checked").val();if("number"===d&&"undefined"!==typeof a.validity)return a.validity.badInput?"NaN":b.val();a=g?b.text():
b.val();if("file"===d){if("C:\\fakepath\\"===a.substr(0,12))return a.substr(12);d=a.lastIndexOf("/");if(0<=d)return a.substr(d+1);d=a.lastIndexOf("\\");return 0<=d?a.substr(d+1):a}return"string"===typeof a?a.replace(/\r/g,""):a},check:function(a){a=this.validationTargetFor(this.clean(a));var b=c(a).rules(),d=c.map(b,function(x,u){return u}).length,g=!1,p=this.elementValue(a),h;this.abortRequest(a);if("function"===typeof b.normalizer)var r=b.normalizer;else"function"===typeof this.settings.normalizer&&
(r=this.settings.normalizer);r&&(p=r.call(a,p),delete b.normalizer);for(h in b){r={method:h,parameters:b[h]};try{var w=c.validator.methods[h].call(this,p,a,r.parameters);if("dependency-mismatch"===w&&1===d)g=!0;else{g=!1;if("pending"===w){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!w)return this.formatAndAdd(a,r),!1}}catch(x){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+a.id+", check the '"+r.method+"' method.",x),x instanceof TypeError&&
(x.message+=".  Exception occurred when checking element "+a.id+", check the '"+r.method+"' method."),x;}}if(!g)return this.objectLength(b)&&this.successList.push(a),!0},customDataMessage:function(a,b){return c(a).data("msg"+b.charAt(0).toUpperCase()+b.substring(1).toLowerCase())||c(a).data("msg")},customMessage:function(a,b){return(a=this.settings.messages[a])&&(a.constructor===String?a:a[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},
defaultMessage:function(a,b){"string"===typeof b&&(b={method:b});var d=this.findDefined(this.customMessage(a.name,b.method),this.customDataMessage(a,b.method),!this.settings.ignoreTitle&&a.title||void 0,c.validator.messages[b.method],"<strong>Warning: No message defined for "+a.name+"</strong>"),g=/\$?\{(\d+)\}/g;"function"===typeof d?d=d.call(this,b.parameters,a):g.test(d)&&(d=c.validator.format(d.replace(g,"{$1}"),b.parameters));return d},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b);
this.errorList.push({message:d,element:a,method:b.method});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper)));return a},defaultShowErrors:function(){var a;for(a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));
if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},
showLabel:function(a,b){var d,g=this.errorsFor(a),p=this.idOrName(a),h=c(a).attr("aria-describedby");if(g.length)g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?g.text(b||""):g.html(b||"");else{g=c("<"+this.settings.errorElement+">").attr("id",p+"-error").addClass(this.settings.errorClass);this.settings&&this.settings.escapeHtml?g.text(b||""):g.html(b||"");var r=g;this.settings.wrapper&&(r=g.hide().show().wrap("<"+this.settings.wrapper+
"/>").parent());this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement.call(this,r,c(a)):r.insertAfter(a);if(g.is("label"))g.attr("for",p);else if(0===g.parents("label[for='"+this.escapeCssMeta(p)+"']").length&&(r=g.attr("id"),h?h.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(h+=" "+r):h=r,c(a).attr("aria-describedby",h),d=this.groups[a.name])){var w=this;c.each(w.groups,function(x,u){u===d&&c("[name='"+w.escapeCssMeta(x)+"']",w.currentForm).attr("aria-describedby",
g.attr("id"))})}}!b&&this.settings.success&&(g.text(""),"string"===typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,a));this.toShow=this.toShow.add(g)},errorsFor:function(a){var b=this.escapeCssMeta(this.idOrName(a));a=c(a).attr("aria-describedby");b="label[for='"+b+"'], label[for='"+b+"'] *";a&&(b=b+", #"+this.escapeCssMeta(a).replace(/\s+/g,", #"));return this.errors().filter(b)},escapeCssMeta:function(a){return void 0===a?"":a.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,
"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){this.checkable(a)&&(a=this.findByName(a.name));return c(a).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){return c(this.currentForm).find("[name='"+this.escapeCssMeta(a)+"']")},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},
depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){var b=this.elementValue(a);return!c.validator.methods.required.call(this,b,a)&&"dependency-mismatch"},elementAjaxPort:function(a){return"validate"+a.name},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,c(a).addClass(this.settings.pendingClass),
this.pending[a.name]=!0)},stopRequest:function(a,b){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[a.name];c(a).removeClass(this.settings.pendingClass);b&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(c(this.currentForm).trigger("submit"),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!b&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",
[this]),this.formSubmitted=!1)},abortRequest:function(a){if(this.pending[a.name]){var b=this.elementAjaxPort(a);c.ajaxAbort(b);this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[a.name];c(a).removeClass(this.settings.pendingClass)}},previousValue:function(a,b){b="string"===typeof b&&b||"remote";return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,{method:b})})},destroy:function(){this.resetForm();c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},
classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,b){a.constructor===String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},normalizeAttributeRule:function(a,
b,d,g){/min|max|step/.test(d)&&(null===b||/number|range|text/.test(b))&&(g=Number(g),isNaN(g)&&(g=void 0));g||0===g?a[d]=g:b===d&&"range"!==b&&(a["date"===b?"dateISO":d]=!0)},attributeRules:function(a){var b={},d=c(a),g=a.getAttribute("type"),p;for(p in c.validator.methods){if("required"===p){var h=a.getAttribute(p);""===h&&(h=!0);h=!!h}else h=d.attr(p);this.normalizeAttributeRule(b,g,p,h)}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},dataRules:function(a){var b=
{},d=c(a);a=a.getAttribute("type");var g;for(g in c.validator.methods){var p=d.data("rule"+g.charAt(0).toUpperCase()+g.substring(1).toLowerCase());""===p&&(p=!0);this.normalizeAttributeRule(b,a,g,p)}return b},staticRules:function(a){var b={},d=c.data(a.form,"validator");d.settings.rules&&(b=c.validator.normalizeRule(d.settings.rules[a.name])||{});return b},normalizeRules:function(a,b){c.each(a,function(d,g){if(!1===g)delete a[d];else if(g.param||g.depends){var p=!0;switch(typeof g.depends){case "string":p=
!!c(g.depends,b.form).length;break;case "function":p=g.depends.call(b,b)}p?a[d]=void 0!==g.param?g.param:!0:(c.data(b.form,"validator").resetElements(c(b)),delete a[d])}});c.each(a,function(d,g){a[d]="function"===typeof g&&"normalizer"!==d?g(b):g});c.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))});c.each(["rangelength","range"],function(){if(a[this])if(Array.isArray(a[this]))a[this]=[Number(a[this][0]),Number(a[this][1])];else if("string"===typeof a[this]){var d=a[this].replace(/[\[\]]/g,
"").split(/[\s,]+/);a[this]=[Number(d[0]),Number(d[1])]}});c.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength));return a},normalizeRule:function(a){if("string"===typeof a){var b={};c.each(a.split(/\s/),function(){b[this]=!0});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=void 0!==d?d:
c.validator.messages[a];3>b.length&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){return this.depend(d,b)?"select"===b.nodeName.toLowerCase()?(a=c(b).val())&&0<a.length:this.checkable(b)?0<this.getLength(a,b):void 0!==a&&null!==a&&0<a.length:"dependency-mismatch"},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},
url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},
date:function(){var a=!1;return function(b,d){a||(a=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`."));return this.optional(d)||!/Invalid|NaN/.test((new Date(b)).toString())}}(),dateISO:function(a,
b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(a,b,d){a=Array.isArray(a)?a.length:this.getLength(a,b);return this.optional(b)||a>=d},maxlength:function(a,b,d){a=Array.isArray(a)?a.length:this.getLength(a,b);return this.optional(b)||a<=d},rangelength:function(a,b,d){a=
Array.isArray(a)?a.length:this.getLength(a,b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},step:function(a,b,d){var g=c(b).attr("type"),p="Step attribute on input type "+g+" is not supported.",h=["text","number","range"],r=new RegExp("\\b"+g+"\\b"),w=function(u){return(u=(""+u).match(/(?:\.(\d+))?$/))?u[1]?u[1].length:0:0},x=!0;if(g&&
!r.test(h.join()))throw Error(p);g=w(d);if(w(a)>g||0!==Math.round(a*Math.pow(10,g))%Math.round(d*Math.pow(10,g)))x=!1;return this.optional(b)||x},equalTo:function(a,b,d){d=c(d);if(this.settings.onfocusout&&d.not(".validate-equalTo-blur").length)d.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(b).valid()});return a===d.val()},remote:function(a,b,d,g){if(this.optional(b))return"dependency-mismatch";g="string"===typeof g&&g||"remote";var p=this.previousValue(b,g);this.settings.messages[b.name]||
(this.settings.messages[b.name]={});p.originalMessage=p.originalMessage||this.settings.messages[b.name][g];this.settings.messages[b.name][g]=p.message;d="string"===typeof d&&{url:d}||d;var h=c.param(c.extend({data:a},d.data));if(p.old===h)return p.valid;p.old=h;var r=this;this.startRequest(b);h={};h[b.name]=a;c.ajax(c.extend(!0,{mode:"abort",port:this.elementAjaxPort(b),dataType:"json",data:h,context:r.currentForm,success:function(w){var x=!0===w||"true"===w;r.settings.messages[b.name][g]=p.originalMessage;
if(x){var u=r.formSubmitted;r.toHide=r.errorsFor(b);r.formSubmitted=u;r.successList.push(b);r.invalid[b.name]=!1;r.showErrors()}else u={},w=w||r.defaultMessage(b,{method:g,parameters:a}),u[b.name]=p.message=w,r.invalid[b.name]=!0,r.showErrors(u);p.valid=x;r.stopRequest(b,x)}},d));return"pending"}}});var l={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(a,b,d){b=a.port;"abort"===a.mode&&(c.ajaxAbort(b),l[b]=d)});else{var f=c.ajax;c.ajax=function(a){var b=("port"in a?a:c.ajaxSettings).port;return"abort"===
("mode"in a?a:c.ajaxSettings).mode?(c.ajaxAbort(b),l[b]=f.apply(this,arguments),l[b]):f.apply(this,arguments)}}c.ajaxAbort=function(a){l[a]&&(l[a].abort(),delete l[a])};return c});
(function(c,n){var l,f;var a=function(e){return new a.prototype.init(e)};"undefined"!==typeof require&&"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=a:c.Globalize=a;a.cultures={};a.prototype={constructor:a,init:function(e){this.cultures=a.cultures;this.cultureSelector=e;return this}};a.prototype.init.prototype=a.prototype;a.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",
groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},
months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};
a.cultures["default"].calendar=a.cultures["default"].calendars.standard;a.cultures.en=a.cultures["default"];a.cultureSelector="en";var b=/^0x[a-f0-9]+$/i;var d=/^[+\-]?infinity$/i;var g=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;var p=/^\s+|\s+$/g;var h=function(e,k){if(e.indexOf)return e.indexOf(k);for(var t=0,q=e.length;t<q;t++)if(e[t]===k)return t;return-1};var r=function(e,k){return e.substr(e.length-k.length)===k};var w=function(){var e,k,t,q=arguments[0]||{},v=1,A=arguments.length,z=!1;"boolean"===typeof q&&
(z=q,q=arguments[1]||{},v=2);for("object"===typeof q||u(q)||(q={});v<A;v++)if(null!=(e=arguments[v]))for(k in e){var m=q[k];var y=e[k];q!==y&&(z&&y&&(B(y)||(t=x(y)))?(t?(t=!1,m=m&&x(m)?m:[]):m=m&&B(m)?m:{},q[k]=w(z,m,y)):y!==n&&(q[k]=y))}return q};var x=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};var u=function(e){return"[object Function]"===Object.prototype.toString.call(e)};var B=function(e){return"[object Object]"===Object.prototype.toString.call(e)};
var D=function(e,k){return 0===e.indexOf(k)};var I=function(e){return(e+"").replace(p,"")};var E=function(e){return isNaN(e)?NaN:Math[0>e?"ceil":"floor"](e)};var F=function(e,k,t){var q;for(q=e.length;q<k;q+=1)e=t?"0"+e:e+"0";return e};var J=function(e,k){for(var t=0,q=!1,v=0,A=e.length;v<A;v++){var z=e.charAt(v);switch(z){case "'":q?k.push("'"):t++;q=!1;break;case "\\":q&&k.push("\\");q=!q;break;default:k.push(z),q=!1}}return t};var X=function(e,k){k=k||"F";e=e.patterns;var t=k.length;if(1===t){e=
e[k];if(!e)throw"Invalid date format string '"+k+"'.";k=e}else 2===t&&"%"===k.charAt(0)&&(k=k.charAt(1));return k};var Z=function(e,k,t){function q(Q,M){Q+="";return 1<M&&Q.length<M?(Q=G[M-2]+Q,Q.substr(Q.length-M,M)):Q}function v(Q,M){if(S)return S[M];switch(M){case 0:return Q.getFullYear();case 1:return Q.getMonth();case 2:return Q.getDate();default:throw"Invalid part value "+M;}}var A=t.calendar,z=A.convert;if(!k||!k.length||"i"===k){if(t&&t.name.length)if(z)t=Z(e,A.patterns.F,t);else{k=new Date(e.getTime());
var m=aa(e,A.eras);k.setFullYear(ca(e,A,m));t=k.toLocaleString()}else t=e.toString();return t}var y=A.eras,C="s"===k;k=X(A,k);t=[];var G=["0","00","000"],N=/([^d]|^)(d|dd)([^d]|$)/g,L=0,O=da(),S;for(!C&&z&&(S=z.fromGregorian(e));;){var H=O.lastIndex;z=O.exec(k);H=k.slice(H,z?z.index:k.length);L+=J(H,t);if(!z)break;if(L%2)t.push(z[0]);else switch(H=z[0],z=H.length,H){case "ddd":case "dddd":t.push((3===z?A.days.namesAbbr:A.days.names)[e.getDay()]);break;case "d":case "dd":m=!0;t.push(q(v(e,2),z));break;
case "MMM":case "MMMM":H=v(e,1);var K=t,V=K.push,W;if(W=A.monthsGenitive){if(!m&&!T){m=N.test(k);var T=!0}W=m}V.call(K,W?A.monthsGenitive[3===z?"namesAbbr":"names"][H]:A.months[3===z?"namesAbbr":"names"][H]);break;case "M":case "MM":t.push(q(v(e,1)+1,z));break;case "y":case "yy":case "yyyy":H=S?S[0]:ca(e,A,aa(e,y),C);4>z&&(H%=100);t.push(q(H,z));break;case "h":case "hh":H=e.getHours()%12;0===H&&(H=12);t.push(q(H,z));break;case "H":case "HH":t.push(q(e.getHours(),z));break;case "m":case "mm":t.push(q(e.getMinutes(),
z));break;case "s":case "ss":t.push(q(e.getSeconds(),z));break;case "t":case "tt":H=12>e.getHours()?A.AM?A.AM[0]:" ":A.PM?A.PM[0]:" ";t.push(1===z?H.charAt(0):H);break;case "f":case "ff":case "fff":t.push(q(e.getMilliseconds(),3).substr(0,z));break;case "z":case "zz":H=e.getTimezoneOffset()/60;t.push((0>=H?"+":"-")+q(Math.floor(Math.abs(H)),z));break;case "zzz":H=e.getTimezoneOffset()/60;t.push((0>=H?"+":"-")+q(Math.floor(Math.abs(H)),2)+":"+q(Math.abs(e.getTimezoneOffset()%60),2));break;case "g":case "gg":A.eras&&
t.push(A.eras[aa(e,y)].name);break;case "/":t.push(A["/"]);break;default:throw"Invalid date format pattern '"+H+"'.";}}return t.join("")};(function(){var e=function(k,t,q){var v=q.groupSizes,A=v[0],z=1,m=Math.pow(10,t);m=Math.round(k*m)/m;isFinite(m)||(m=k);k=m;m=(k+"").split(/e/i);var y=1<m.length?parseInt(m[1],10):0;k=m[0];m=k.split(".");k=m[0];m=1<m.length?m[1]:"";0<y?(m=F(m,y,!1),k+=m.slice(0,y),m=m.substr(y)):0>y&&(y=-y,k=F(k,y+1,!0),m=k.slice(-y,k.length)+m,k=k.slice(0,-y));m=0<t?q["."]+(m.length>
t?m.slice(0,t):F(m,t)):"";t=k.length-1;q=q[","];for(y="";0<=t;){if(0===A||A>t)return k.slice(0,t+1)+(y.length?q+y+m:m);y=k.slice(t-A+1,t+1)+(y.length?q+y:"");t-=A;z<v.length&&(A=v[z],z++)}return k.slice(0,t+1)+q+y+m};l=function(k,t,q){if(!isFinite(k))return Infinity===k?q.numberFormat.positiveInfinity:-Infinity===k?q.numberFormat.negativeInfinity:q.numberFormat.NaN;if(!t||"i"===t)return q.name.length?k.toLocaleString():k.toString();t=t||"D";q=q.numberFormat;var v=Math.abs(k),A=-1;1<t.length&&(A=parseInt(t.slice(1),
10));var z=t.charAt(0).toUpperCase();switch(z){case "D":t="n";v=E(v);-1!==A&&(v=F(""+v,A,!0));0>k&&(v="-"+v);break;case "N":var m=q;case "C":m=m||q.currency;case "P":m=m||q.percent;t=0>k?m.pattern[0]:m.pattern[1]||"n";-1===A&&(A=m.decimals);v=e(v*("P"===z?100:1),A,m);break;default:throw"Bad number format specifier: "+z;}k=/n|\$|-|%/g;for(m="";;){A=k.lastIndex;z=k.exec(t);m+=t.slice(A,z?z.index:t.length);if(!z)break;switch(z[0]){case "n":m+=v;break;case "$":m+=q.currency.symbol;break;case "-":/[1-9]/.test(v)&&
(m+=q["-"]);break;case "%":m+=q.percent.symbol}}return m}})();var da=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};var aa=function(e,k){if(!k)return 0;for(var t=e.getTime(),q=0,v=k.length;q<v;q++)if(e=k[q].start,null===e||t>=e)return q;return 0};var ca=function(e,k,t,q){e=e.getFullYear();!q&&k.eras&&(e-=k.eras[t].offset);return e};(function(){var e=function(m,y){if(100>y){var C=new Date,G=aa(C);C=ca(C,m,G);m=m.twoDigitYearMax;m="string"===
typeof m?(new Date).getFullYear()%100+parseInt(m,10):m;y+=C-C%100;y>m&&(y-=100)}return y};var k=function(m,y,C){var G=m.days,N=m._upperDays;N||(m._upperDays=N=[z(G.names),z(G.namesAbbr),z(G.namesShort)]);y=A(y);C?(m=h(N[1],y),-1===m&&(m=h(N[2],y))):m=h(N[0],y);return m};var t=function(m,y,C){var G=m.months,N=m.monthsGenitive||m.months,L=m._upperMonths,O=m._upperMonthsGen;L||(m._upperMonths=L=[z(G.names),z(G.namesAbbr)],m._upperMonthsGen=O=[z(N.names),z(N.namesAbbr)]);y=A(y);m=h(C?L[1]:L[0],y);0>m&&
(m=h(C?O[1]:O[0],y));return m};var q=function(m,y){var C=m._parseRegExp;if(C){var G=C[y];if(G)return G}else m._parseRegExp=C={};m=X(m,y).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");G=["^"];for(var N=[],L=0,O=0,S=da(),H;null!==(H=S.exec(m));){var K=m.slice(L,H.index);L=S.lastIndex;O+=J(K,G);if(O%2)G.push(H[0]);else{K=H[0];var V=K.length;switch(K){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":K="(\\D+)";break;case "tt":case "t":K="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":K=
"(\\d{"+V+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":K="(\\d\\d?)";break;case "zzz":K="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":K="([+-]?\\d\\d?)";break;case "/":K="(\\/)";break;default:throw"Invalid date format pattern '"+K+"'.";}K&&G.push(K);N.push(H[0])}}J(m.slice(L),G);G.push("$");m={regExp:G.join("").replace(/\s+/g,"\\s+"),groups:N};return C[y]=m};var v=function(m,y,C){return m<y||m>C};
var A=function(m){return m.split("\u00a0").join(" ").toUpperCase()};var z=function(m){for(var y=[],C=0,G=m.length;C<G;C++)y[C]=A(m[C]);return y};f=function(m,y,C){m=I(m);C=C.calendar;y=q(C,y);var G=(new RegExp(y.regExp)).exec(m);if(null===G)return null;var N=y.groups,L=y=m=null,O=null,S=null,H=0,K=0,V=0,W=0;var T=null;for(var Q=!1,M=0,ea=N.length;M<ea;M++){var P=G[M+1];if(P){var R=N[M],Y=R.length,U=parseInt(P,10);switch(R){case "dd":case "d":O=U;if(v(O,1,31))return null;break;case "MMM":case "MMMM":L=
t(C,P,3===Y);if(v(L,0,11))return null;break;case "M":case "MM":L=U-1;if(v(L,0,11))return null;break;case "y":case "yy":case "yyyy":y=4>Y?e(C,U):U;if(v(y,0,9999))return null;break;case "h":case "hh":H=U;12===H&&(H=0);if(v(H,0,11))return null;break;case "H":case "HH":H=U;if(v(H,0,23))return null;break;case "m":case "mm":K=U;if(v(K,0,59))return null;break;case "s":case "ss":V=U;if(v(V,0,59))return null;break;case "tt":case "t":Q=C.PM&&(P===C.PM[0]||P===C.PM[1]||P===C.PM[2]);if(!Q&&(!C.AM||P!==C.AM[0]&&
P!==C.AM[1]&&P!==C.AM[2]))return null;break;case "f":case "ff":case "fff":W=U*Math.pow(10,3-Y);if(v(W,0,999))return null;break;case "ddd":case "dddd":S=k(C,P,3===Y);if(v(S,0,6))return null;break;case "zzz":R=P.split(/:/);if(2!==R.length)return null;T=parseInt(R[0],10);if(v(T,-12,13))return null;R=parseInt(R[1],10);if(v(R,0,59))return null;T=60*T+(D(P,"-")?-R:R);break;case "z":case "zz":T=U;if(v(T,-12,13))return null;T*=60;break;case "g":case "gg":if(!P||!C.eras)return null;P=I(P.toLowerCase());R=
0;for(Y=C.eras.length;R<Y;R++)if(P===C.eras[R].name.toLowerCase()){m=R;break}if(null===m)return null}}}G=new Date;N=(M=C.convert)?M.fromGregorian(G)[0]:G.getFullYear();null===y?y=N:C.eras&&(y+=C.eras[m||0].offset);null===L&&(L=0);null===O&&(O=1);if(M){if(G=M.toGregorian(y,L,O),null===G)return null}else if(G.setFullYear(y,L,O),G.getDate()!==O||null!==S&&G.getDay()!==S)return null;Q&&12>H&&(H+=12);G.setHours(H,K,V,W);null!==T&&(C=G.getMinutes()-(T+G.getTimezoneOffset()),G.setHours(G.getHours()+parseInt(C/
60,10),C%60));return G}})();var ba=function(e,k,t){var q=k["-"];k=k["+"];var v;switch(t){case "n -":q=" "+q,k=" "+k;case "n-":r(e,q)?v=["-",e.substr(0,e.length-q.length)]:r(e,k)&&(v=["+",e.substr(0,e.length-k.length)]);break;case "- n":q+=" ",k+=" ";case "-n":D(e,q)?v=["-",e.substr(q.length)]:D(e,k)&&(v=["+",e.substr(k.length)]);break;case "(n)":D(e,"(")&&r(e,")")&&(v=["-",e.substr(1,e.length-2)])}return v||["",e]};a.prototype.findClosestCulture=function(e){return a.findClosestCulture.call(this,e)};
a.prototype.format=function(e,k,t){return a.format.call(this,e,k,t)};a.prototype.localize=function(e,k){return a.localize.call(this,e,k)};a.prototype.parseInt=function(e,k,t){return a.parseInt.call(this,e,k,t)};a.prototype.parseFloat=function(e,k,t){return a.parseFloat.call(this,e,k,t)};a.prototype.culture=function(e){return a.culture.call(this,e)};a.addCultureInfo=function(e,k,t){var q=!1;"string"!==typeof e?(t=e,e=this.culture().name,k=this.cultures[e]):"string"!==typeof k?(t=k,q=null==this.cultures[e],
k=this.cultures[e]||this.cultures["default"]):(q=!0,k=this.cultures[k]);this.cultures[e]=w(!0,{},k,t);q&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)};a.findClosestCulture=function(e){var k;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];"string"===typeof e&&(e=e.split(","));if(x(e)){var t=this.cultures,q=e,v,A=q.length,z=[];for(v=0;v<A;v++){e=I(q[v]);e=e.split(";");var m=I(e[0]);1===e.length?e=1:(e=I(e[1]),0===e.indexOf("q=")?(e=e.substr(2),
e=parseFloat(e),e=isNaN(e)?0:e):e=1);z.push({lang:m,pri:e})}z.sort(function(C,G){return C.pri<G.pri?1:C.pri>G.pri?-1:0});for(v=0;v<A;v++)if(m=z[v].lang,k=t[m])return k;for(v=0;v<A;v++){m=z[v].lang;do{q=m.lastIndexOf("-");if(-1===q)break;m=m.substr(0,q);if(k=t[m])return k}while(1)}for(v=0;v<A;v++){m=z[v].lang;for(var y in t)if(q=t[y],q.language==m)return q}}else if("object"===typeof e)return e;return k||null};a.format=function(e,k,t){t=this.findClosestCulture(t);e instanceof Date?e=Z(e,k,t):"number"===
typeof e&&(e=l(e,k,t));return e};a.localize=function(e,k){return this.findClosestCulture(k).messages[e]||this.cultures["default"].messages[e]};a.parseDate=function(e,k,t){t=this.findClosestCulture(t);var q;if(k){if("string"===typeof k&&(k=[k]),k.length){var v=0;for(var A=k.length;v<A;v++){var z=k[v];if(z&&(q=f(e,z,t)))break}}}else for(v in k=t.calendar.patterns,k)if(q=f(e,k[v],t))break;return q||null};a.parseInt=function(e,k,t){return E(a.parseFloat(e,k,t))};a.parseFloat=function(e,k,t){"number"!==
typeof k&&(t=k,k=10);var q=this.findClosestCulture(t);t=NaN;var v=q.numberFormat;-1<e.indexOf(q.numberFormat.currency.symbol)&&(e=e.replace(q.numberFormat.currency.symbol,""),e=e.replace(q.numberFormat.currency["."],q.numberFormat["."]));e=I(e);if(d.test(e))t=parseFloat(e);else if(!k&&b.test(e))t=parseInt(e,16);else{q=ba(e,v,v.pattern[0]);k=q[0];q=q[1];""===k&&"(n)"!==v.pattern[0]&&(q=ba(e,v,"(n)"),k=q[0],q=q[1]);""===k&&"-n"!==v.pattern[0]&&(q=ba(e,v,"-n"),k=q[0],q=q[1]);k=k||"+";e=q.indexOf("e");
0>e&&(e=q.indexOf("E"));if(0>e){var A=q;e=null}else A=q.substr(0,e),e=q.substr(e+1);var z=v["."],m=A.indexOf(z);0>m?(q=A,A=null):(q=A.substr(0,m),A=A.substr(m+z.length));z=v[","];q=q.split(z).join("");m=z.replace(/\u00A0/g," ");z!==m&&(q=q.split(m).join(""));k+=q;null!==A&&(k+="."+A);null!==e&&(v=ba(e,v,"-n"),k+="e"+(v[0]||"+")+v[1]);g.test(k)&&(t=parseFloat(k))}return t};a.culture=function(e){"undefined"!==typeof e&&(this.cultureSelector=e);return this.findClosestCulture(e)||this.cultures["default"]}})(this);
(function(){var c=function(f){f=f.toLowerCase();f=f.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");f=f.replace(RegExp("\u00e6","g"),"ae");f=f.replace(RegExp("\u00e7","g"),"c");f=f.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb]","g"),"e");f=f.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");f=f.replace(RegExp("\u00f1","g"),"n");f=f.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6]","g"),"o");f=f.replace(RegExp("\u009c","g"),"oe");f=f.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc]","g"),
"u");return f=f.replace(RegExp("[\u00fd\u00ff]","g"),"y")};window.string_ci_ai=c;window.slugify=function(f){f=c(f);f=f.replace(/-/g," ").replace(/[^a-z0-9\s]/g,"");f=f.trim();return f.replace(/\s+/g,"-")};var n=function(f,a,b,d,g){b=b||"value";d=d||"";g=g||"";return function(p,h){if(a.term&&(new RegExp(d+f.ui.autocomplete.escapeRegex(a.term)+g,"i")).test(p.term)&&a.content&&13>a.content.length){var r=new RegExp(d+f.ui.autocomplete.escapeRegex(p.term)+g,"i");h(f.grep(a.content,function(w){return r.test(c(w[b]))}));
return!0}return!1}};window.default_cache_search_fn=n;var l=function(f,a,b,d,g){b=b||{};g=g||n(f,b,d||"value");return function(p,h,r){p.term=c(p.term);b.term===p.term&&b.content?h(b.content):g(p,h)||f.ajax({url:r||a,dataType:"json",data:p,cache:!1,success:function(w){b.term=p.term;b.content=w;h(w)}})}};window.create_caching_source_fn=l;window.init_community_autocomplete=function(f,a,b,d,g){var p={};g&&=f(g);g&&!g.length&&(g=null);var h=f("#"+a).autocomplete({focus:function(r,w){return!1},select:function(r,
w){h.data({chkid:w.item.chkid,display:w.item.value})},source:l(f,b,p),minLength:d}).keypress(function(r){"13"==r.keyCode&&(r.preventDefault(),h.autocomplete("close"))});g&&(h.parents("form").on("submit",function(){var r=h.val();if(h.data("display")===r)g.val(h.data("chkid"));else{if(p.content){var w=c(r);r=f.grep(p.content,function(x){return c(x.value)===w});if(1===r.length){g.val(r[0].chkid);h.data({chkid:r[0].chkid,display:r[0].value}).val(r[0].value);return}}g.val("")}}),cache_register_onbeforerestorevalues(function(r){h.length&&
(r=r["autocomplete_data_"+h[0].id])&&h.data(r)}),cache_register_onbeforeunload(function(r){if(h.length){var w=h.data();w.display&&w.chkid&&(r["autocomplete_data_"+h[0].id]={display:w.display,chkid:w.chkid})}}))}})();
(function(){window.entryform=window.entryform||{};window.create_checklist_onbefore_fns=function(l,f,a,b){cache_register_onbeforeunload(function(d){d[f+"_added"]=a});cache_register_onbeforerestorevalues(function(d){(d=d[f+"_added"])&&l.each(d,function(g,p){b(p.chkid,p.display,"")})})};window.basic_chk_add_html=function(l,f){return function(a,b){a=l("<tr>").append(l("<td>").append(l("<input>").prop({id:f+"_ID_"+a,type:"checkbox",checked:!0,defaultChecked:!0,name:f+"_ID",value:a})).append(document.createTextNode(" "+
b))).append(l("<td>").append(l("<input>").prop({id:f+"_NOTES_"+a,name:f+"_NOTES_"+a,size:entryform.chk_notes_size,maxlength:entryform.chk_notes_maxlen})));l("#"+f+"_existing_add_table").append(a);return a.find('input[type="checkbox"]')[0]}};var c={},n=function(l){$("#NEW_"+l).autocomplete(c[l])};window.init_autocomplete_checklist=function(l,f){var a=f.field;if(!c[a]){var b=f.source;f.minLength=f.minLength||1;f.delay=f.delay||300;f.add_new_html=f.add_new_html||basic_chk_add_html(l,a);f.match_prop=
f.match_prop||"value";f.txt_not_found=f.txt_not_found||"Not Found";var d=l(f.delegate_root||document),g=f.added_values||[],p=function(u,B,D){var I=document.getElementById(a+"_ID_"+u);I?(I.checked=!0,f.after_add_new_value&&f.after_add_new_value.call(I)):(g.push({chkid:u,display:B,label:D}),u=f.add_new_html(u,B,D),f.after_add_new_value&&f.after_add_new_value.call(u))};create_checklist_onbefore_fns(l,a,g,p);var h={},r=function(u){l("#NEW_"+a).data({chkid:"",display:"",label:""}).prop("value","").focus();
l("#"+a+"_error").hide("slow",function(){l(this).remove()})},w=null,x=null;(function(u){l.isArray(u)?(x=function(B,D){var I=new RegExp(l.ui.autocomplete.escapeRegex(string_ci_ai(B.term)));D(l.grep(u,function(E){return I.test(string_ci_ai(E[f.match_prop]||E))}))},w=function(B,D){var I=string_ci_ai(B);B=l.grep(u,function(E){return string_ci_ai(string_ci_ai(E[f.match_prop]||E))===I});if(1===B.length)return D(B[0]),!0;D()}):"string"===typeof u?(x=create_caching_source_fn(l,u,h,f.match_prop),w=function(B,
D,I){var E=string_ci_ai(B);if(h.content){var F=l.grep(h.content,function(J){return string_ci_ai(J[f.match_prop])===E});if(1===F.length){D(F[0]);return}}I||string_ci_ai(h.term||"")===E?D():x({term:E},function(J){w(B,D,!0)})}):(x=u,w=f.look_for_fn)})(b);d.on("click","#add_"+a,function(u){u=l("#NEW_"+a);var B=u.data("chkid"),D=u.data("display"),I=u.data("label"),E=u[0].value;if(B&&D&&D==E)return p(B,D,I),r(),!1;w(u[0].value,function(F){F?(p(F.chkid,F.value,F.label),r()):0===l("#"+a+"_error").length&&
(l("#"+a+"_new_input_table").before(l("<p>").hide().addClass("Alert").prop("id",a+"_error").append(document.createTextNode(f.txt_not_found))),l("#"+a+"_error").show("slow"))});return!1});c[a]={focus:function(u,B){return!1},source:x,minLength:f.minLength,delay:f.delay,select:function(u,B){l("#NEW_"+a).data({chkid:B.item.chkid,display:B.item.value,label:B.item.label})}};d.on("keypress","#NEW_"+a,function(u){"13"==u.keyCode&&(u.preventDefault(),l("#NEW_"+a).autocomplete("close"),l("#add_"+a).trigger("click"))})}n(a)};
window.init_languages=function(l,f){var a=null,b=null,d=l("#LN_existing_add_table"),g=function(){var p=l(this).parents(".language-entry").find(".language-details-notes");this.checked?p.slideDown():p.slideUp()};init_autocomplete_checklist(l,{field:"LN",source:entryform.languages_source,txt_not_found:f,after_add_new_value:g,add_new_html:function(p,h){null===a&&(a=l("#add_LN"),b=a.data("newTemplate"));p=b.replace(/LANGNAMELANGNAME/g,h).replace(/IDIDID/g,p);d.append(p)}});d.on("change",".language-primary",
g).uitooltip({items:"[data-help-text]",content:function(){return'<div class="language-help-text">'+l(this).data("helpText")+"</div>"},position:{my:"center bottom-20",at:"center top",using:function(p,h){l(this).css(p);l("<div>").addClass("arrow").addClass(h.vertical).addClass(h.horizontal).appendTo(this)}}});window.languages_check_state=g}})();
(function(){var c=jQuery;window.configure_entry_form_button=function(){c("#SUBMIT_BUTTON").click(function(n){n=c("#SUBMIT_BUTTON");n.prop("disabled")||(n.prop("disabled",!0),setTimeout(function(){c("#EntryForm").submit()},1))});c(document).bind("keydown",function(n){if(n.ctrlKey&&"s"===String.fromCharCode(n.which).toLowerCase())return setTimeout(function(){c("#SUBMIT_BUTTON").click()},1),n.preventDefault(),n.stopPropagation(),!1});c("#SUBMIT_BUTTON").prop("disabled",!1)};window.configure_feedback_submit_button=
function(){var n=c("#SUBMIT_BUTTON").prop("value");c("#SUBMIT_BUTTON").replaceWith(c('<input type="button" class="btn btn-default" id="SUBMIT_BUTTON">').prop("value",n));c("#EntryForm").submit(function(){var l=validateForm();!1===l&&c("#SUBMIT_BUTTON").prop("disabled",!1);return l})}})();
(function(){window.only_items_chk_add_html=function(c,n,l){return function(f,a){l&&l();c("#"+n+"_existing_add_container").append(c("<label>").append(c("<input>").prop({id:n+"_ID_"+f,type:"checkbox",checked:!0,defaultChecked:!0,name:n+"_ID",value:f})).append("&nbsp;").append(document.createTextNode(a))).append(" ; ")}};window.init_check_for_autochecklist=function(c){var n=jQuery,l=function(){return n("<li>").append(n("<span>").data("jump_location",this.id).addClass("UnaddedChecklistJump SimulateLink").append(n(this).parentsUntil("td[data-field-display-name]").parent().data("fieldDisplayName")))},
f=n("input[id^=NEW_]");f.length&&(n("#EntryForm").submit(function(a){var b=f.map(function(){return this.value?this:null});if(b.length&&!a.isDefaultPrevented()){if(!confirm(c)){a.preventDefault();n("#SUBMIT_BUTTON").prop("disabled",!1);a=n("#unadded_checklist_error_box");var d=n("#unadded_checklist_error_list");var g=a.is(":visible");g&&d.children("ul:first").hide("slow",function(){n(this).remove()});var p=n("<ul>");g&&p.hide();d.append(p);n.each(b.map(l),function(){p.append(this)});g?p.show("slow"):
a.show("slow")}}else a.isDefaultPrevented()&&(a=n("#unadded_checklist_error_box"),d=n("#unadded_checklist_error_list"),a.hide("slow",function(){d.children().remove()}))}),n(document).on("click",".UnaddedChecklistJump",function(){var a=n(this).data("jump_location");(a=document.getElementById(a))&&a.scrollIntoView(!0)}))};window.init_entryform_items=function(c,n,l){var f=jQuery;c.each(function(){var a=null,b=this,d=f(b),g=1,p=d.find(".EntryFormItemContainerIds")[0];if(p){var h=d.data("maxAdd");h&&=
parseInt(h,10);var r=[];p.value&&(r=f.map(p.value.split(","),function(E){return 0===E.indexOf("NEW")&&0!==E.indexOf("NEWFB")?null:E}));var w={},x=function(){d.find(".EntryFormItemBox").each(function(E){f(this).find(".EntryFormItemCount").text(E+1)})},u=function(E){if(h){var F=d.find(".EntryFormItemContent:hidden").parent().find("button.EntryFormItemDelete").prop("disabled",!E);I.prop("disabled",!E);E?(F.removeClass("ui-state-disabled"),I.removeClass("ui-state-disabled")):(F.addClass("ui-state-disabled"),
I.addClass("ui-state-disabled"))}},B=function(){var E=0,F;for(F in w)E++;return r.length-E},D=function(E){var F=0;if(h&&!E&&(F=B(),F>=h)){alert("over");return}var J=d.data("addTmpl");r.push("NEW"+g++);p.value=r.join(",");J=f(J.replace(/\[COUNT\]/g,r.length).replace(/\[ID\]/g,r[r.length-1]));J.find(".DatePicker").autodatepicker();J.find(".Province").combobox({source:window.cioc_province_source});entryform.service_titles&&J.find(".ServiceTitleField").combobox({source:entryform.service_titles});d.append(J);
a&&(a.sortable("refresh"),x());h&&!E&&F+1===h&&u(!1)},I=d.parent().find(".EntryFormItemAdd").click(function(){D(!1)});d.on("click","button.EntryFormItemDelete",function(){var E=this,F=f(this).parents(".EntryFormItemBox").find(".EntryFormItemContent"),J=this.id.split("_");J=J[J.length-2];if(F.is(":visible"))F.hide("slow",function(){w[J]=get_form_values(F);f(E).text(l);F.find("input,select,textarea").each(function(){"input"!==this.nodeName.toLowerCase()||"checkbox"!==this.type&&"radio"!==this.type?
"select"===this.nodeName.toLowerCase()?f(this).find("option").each(function(){this.selected=!1}):this.value="":this.checked=!1});u(!0)});else{var X=0;if(h&&(X=B(),X>=h)){alert("over");return}var Z=w[J];Z&&(delete w[J],restore_form_values(F,Z),F.show("slow",function(){f(E).text(n)}),h&&X+1===h&&u(!1))}});d.hasClass("sortable")&&(a=d.sortable({items:".EntryFormItemBox"}),a.bind("sortstart",function(E,F){F.helper.bgiframe();d.addClass("sorting")}),a.bind("sortstop",function(){var E=a.sortable("toArray");
r=f.map(E,function(F){F=F.split("_");return F[F.length-2]});p.value=r.join(",");setTimeout(function(){d.removeClass("sorting");x()},1)}));cache_register_onbeforeunload(function(E){E[b.id+"_ids"]=r;E[b.id+"_deletes"]=w;a&&(E[b.id+"_order"]=a.sortable("toArray"))});cache_register_onbeforerestorevalues(function(E){E[b.id+"_ids"]&&f.each(E[b.id+"_ids"],function(F,J){0===J.indexOf("NEW")&&D(!0)});E[b.id+"_deletes"]&&(w=E[b.id+"_deletes"],d.find(".EntryFormItemContent").each(function(){var F=this.id.split("_");
F=F[F.length-2];w[F]&&f(this).hide().parent().find("button.EntryFormItemDelete").text(l)}));h&&B()>=h&&u(!1);a&&(E=E[b.id+"_order"])&&(E.reverse(),f.each(E,function(F,J){f("#"+J).detach().prependTo(d)}),a.sortable("refresh"),x())})}})};window.init_schedule=function(c){var n=function(){var l=c(this).parents(".EntryFormItemBox"),f=this.value;"0"===f?l.find(".recurs-ui").hide():"1"==f?(l.find(".repeat-every-ui, .repeats-on-ui, .recurs-week-label").show(),l.find(".repeat-week-of-month-ui, .repeat-day-of-month-ui, .recurs-month-label").hide()):
"2"==f?(l.find(".repeat-every-ui, .repeat-day-of-month-ui, .recurs-month-label").show(),l.find(".repeat-week-of-month-ui, .repeats-on-ui, .recurs-week-label").hide()):(l.find(".repeat-week-of-month-ui, .repeats-on-ui, .recurs-month-label").show(),l.find(".repeat-every-ui, .repeat-day-of-month-ui, .recurs-week-label").hide())};c("#ScheduleEditArea").on("change",".recur-type-selector",n).on("click",".schedule-ui-accept-feedback",function(l){var f=c(this);l=f.parents(".EntryFormItemBox");f=f.data("schedule");
var a=l.find(".recur-type-selector");restore_form_values(l,f);n.call(a[0]);return!1}).find(".recur-type-selector").each(n)}})();
(function(){var c=jQuery,n=function(l,f){var a=c("#CM_existing_add_container"),b=a.data("addonLabel");a.append(c("<div>").addClass("row-border-bottom").append(c("<div>").addClass("row form-group").append(c("<label>").addClass("control-label control-label-left col-md-4").prop({for:"CM_ID_"+l}).append(c("<input>").prop({id:"CM_ID_"+l,type:"checkbox",checked:!0,defaultChecked:!0,name:"CM_ID",value:l})).append(document.createTextNode(" "+f))).append(c("<div>").addClass("col-md-8 form-inline").append(c("<div>").addClass("input-group").append(c("<input>").addClass("form-control").prop({id:"CM_NUM_NEEDED_"+
l,name:"CM_NUM_NEEDED_"+l,size:3,maxlength:3})).append(c("<span>").addClass("input-group-addon").text(b))))))};window.init_num_needed=function(l){init_autocomplete_checklist(c,{field:"CM",source:entryform.community_complete_url,add_new_html:n,minLength:3,txt_not_found:l})}})();
(function(){var c=jQuery;window.init_interests=function(n,l){var f=[],a=only_items_chk_add_html(c,"AI");init_autocomplete_checklist(c,{field:"AI",source:l,add_new_html:a,added_values:f,txt_not_found:n});var b=function(g){var p=c("#AreaOfInterestList");p.length&&p.prop("id","AreaOfInterestListOld");c("<ul>").hide().insertAfter(d).prop("id","AreaOfInterestList").append(c(c.map(g,function(h,r){return c("<li>").append(c("<label>").append(c("<input>").prop({type:"checkbox",value:h.chkid}).data("cioc_chk_display",
h.value)).append(document.createTextNode(" "+h.value)))[0]}))).show("slow");p.length&&p.hide("slow",function(){p.remove()})};var d=c("#InterestGroup").change(function(){c.getJSON(l,{IGID:d.prop("value")},b)});c("#FIELD_INTERESTS").next().on("click","#AreaOfInterestList input:checkbox",{added_values:f,add_item_fn:a},function(g){var p=c(this),h=document.getElementById("AI_ID_"+this.value);h?h.checked=!0:(h=p.data("cioc_chk_display"),g.data.added_values.push({chkid:this.value,display:h}),g.data.add_item_fn(this.value,
h));p.parent().parent().hide("slow",function(){p.remove()})})}})();
